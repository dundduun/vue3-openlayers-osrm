(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["vue3-openlayers"]=e(require("vue")):t["vue3-openlayers"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="fb15")}({"00ee":function(t,e,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},"01d4":function(t,e,n){"use strict";e["a"]={CHANGE:"change",ERROR:"error",BLUR:"blur",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",FOCUS:"focus",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",RESIZE:"resize",TOUCHMOVE:"touchmove",WHEEL:"wheel"}},"0366":function(t,e,n){var r=n("1c0b");t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},"0538":function(t,e,n){"use strict";var r=n("1c0b"),o=n("861d"),i=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},"057f":function(t,e,n){var r=n("fc6a"),o=n("241c").f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return o(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?s(t):o(r(t))}},"06cf":function(t,e,n){var r=n("83ab"),o=n("d1e7"),i=n("5c6c"),a=n("fc6a"),s=n("c04e"),u=n("5135"),l=n("0cfb"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=s(e,!0),l)try{return c(t,e)}catch(n){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},"07ac":function(t,e,n){var r=n("23e7"),o=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},"0999":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"b",(function(){return a})),n.d(e,"g",(function(){return s})),n.d(e,"e",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"f",(function(){return c}));var r=n("617d");function o(t,e,n,o){var i=n&&n.length?n.shift():r["g"]?new OffscreenCanvas(t||300,e||300):document.createElement("canvas");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d",o)}function i(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10),e}function a(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10),e}function s(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function u(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function l(t){while(t.lastChild)t.removeChild(t.lastChild)}function c(t,e){for(var n=t.childNodes,r=0;1;++r){var o=n[r],i=e[r];if(!o&&!i)break;o!==i&&(o?i?t.insertBefore(i,o):(t.removeChild(o),--r):t.appendChild(i))}}},"0cfb":function(t,e,n){var r=n("83ab"),o=n("d039"),i=n("cc12");t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0ec0":function(t,e,n){"use strict";var r=n("da5c"),o=n("cef7"),i=n("57cb"),a=n("38f3"),s=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),u=function(t){function e(e){var n=t.call(this)||this;return n.eventTarget_=e,n.pendingRemovals_=null,n.dispatching_=null,n.listeners_=null,n}return s(e,t),e.prototype.addEventListener=function(t,e){if(t&&e){var n=this.listeners_||(this.listeners_={}),r=n[t]||(n[t]=[]);-1===r.indexOf(e)&&r.push(e)}},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new o["a"](t):t,n=e.type;e.target||(e.target=this.eventTarget_||this);var r,a=this.listeners_&&this.listeners_[n];if(a){var s=this.dispatching_||(this.dispatching_={}),u=this.pendingRemovals_||(this.pendingRemovals_={});n in s||(s[n]=0,u[n]=0),++s[n];for(var l=0,c=a.length;l<c;++l)if(r="handleEvent"in a[l]?a[l].handleEvent(e):a[l].call(this,e),!1===r||e.propagationStopped){r=!1;break}if(--s[n],0===s[n]){var h=u[n];delete u[n];while(h--)this.removeEventListener(n,i["c"]);delete s[n]}return r}},e.prototype.disposeInternal=function(){this.listeners_&&Object(a["b"])(this.listeners_)},e.prototype.getListeners=function(t){return this.listeners_&&this.listeners_[t]||void 0},e.prototype.hasListener=function(t){return!!this.listeners_&&(t?t in this.listeners_:Object.keys(this.listeners_).length>0)},e.prototype.removeEventListener=function(t,e){var n=this.listeners_&&this.listeners_[t];if(n){var r=n.indexOf(e);-1!==r&&(this.pendingRemovals_&&t in this.pendingRemovals_?(n[r]=i["c"],++this.pendingRemovals_[t]):(n.splice(r,1),0===n.length&&delete this.listeners_[t]))}},e}(r["a"]);e["a"]=u},1300:function(t,e,n){"use strict";function r(){return function(){throw new Error("Unimplemented abstract method.")}()}n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return a}));var o=0;function i(t){return t.ol_uid||(t.ol_uid=String(++o))}var a="6.6.1"},"159b":function(t,e,n){var r=n("da84"),o=n("fdbc"),i=n("17c2"),a=n("9112");for(var s in o){var u=r[s],l=u&&u.prototype;if(l&&l.forEach!==i)try{a(l,"forEach",i)}catch(c){l.forEach=i}}},"17c2":function(t,e,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=o("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},"1be4":function(t,e,n){var r=n("d066");t.exports=r("document","documentElement")},"1c0b":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,e,n){var r=n("b622"),o=r("iterator"),i=!1;try{var a=0,s={next:function(){return{done:!!a++}},return:function(){i=!0}};s[o]=function(){return this},Array.from(s,(function(){throw 2}))}catch(u){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},t(r)}catch(u){}return n}},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,n){var r=n("d039"),o=n("b622"),i=n("2d00"),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[],n=e.constructor={};return n[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e8d":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a}));var r=n("38f3");function o(t,e,n,r,o){if(r&&r!==t&&(n=n.bind(r)),o){var i=n;n=function(){t.removeEventListener(e,n),i.apply(this,arguments)}}var a={target:t,type:e,listener:n};return t.addEventListener(e,n),a}function i(t,e,n,r){return o(t,e,n,r,!0)}function a(t){t&&t.target&&(t.target.removeEventListener(t.type,t.listener),Object(r["b"])(t))}},"23cb":function(t,e,n){var r=n("a691"),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},"23e7":function(t,e,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),a=n("6eeb"),s=n("ce4e"),u=n("e893"),l=n("94ca");t.exports=function(t,e){var n,c,h,p,f,d,g=t.target,y=t.global,v=t.stat;if(c=y?r:v?r[g]||s(g,{}):(r[g]||{}).prototype,c)for(h in e){if(f=e[h],t.noTargetGet?(d=o(c,h),p=d&&d.value):p=c[h],n=l(y?h:g+(v?".":"#")+h,t.forced),!n&&void 0!==p){if(typeof f===typeof p)continue;u(f,p)}(t.sham||p&&p.sham)&&i(f,"sham",!0),a(c,h,f,t)}}},"241c":function(t,e,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},2532:function(t,e,n){"use strict";var r=n("23e7"),o=n("5a34"),i=n("1d80"),a=n("ab13");r({target:"String",proto:!0,forced:!a("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"25a5":function(t,e,n){!function(e,n){t.exports=n()}(0,(function(){"use strict";function t(t,r,o,i,a){!function t(n,r,o,i,a){for(;i>o;){if(i-o>600){var s=i-o+1,u=r-o+1,l=Math.log(s),c=.5*Math.exp(2*l/3),h=.5*Math.sqrt(l*c*(s-c)/s)*(u-s/2<0?-1:1),p=Math.max(o,Math.floor(r-u*c/s+h)),f=Math.min(i,Math.floor(r+(s-u)*c/s+h));t(n,r,p,f,a)}var d=n[r],g=o,y=i;for(e(n,o,r),a(n[i],d)>0&&e(n,o,i);g<y;){for(e(n,g,y),g++,y--;a(n[g],d)<0;)g++;for(;a(n[y],d)>0;)y--}0===a(n[o],d)?e(n,o,y):e(n,++y,i),y<=r&&(o=y+1),r<=y&&(i=y-1)}}(t,r,o||0,i||t.length-1,a||n)}function e(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function n(t,e){return t<e?-1:t>e?1:0}var r=function(t){void 0===t&&(t=9),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function o(t,e,n){if(!n)return e.indexOf(t);for(var r=0;r<e.length;r++)if(n(t,e[r]))return r;return-1}function i(t,e){a(t,0,t.children.length,e,t)}function a(t,e,n,r,o){o||(o=d(null)),o.minX=1/0,o.minY=1/0,o.maxX=-1/0,o.maxY=-1/0;for(var i=e;i<n;i++){var a=t.children[i];s(o,t.leaf?r(a):a)}return o}function s(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function u(t,e){return t.minX-e.minX}function l(t,e){return t.minY-e.minY}function c(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function h(t){return t.maxX-t.minX+(t.maxY-t.minY)}function p(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function f(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function d(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function g(e,n,r,o,i){for(var a=[n,r];a.length;)if(!((r=a.pop())-(n=a.pop())<=o)){var s=n+Math.ceil((r-n)/o/2)*o;t(e,s,n,r,i),a.push(n,s,s,r)}}return r.prototype.all=function(){return this._all(this.data,[])},r.prototype.search=function(t){var e=this.data,n=[];if(!f(t,e))return n;for(var r=this.toBBox,o=[];e;){for(var i=0;i<e.children.length;i++){var a=e.children[i],s=e.leaf?r(a):a;f(t,s)&&(e.leaf?n.push(a):p(t,s)?this._all(a,n):o.push(a))}e=o.pop()}return n},r.prototype.collides=function(t){var e=this.data;if(!f(t,e))return!1;for(var n=[];e;){for(var r=0;r<e.children.length;r++){var o=e.children[r],i=e.leaf?this.toBBox(o):o;if(f(t,i)){if(e.leaf||p(t,i))return!0;n.push(o)}}e=n.pop()}return!1},r.prototype.load=function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0;e<t.length;e++)this.insert(t[e]);return this}var n=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var r=this.data;this.data=n,n=r}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this},r.prototype.insert=function(t){return t&&this._insert(t,this.data.height-1),this},r.prototype.clear=function(){return this.data=d([]),this},r.prototype.remove=function(t,e){if(!t)return this;for(var n,r,i,a=this.data,s=this.toBBox(t),u=[],l=[];a||u.length;){if(a||(a=u.pop(),r=u[u.length-1],n=l.pop(),i=!0),a.leaf){var c=o(t,a.children,e);if(-1!==c)return a.children.splice(c,1),u.push(a),this._condense(u),this}i||a.leaf||!p(a,s)?r?(n++,a=r.children[n],i=!1):a=null:(u.push(a),l.push(n),n=0,r=a,a=a.children[0])}return this},r.prototype.toBBox=function(t){return t},r.prototype.compareMinX=function(t,e){return t.minX-e.minX},r.prototype.compareMinY=function(t,e){return t.minY-e.minY},r.prototype.toJSON=function(){return this.data},r.prototype.fromJSON=function(t){return this.data=t,this},r.prototype._all=function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},r.prototype._build=function(t,e,n,r){var o,a=n-e+1,s=this._maxEntries;if(a<=s)return i(o=d(t.slice(e,n+1)),this.toBBox),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),(o=d([])).leaf=!1,o.height=r;var u=Math.ceil(a/s),l=u*Math.ceil(Math.sqrt(s));g(t,e,n,l,this.compareMinX);for(var c=e;c<=n;c+=l){var h=Math.min(c+l-1,n);g(t,c,h,u,this.compareMinY);for(var p=c;p<=h;p+=u){var f=Math.min(p+u-1,h);o.children.push(this._build(t,p,f,r-1))}}return i(o,this.toBBox),o},r.prototype._chooseSubtree=function(t,e,n,r){for(;r.push(e),!e.leaf&&r.length-1!==n;){for(var o=1/0,i=1/0,a=void 0,s=0;s<e.children.length;s++){var u=e.children[s],l=c(u),h=(p=t,f=u,(Math.max(f.maxX,p.maxX)-Math.min(f.minX,p.minX))*(Math.max(f.maxY,p.maxY)-Math.min(f.minY,p.minY))-l);h<i?(i=h,o=l<o?l:o,a=u):h===i&&l<o&&(o=l,a=u)}e=a||e.children[0]}var p,f;return e},r.prototype._insert=function(t,e,n){var r=n?t:this.toBBox(t),o=[],i=this._chooseSubtree(r,this.data,e,o);for(i.children.push(t),s(i,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},r.prototype._split=function(t,e){var n=t[e],r=n.children.length,o=this._minEntries;this._chooseSplitAxis(n,o,r);var a=this._chooseSplitIndex(n,o,r),s=d(n.children.splice(a,n.children.length-a));s.height=n.height,s.leaf=n.leaf,i(n,this.toBBox),i(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},r.prototype._splitRoot=function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.leaf=!1,i(this.data,this.toBBox)},r.prototype._chooseSplitIndex=function(t,e,n){for(var r,o,i,s,u,l,h,p=1/0,f=1/0,d=e;d<=n-e;d++){var g=a(t,0,d,this.toBBox),y=a(t,d,n,this.toBBox),v=(o=g,i=y,s=void 0,u=void 0,l=void 0,h=void 0,s=Math.max(o.minX,i.minX),u=Math.max(o.minY,i.minY),l=Math.min(o.maxX,i.maxX),h=Math.min(o.maxY,i.maxY),Math.max(0,l-s)*Math.max(0,h-u)),_=c(g)+c(y);v<p?(p=v,r=d,f=_<f?_:f):v===p&&_<f&&(f=_,r=d)}return r||n-e},r.prototype._chooseSplitAxis=function(t,e,n){var r=t.leaf?this.compareMinX:u,o=t.leaf?this.compareMinY:l;this._allDistMargin(t,e,n,r)<this._allDistMargin(t,e,n,o)&&t.children.sort(r)},r.prototype._allDistMargin=function(t,e,n,r){t.children.sort(r);for(var o=this.toBBox,i=a(t,0,e,o),u=a(t,n-e,n,o),l=h(i)+h(u),c=e;c<n-e;c++){var p=t.children[c];s(i,t.leaf?o(p):p),l+=h(i)}for(var f=n-e-1;f>=e;f--){var d=t.children[f];s(u,t.leaf?o(d):d),l+=h(u)}return l},r.prototype._adjustParentBBoxes=function(t,e,n){for(var r=n;r>=0;r--)s(e[r],t)},r.prototype._condense=function(t){for(var e=t.length-1,n=void 0;e>=0;e--)0===t[e].children.length?e>0?(n=t[e-1].children).splice(n.indexOf(t[e]),1):this.clear():i(t[e],this.toBBox)},r}))},"2a62":function(t,e,n){var r=n("825a");t.exports=function(t){var e=t["return"];if(void 0!==e)return r(e.call(t)).value}},"2d00":function(t,e,n){var r,o,i=n("da84"),a=n("342f"),s=i.process,u=s&&s.versions,l=u&&u.v8;l?(r=l.split("."),o=r[0]<4?1:r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(o=r[1]))),t.exports=o&&+o},"342f":function(t,e,n){var r=n("d066");t.exports=r("navigator","userAgent")||""},"35a1":function(t,e,n){var r=n("f5df"),o=n("3f8c"),i=n("b622"),a=i("iterator");t.exports=function(t){if(void 0!=t)return t[a]||t["@@iterator"]||o[r(t)]}},"35a7":function(t,e,n){"use strict";n.d(e,"b",(function(){return u}));var r=n("0ec0"),o=n("01d4"),i=n("1e8d"),a=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),s=function(t){function e(){var e=t.call(this)||this;return e.on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return a(e,t),e.prototype.changed=function(){++this.revision_,this.dispatchEvent(o["a"].CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.onInternal=function(t,e){if(Array.isArray(t)){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Object(i["a"])(this,t[o],e);return r}return Object(i["a"])(this,t,e)},e.prototype.onceInternal=function(t,e){var n;if(Array.isArray(t)){var r=t.length;n=new Array(r);for(var o=0;o<r;++o)n[o]=Object(i["b"])(this,t[o],e)}else n=Object(i["b"])(this,t,e);return e.ol_key=n,n},e.prototype.unInternal=function(t,e){var n=e.ol_key;if(n)u(n);else if(Array.isArray(t))for(var r=0,o=t.length;r<o;++r)this.removeEventListener(t[r],e);else this.removeEventListener(t,e)},e}(r["a"]);function u(t){if(Array.isArray(t))for(var e=0,n=t.length;e<n;++e)Object(i["c"])(t[e]);else Object(i["c"])(t)}s.prototype.on,s.prototype.once,s.prototype.un,e["a"]=s},"37e8":function(t,e,n){var r=n("83ab"),o=n("9bf2"),i=n("825a"),a=n("df75");t.exports=r?Object.defineProperties:function(t,e){i(t);var n,r=a(e),s=r.length,u=0;while(s>u)o.f(t,n=r[u++],e[n]);return t}},"38f3":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return a}));var r="function"===typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1,o=arguments.length;r<o;++r){var i=arguments[r];if(void 0!==i&&null!==i)for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])}return n};function o(t){for(var e in t)delete t[e]}var i="function"===typeof Object.values?Object.values:function(t){var e=[];for(var n in t)e.push(t[n]);return e};function a(t){var e;for(e in t)return!1;return!e}},3900:function(t,e,n){"use strict";n.r(e);var r=n("e269"),o=n("592d"),i=n("57cb"),a=n("1e8d"),s=n("0999"),u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e){var n=t.call(this)||this,r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),n.element=r||null,n.target_=null,n.map_=null,n.listenerKeys=[],e.render&&(n.render=e.render),e.target&&n.setTarget(e.target),n}return u(e,t),e.prototype.disposeInternal=function(){Object(s["e"])(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Object(s["e"])(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)Object(a["c"])(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,this.map_){var r=this.target_?this.target_:t.getOverlayContainerStopEvent();r.appendChild(this.element),this.render!==i["c"]&&this.listenerKeys.push(Object(a["a"])(t,o["a"].POSTRENDER,this.render,this)),t.render()}},e.prototype.render=function(t){},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(r["a"]);e["default"]=l},"3bbe":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},"3ca3":function(t,e,n){"use strict";var r=n("6547").charAt,o=n("69f3"),i=n("7dd0"),a="String Iterator",s=o.set,u=o.getterFor(a);i(String,"String",(function(t){s(this,{type:a,string:String(t),index:0})}),(function(){var t,e=u(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},"3f8c":function(t,e){t.exports={}},"428f":function(t,e,n){var r=n("da84");t.exports=r},"44ad":function(t,e,n){var r=n("d039"),o=n("c6b6"),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},"44d2":function(t,e,n){var r=n("b622"),o=n("7c73"),i=n("9bf2"),a=r("unscopables"),s=Array.prototype;void 0==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},"44e7":function(t,e,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),a=i("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},4930:function(t,e,n){var r=n("2d00"),o=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"4ae1":function(t,e,n){var r=n("23e7"),o=n("d066"),i=n("1c0b"),a=n("825a"),s=n("861d"),u=n("7c73"),l=n("0538"),c=n("d039"),h=o("Reflect","construct"),p=c((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),f=!c((function(){h((function(){}))})),d=p||f;r({target:"Reflect",stat:!0,forced:d,sham:d},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(f&&!p)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(l.apply(t,r))}var o=n.prototype,c=u(s(o)?o:Object.prototype),d=Function.apply.call(t,c,e);return s(d)?d:c}})},"4d64":function(t,e,n){var r=n("fc6a"),o=n("50c4"),i=n("23cb"),a=function(t){return function(e,n,a){var s,u=r(e),l=o(u.length),c=i(a,l);if(t&&n!=n){while(l>c)if(s=u[c++],s!=s)return!0}else for(;l>c;c++)if((t||c in u)&&u[c]===n)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"4de4":function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),a=i("filter");r({target:"Array",proto:!0,forced:!a},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,n){"use strict";var r=n("0366"),o=n("7b0b"),i=n("9bdd"),a=n("e95a"),s=n("50c4"),u=n("8418"),l=n("35a1");t.exports=function(t){var e,n,c,h,p,f,d=o(t),g="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,_=void 0!==v,m=l(d),O=0;if(_&&(v=r(v,y>2?arguments[2]:void 0,2)),void 0==m||g==Array&&a(m))for(e=s(d.length),n=new g(e);e>O;O++)f=_?v(d[O],O):d[O],u(n,O,f);else for(h=m.call(d),p=h.next,n=new g;!(c=p.call(h)).done;O++)f=_?i(h,v,[c.value,O],!0):c.value,u(n,O,f);return n.length=O,n}},"50c4":function(t,e,n){var r=n("a691"),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},5135:function(t,e,n){var r=n("7b0b"),o={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return o.call(r(t),e)}},5692:function(t,e,n){var r=n("c430"),o=n("c6cd");(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.14.0",mode:r?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,n){var r=n("d066"),o=n("241c"),i=n("7418"),a=n("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},"57cb":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s}));var r=n("9f5e");function o(){return!0}function i(){return!1}function a(){}function s(t){var e,n,o,i=!1;return function(){var a=Array.prototype.slice.call(arguments);return i&&this===o&&Object(r["b"])(a,n)||(i=!0,o=this,n=a,e=t.apply(this,arguments)),e}}},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),o=n("5899"),i="["+o+"]",a=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),u=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(s,"")),n}};t.exports={start:u(1),end:u(2),trim:u(3)}},"592d":function(t,e,n){"use strict";e["a"]={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"}},"5a34":function(t,e,n){var r=n("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},"5bc0":function(t,e,n){},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"617d":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"a",(function(){return s})),n.d(e,"g",(function(){return u})),n.d(e,"c",(function(){return l})),n.d(e,"e",(function(){return c}));var r="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",o=-1!==r.indexOf("firefox"),i=(-1!==r.indexOf("safari")&&r.indexOf("chrom"),-1!==r.indexOf("webkit")&&-1==r.indexOf("edge")),a=-1!==r.indexOf("macintosh"),s="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,u="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,l="undefined"!==typeof Image&&Image.prototype.decode,c=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("_",null,e),window.removeEventListener("_",null,e)}catch(n){}return t}()},6547:function(t,e,n){var r=n("a691"),o=n("1d80"),i=function(t){return function(e,n){var i,a,s=String(o(e)),u=r(n),l=s.length;return u<0||u>=l?t?"":void 0:(i=s.charCodeAt(u),i<55296||i>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):i:t?s.slice(u,u+2):a-56320+(i-55296<<10)+65536)}};t.exports={codeAt:i(!1),charAt:i(!0)}},"658f":function(t,e,n){
/*!
  * ol-contextmenu - v4.1.0
  * https://github.com/jonataswalker/ol-contextmenu
  * Built: Sat Aug 15 2020 10:43:26 GMT-0300 (Brasilia Standard Time)
  */
!function(e,r){t.exports=r(n("3900"))}(0,(function(t){"use strict";function e(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n=e(t),r="ol-ctx-menu",o={namespace:r,container:r+"-container",separator:r+"-separator",submenu:r+"-submenu",hidden:r+"-hidden",icon:r+"-icon",zoomIn:r+"-zoom-in",zoomOut:r+"-zoom-out",unselectable:"ol-unselectable"},i=o,a="beforeopen",s="open",u="close",l="contextmenu",c={width:150,scrollAt:4,eventType:l,defaultItems:!0},h=[{text:"Zoom In",classname:o.zoomIn+" "+o.icon,callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()+1,duration:700,center:t.coordinate})}},{text:"Zoom Out",classname:o.zoomOut+" "+o.icon,callback:function(t,e){var n=e.getView();n.animate({zoom:+n.getZoom()-1,duration:700,center:t.coordinate})}}];function p(t,e){if(void 0===e&&(e="Assertion failed"),!t){if("undefined"!=typeof Error)throw new Error(e);throw e}}function f(t){return/^\d+$/.test(t)}function d(t,e){return t.classList?t.classList.contains(e):_(e).test(t.className)}function g(t,e,n){void 0===e&&(e=window.document);var r=Array.prototype.slice,o=[];if(/^(#?[\w-]+|\.[\w-.]+)$/.test(t))switch(t[0]){case"#":o=[y(t.substr(1))];break;case".":o=r.call(e.getElementsByClassName(t.substr(1).replace(/\./g," ")));break;default:o=r.call(e.getElementsByTagName(t))}else o=r.call(e.querySelectorAll(t));return n?o:o[0]}function y(t){return t="#"===t[0]?t.substr(1,t.length):t,document.getElementById(t)}function v(t){var e=document.createDocumentFragment(),n=document.createElement("div");for(n.innerHTML=t;n.firstChild;)e.appendChild(n.firstChild);return e}function _(t){return new RegExp("(^|\\s+) "+t+" (\\s+|$)")}function m(t,e,n){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim(),n&&f(n)&&window.setTimeout((function(){return O(t,e)}),n)}function O(t,e,n){t.classList?t.classList.remove(e):t.className=t.className.replace(_(e)," ").trim(),n&&f(n)&&window.setTimeout((function(){return m(t,e)}),n)}var b=function(t){return this.Base=t,this.map=void 0,this.viewport=void 0,this.coordinateClicked=void 0,this.pixelClicked=void 0,this.lineHeight=0,this.items={},this.opened=!1,this.submenu={left:t.options.width-15+"px",lastLeft:""},this.eventHandler=this.handleEvent.bind(this),this.eventMapMoveHandler=this.handleMapMoveEvent.bind(this),this};b.prototype.init=function(t){this.map=t,this.viewport=t.getViewport(),this.setListeners(),this.Base.Html.createMenu(),this.lineHeight=this.getItemsLength()>0?this.Base.container.offsetHeight/this.getItemsLength():this.Base.Html.cloneAndGetLineHeight()},b.prototype.getItemsLength=function(){var t=this,e=0;return Object.keys(this.items).forEach((function(n){t.items[n].submenu||t.items[n].separator||e++})),e},b.prototype.getPixelClicked=function(){return this.pixelClicked},b.prototype.getCoordinateClicked=function(){return this.coordinateClicked},b.prototype.positionContainer=function(t){var e=this,n=this.Base.container,r=this.map.getSize(),o=r[1]-t[1],a=r[0]-t[0],s=n.offsetWidth,u=Math.round(this.lineHeight*this.getItemsLength()),l=g("li."+i.submenu+">div",n,!0);a>=s?(n.style.right="auto",n.style.left=t[0]+5+"px"):(n.style.left="auto",n.style.right="15px"),o>=u?(n.style.bottom="auto",n.style.top=t[1]-10+"px"):(n.style.top="auto",n.style.bottom=0),function t(e,n,r){if(Array.isArray(e))e.forEach((function(e){return t(e,n,r)}));else for(var o=Array.isArray(n)?n:n.split(/\s+/),i=o.length;i--;)d(e,o[i])&&O(e,o[i],r)}(n,i.hidden),l.length&&(this.submenu.lastLeft=a<2*s?"-"+s+"px":this.submenu.left,l.forEach((function(t){var n,r,i,a={w:window.innerWidth||document.documentElement.clientWidth,h:window.innerHeight||document.documentElement.clientHeight},s=(r=(n=t).getBoundingClientRect(),i=document.documentElement,{left:r.left+window.pageXOffset-i.clientLeft,top:r.top+window.pageYOffset-i.clientTop,width:n.offsetWidth,height:n.offsetHeight}),u=s.height,l=o-u;l<0&&(l=u-(a.h-s.top),t.style.top="-"+l+"px"),t.style.left=e.submenu.lastLeft})))},b.prototype.openMenu=function(t,e){this.Base.dispatchEvent({type:s,pixel:t,coordinate:e}),this.opened=!0,this.positionContainer(t)},b.prototype.closeMenu=function(){this.opened=!1,function t(e,n,r){if(Array.isArray(e))e.forEach((function(e){return t(e,n)}));else for(var o=Array.isArray(n)?n:n.split(/\s+/),i=o.length;i--;)d(e,o[i])||m(e,o[i],r)}(this.Base.container,i.hidden),this.Base.dispatchEvent({type:u})},b.prototype.setListeners=function(){this.viewport.addEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.on("movestart",this.eventMapMoveHandler)},b.prototype.removeListeners=function(){this.viewport.removeEventListener(this.Base.options.eventType,this.eventHandler,!1),this.map.un("movestart",this.eventMapMoveHandler)},b.prototype.handleEvent=function(t){var e=this;this.coordinateClicked=this.map.getEventCoordinate(t),this.pixelClicked=this.map.getEventPixel(t),this.Base.dispatchEvent({type:a,pixel:this.pixelClicked,coordinate:this.coordinateClicked}),this.Base.disabled||(this.Base.options.eventType===l&&(t.stopPropagation(),t.preventDefault()),this.openMenu(this.pixelClicked,this.coordinateClicked),t.target.addEventListener("pointerdown",{handleEvent:function(n){e.opened&&(e.closeMenu(),n.stopPropagation(),t.target.removeEventListener(n.type,this,!1))}},!1))},b.prototype.handleMapMoveEvent=function(t){this.closeMenu()},b.prototype.setItemListener=function(t,e){var n,r=this;t&&"function"==typeof this.items[e].callback&&(n=this.items[e].callback,t.addEventListener("click",(function(t){t.preventDefault();var o={coordinate:r.getCoordinateClicked(),data:r.items[e].data||null};r.closeMenu(),n(o,r.map)}),!1))};var w=function(t){return this.Base=t,this.Base.container=this.container=this.createContainer(!0),this};return w.prototype.createContainer=function(t){var e=document.createElement("div"),n=document.createElement("ul"),r=[i.container,i.unselectable];return t&&r.push(i.hidden),e.className=r.join(" "),e.style.width=parseInt(this.Base.options.width,10)+"px",e.appendChild(n),e},w.prototype.createMenu=function(){var t=[];if("items"in this.Base.options?t=this.Base.options.defaultItems?this.Base.options.items.concat(h):this.Base.options.items:this.Base.options.defaultItems&&(t=h),0===t.length)return!1;t.forEach(this.addMenuEntry,this)},w.prototype.addMenuEntry=function(t){var e,n=this;if(t.items&&Array.isArray(t.items)){t.classname=t.classname||"",e=i.submenu,~t.classname.indexOf(e)||(t.classname=t.classname.length?" "+i.submenu:i.submenu);var r=this.generateHtmlAndPublish(this.container,t),o=this.createContainer();o.style.left=this.Base.Internal.submenu.lastLeft||this.Base.Internal.submenu.left,r.appendChild(o),t.items.forEach((function(t){n.generateHtmlAndPublish(o,t,!0)}))}else this.generateHtmlAndPublish(this.container,t)},w.prototype.generateHtmlAndPublish=function(t,e,n){var r,o,a="_"+Math.random().toString(36).substr(2,9),s=!1;return"string"==typeof e&&"-"===e.trim()?(r=v('<li id="'+a+'" class="'+i.separator+'"><hr></li>'),o=[].slice.call(r.childNodes,0)[0],t.firstChild.appendChild(r),s=!0):(e.classname=e.classname||"",r=v("<span>"+e.text+"</span>"),o=document.createElement("li"),e.icon&&(""===e.classname?e.classname=i.icon:-1===e.classname.indexOf(i.icon)&&(e.classname+=" "+i.icon),o.setAttribute("style","background-image:url("+e.icon+")")),o.id=a,o.className=e.classname,o.appendChild(r),t.firstChild.appendChild(o)),this.Base.Internal.items[a]={id:a,submenu:n||0,separator:s,callback:e.callback,data:e.data||null},this.Base.Internal.setItemListener(o,a),o},w.prototype.removeMenuEntry=function(t){var e=g("#"+t,this.container.firstChild);e&&this.container.firstChild.removeChild(e),delete this.Base.Internal.items[t]},w.prototype.cloneAndGetLineHeight=function(){var t=this.container.cloneNode(),e=v("<span>Foo</span>"),n=v("<span>Foo</span>"),r=document.createElement("li"),o=document.createElement("li");r.appendChild(e),o.appendChild(n),t.appendChild(r),t.appendChild(o),this.container.parentNode.appendChild(t);var i=t.offsetHeight/2;return this.container.parentNode.removeChild(t),i},function(t){function e(e){void 0===e&&(e={}),p("object"==typeof e,"@param `opt_options` should be object type!"),this.options=function(t,e){var n={};for(var r in t)n[r]=t[r];for(var o in e)n[o]=e[o];return n}(c,e),this.disabled=!1,this.Internal=new b(this),this.Html=new w(this),t.call(this,{element:this.container})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){Object.keys(this.Internal.items).forEach(this.Html.removeMenuEntry,this.Html)},e.prototype.close=function(){this.Internal.closeMenu()},e.prototype.enable=function(){this.disabled=!1},e.prototype.disable=function(){this.disabled=!0},e.prototype.getDefaultItems=function(){return h},e.prototype.countItems=function(){return Object.keys(this.Internal.items).length},e.prototype.extend=function(t){p(Array.isArray(t),"@param `arr` should be an Array."),t.forEach(this.push,this)},e.prototype.isOpen=function(){return this.Internal.opened},e.prototype.updatePosition=function(t){p(Array.isArray(t),"@param `pixel` should be an Array."),this.isOpen()&&this.Internal.positionContainer(t)},e.prototype.pop=function(){var t=Object.keys(this.Internal.items);this.Html.removeMenuEntry(t[t.length-1])},e.prototype.push=function(t){p(null!=t,"@param `item` must be informed."),this.Html.addMenuEntry(t)},e.prototype.shift=function(){this.Html.removeMenuEntry(Object.keys(this.Internal.items)[0])},e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e?this.Internal.init(e,this):this.Internal.removeListeners()},e}(n.default)}))},"65f0":function(t,e,n){var r=n("861d"),o=n("e8b5"),i=n("b622"),a=i("species");t.exports=function(t,e){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?r(n)&&(n=n[a],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},"69f3":function(t,e,n){var r,o,i,a=n("7f9a"),s=n("da84"),u=n("861d"),l=n("9112"),c=n("5135"),h=n("c6cd"),p=n("f772"),f=n("d012"),d="Object already initialized",g=s.WeakMap,y=function(t){return i(t)?o(t):r(t,{})},v=function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(a||h.state){var _=h.state||(h.state=new g),m=_.get,O=_.has,b=_.set;r=function(t,e){if(O.call(_,t))throw new TypeError(d);return e.facade=t,b.call(_,t,e),e},o=function(t){return m.call(_,t)||{}},i=function(t){return O.call(_,t)}}else{var w=p("state");f[w]=!0,r=function(t,e){if(c(t,w))throw new TypeError(d);return e.facade=t,l(t,w,e),e},o=function(t){return c(t,w)?t[w]:{}},i=function(t){return c(t,w)}}t.exports={set:r,get:o,has:i,enforce:y,getterFor:v}},"6eeb":function(t,e,n){var r=n("da84"),o=n("9112"),i=n("5135"),a=n("ce4e"),s=n("8925"),u=n("69f3"),l=u.get,c=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u,l=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),u=c(n),u.source||(u.source=h.join("string"==typeof e?e:""))),t!==r?(l?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||s(this)}))},"6f53":function(t,e,n){var r=n("83ab"),o=n("df75"),i=n("fc6a"),a=n("d1e7").f,s=function(t){return function(e){var n,s=i(e),u=o(s),l=u.length,c=0,h=[];while(l>c)n=u[c++],r&&!a.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},7156:function(t,e,n){var r=n("861d"),o=n("d2bb");t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"746f":function(t,e,n){var r=n("428f"),o=n("5135"),i=n("e538"),a=n("9bf2").f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7915:function(t,e,n){"use strict";t.exports=o;var r=n("9152");function o(t){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}o.Varint=0,o.Fixed64=1,o.Bytes=2,o.Fixed32=5;var i=4294967296,a=1/i,s=12,u="undefined"===typeof TextDecoder?null:new TextDecoder("utf8");function l(t,e,n){var r,o,i=n.buf;if(o=i[n.pos++],r=(112&o)>>4,o<128)return h(t,r,e);if(o=i[n.pos++],r|=(127&o)<<3,o<128)return h(t,r,e);if(o=i[n.pos++],r|=(127&o)<<10,o<128)return h(t,r,e);if(o=i[n.pos++],r|=(127&o)<<17,o<128)return h(t,r,e);if(o=i[n.pos++],r|=(127&o)<<24,o<128)return h(t,r,e);if(o=i[n.pos++],r|=(1&o)<<31,o<128)return h(t,r,e);throw new Error("Expected varint not more than 10 bytes")}function c(t){return t.type===o.Bytes?t.readVarint()+t.pos:t.pos+1}function h(t,e,n){return n?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}function p(t,e){var n,r;if(t>=0?(n=t%4294967296|0,r=t/4294967296|0):(n=~(-t%4294967296),r=~(-t/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),t>=0x10000000000000000||t<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");e.realloc(10),f(n,r,e),d(r,e)}function f(t,e,n){n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos++]=127&t|128,t>>>=7,n.buf[n.pos]=127&t}function d(t,e){var n=(7&t)<<4;e.buf[e.pos++]|=n|((t>>>=3)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t|((t>>>=7)?128:0),t&&(e.buf[e.pos++]=127&t)))))}function g(t,e,n){var r=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));n.realloc(r);for(var o=n.pos-1;o>=t;o--)n.buf[o+r]=n.buf[o]}function y(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function v(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function _(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function m(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function O(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function b(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function w(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function E(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function S(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}function x(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+16777216*t[e+3]}function C(t,e,n){t[n]=e,t[n+1]=e>>>8,t[n+2]=e>>>16,t[n+3]=e>>>24}function T(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16)+(t[e+3]<<24)}function R(t,e,n){var r="",o=e;while(o<n){var i,a,s,u=t[o],l=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c>n)break;1===c?u<128&&(l=u):2===c?(i=t[o+1],128===(192&i)&&(l=(31&u)<<6|63&i,l<=127&&(l=null))):3===c?(i=t[o+1],a=t[o+2],128===(192&i)&&128===(192&a)&&(l=(15&u)<<12|(63&i)<<6|63&a,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(i=t[o+1],a=t[o+2],s=t[o+3],128===(192&i)&&128===(192&a)&&128===(192&s)&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),o+=c}return r}function P(t,e,n){return u.decode(t.subarray(e,n))}function I(t,e,n){for(var r,o,i=0;i<e.length;i++){if(r=e.charCodeAt(i),r>55295&&r<57344){if(!o){r>56319||i+1===e.length?(t[n++]=239,t[n++]=191,t[n++]=189):o=r;continue}if(r<56320){t[n++]=239,t[n++]=191,t[n++]=189,o=r;continue}r=o-55296<<10|r-56320|65536,o=null}else o&&(t[n++]=239,t[n++]=191,t[n++]=189,o=null);r<128?t[n++]=r:(r<2048?t[n++]=r>>6|192:(r<65536?t[n++]=r>>12|224:(t[n++]=r>>18|240,t[n++]=r>>12&63|128),t[n++]=r>>6&63|128),t[n++]=63&r|128)}return n}o.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){n=n||this.length;while(this.pos<n){var r=this.readVarint(),o=r>>3,i=this.pos;this.type=7&r,t(o,e,this),this.pos===i&&this.skip(r)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=x(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=T(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=x(this.buf,this.pos)+x(this.buf,this.pos+4)*i;return this.pos+=8,t},readSFixed64:function(){var t=x(this.buf,this.pos)+T(this.buf,this.pos+4)*i;return this.pos+=8,t},readFloat:function(){var t=r.read(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=r.read(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,n,r=this.buf;return n=r[this.pos++],e=127&n,n<128?e:(n=r[this.pos++],e|=(127&n)<<7,n<128?e:(n=r[this.pos++],e|=(127&n)<<14,n<128?e:(n=r[this.pos++],e|=(127&n)<<21,n<128?e:(n=r[this.pos],e|=(15&n)<<28,l(e,t,this)))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e>=s&&u?P(this.buf,e,t):R(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==o.Bytes)return t.push(this.readVarint(e));var n=c(this);t=t||[];while(this.pos<n)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==o.Bytes)return t.push(this.readSVarint());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==o.Bytes)return t.push(this.readBoolean());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==o.Bytes)return t.push(this.readFloat());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==o.Bytes)return t.push(this.readDouble());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed32());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed32());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readFixed64());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==o.Bytes)return t.push(this.readSFixed64());var e=c(this);t=t||[];while(this.pos<e)t.push(this.readSFixed64());return t},skip:function(t){var e=7&t;if(e===o.Varint)while(this.buf[this.pos++]>127);else if(e===o.Bytes)this.pos=this.readVarint()+this.pos;else if(e===o.Fixed32)this.pos+=4;else{if(e!==o.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){var e=this.length||16;while(e<this.pos+t)e*=2;if(e!==this.length){var n=new Uint8Array(e);n.set(this.buf),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),C(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),C(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),C(this.buf,-1&t,this.pos),C(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),C(this.buf,-1&t,this.pos),C(this.buf,Math.floor(t*a),this.pos+4),this.pos+=8},writeVarint:function(t){t=+t||0,t>268435455||t<0?p(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=I(this.buf,t,this.pos);var n=this.pos-e;n>=128&&g(e,n,this),this.pos=e-1,this.writeVarint(n),this.pos+=n},writeFloat:function(t){this.realloc(4),r.write(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),r.write(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var r=this.pos-n;r>=128&&g(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r},writeMessage:function(t,e,n){this.writeTag(t,o.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){e.length&&this.writeMessage(t,y,e)},writePackedSVarint:function(t,e){e.length&&this.writeMessage(t,v,e)},writePackedBoolean:function(t,e){e.length&&this.writeMessage(t,O,e)},writePackedFloat:function(t,e){e.length&&this.writeMessage(t,_,e)},writePackedDouble:function(t,e){e.length&&this.writeMessage(t,m,e)},writePackedFixed32:function(t,e){e.length&&this.writeMessage(t,b,e)},writePackedSFixed32:function(t,e){e.length&&this.writeMessage(t,w,e)},writePackedFixed64:function(t,e){e.length&&this.writeMessage(t,E,e)},writePackedSFixed64:function(t,e){e.length&&this.writeMessage(t,S,e)},writeBytesField:function(t,e){this.writeTag(t,o.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,o.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,o.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,o.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,o.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,o.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,o.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}},"7b0b":function(t,e,n){var r=n("1d80");t.exports=function(t){return Object(r(t))}},"7b4f":function(t,e,n){"use strict";e["a"]={PROPERTYCHANGE:"propertychange"}},"7c73":function(t,e,n){var r,o=n("825a"),i=n("37e8"),a=n("7839"),s=n("d012"),u=n("1be4"),l=n("cc12"),c=n("f772"),h=">",p="<",f="prototype",d="script",g=c("IE_PROTO"),y=function(){},v=function(t){return p+d+h+t+p+"/"+d+h},_=function(t){t.write(v("")),t.close();var e=t.parentWindow.Object;return t=null,e},m=function(){var t,e=l("iframe"),n="java"+d+":";return e.style.display="none",u.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(v("document.F=Object")),t.close(),t.F},O=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}O=r?_(r):m();var t=a.length;while(t--)delete O[f][a[t]];return O()};s[g]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(y[f]=o(t),n=new y,y[f]=null,n[g]=t):n=O(),void 0===e?n:i(n,e)}},"7d05":function(t,e,n){},"7dd0":function(t,e,n){"use strict";var r=n("23e7"),o=n("9ed3"),i=n("e163"),a=n("d2bb"),s=n("d44e"),u=n("9112"),l=n("6eeb"),c=n("b622"),h=n("c430"),p=n("3f8c"),f=n("ae93"),d=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,y=c("iterator"),v="keys",_="values",m="entries",O=function(){return this};t.exports=function(t,e,n,c,f,b,w){o(n,e,c);var E,S,x,C=function(t){if(t===f&&L)return L;if(!g&&t in P)return P[t];switch(t){case v:return function(){return new n(this,t)};case _:return function(){return new n(this,t)};case m:return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",R=!1,P=t.prototype,I=P[y]||P["@@iterator"]||f&&P[f],L=!g&&I||C(f),M="Array"==e&&P.entries||I;if(M&&(E=i(M.call(new t)),d!==Object.prototype&&E.next&&(h||i(E)===d||(a?a(E,d):"function"!=typeof E[y]&&u(E,y,O)),s(E,T,!0,!0),h&&(p[T]=O))),f==_&&I&&I.name!==_&&(R=!0,L=function(){return I.call(this)}),h&&!w||P[y]===L||u(P,y,L),p[e]=L,f)if(S={values:C(_),keys:b?L:C(v),entries:C(m)},w)for(x in S)(g||R||!(x in P))&&l(P,x,S[x]);else r({target:e,proto:!0,forced:g||R},S);return S}},"7f9a":function(t,e,n){var r=n("da84"),o=n("8925"),i=r.WeakMap;t.exports="function"===typeof i&&/native code/.test(o(i))},"825a":function(t,e,n){var r=n("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,n){var r=n("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,n){"use strict";var r=n("c04e"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"872d":function(t,e,n){},8875:function(t,e,n){var r,o,i;(function(n,a){o=[],r=a,i="function"===typeof r?r.apply(e,o):r,void 0===i||(t.exports=i)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var n,r,o,i=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,s=i.exec(f.stack)||a.exec(f.stack),u=s&&s[1]||!1,l=s&&s[2]||!1,c=document.location.href.replace(document.location.hash,""),h=document.getElementsByTagName("script");u===c&&(n=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),o=n.replace(r,"$1").trim());for(var p=0;p<h.length;p++){if("interactive"===h[p].readyState)return h[p];if(h[p].src===u)return h[p];if(u===c&&h[p].innerHTML&&h[p].innerHTML.trim()===o)return h[p]}return null}}return t}))},8925:function(t,e,n){var r=n("c6cd"),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},"8bbf":function(e,n){e.exports=t},"90e3":function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},9112:function(t,e,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,h=n?o-1:0,p=n?-1:1,f=t[e+h];for(h+=p,i=f&(1<<-c)-1,f>>=-c,c+=s;c>0;i=256*i+t[e+h],h+=p,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+t[e+h],h+=p,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(f?-1:1);a+=Math.pow(2,r),i-=l}return(f?-1:1)*a*Math.pow(2,i-r)},e.write=function(t,e,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,h=c>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=c):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+h>=1?p/u:p*Math.pow(2,1-h),e*u>=2&&(a++,u/=2),a+h>=c?(s=0,a=c):a+h>=1?(s=(e*u-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[n+f]=255&s,f+=d,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;t[n+f]=255&a,f+=d,a/=256,l-=8);t[n+f-d]|=128*g}},"94ca":function(t,e,n){var r=n("d039"),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==l||n!=u&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},u=i.NATIVE="N",l=i.POLYFILL="P";t.exports=i},"9bdd":function(t,e,n){var r=n("825a"),o=n("2a62");t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(a){throw o(t),a}}},"9bf2":function(t,e,n){var r=n("83ab"),o=n("0cfb"),i=n("825a"),a=n("c04e"),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(r){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},"9ed3":function(t,e,n){"use strict";var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),a=n("d44e"),s=n("3f8c"),u=function(){return this};t.exports=function(t,e,n){var l=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,l,!1,!0),s[l]=u,t}},"9f5e":function(t,e,n){"use strict";function r(t,e,n){var r,i,a=n||o,s=0,u=t.length,l=!1;while(s<u)r=s+(u-s>>1),i=+a(t[r],e),i<0?s=r+1:(u=r,l=!i);return l?s:~s}function o(t,e){return t>e?1:t<e?-1:0}function i(t,e){return t.indexOf(e)>=0}function a(t,e,n){var r=t.length;if(t[0]<=e)return 0;if(e<=t[r-1])return r-1;var o=void 0;if(n>0){for(o=1;o<r;++o)if(t[o]<e)return o-1}else if(n<0){for(o=1;o<r;++o)if(t[o]<=e)return o}else for(o=1;o<r;++o){if(t[o]==e)return o;if(t[o]<e)return"function"===typeof n?n(e,t[o-1],t[o])>0?o-1:o:t[o-1]-e<e-t[o]?o-1:o}return r-1}function s(t,e,n){while(e<n){var r=t[e];t[e]=t[n],t[n]=r,++e,--n}}function u(t,e){for(var n=Array.isArray(e)?e:[e],r=n.length,o=0;o<r;o++)t[t.length]=n[o]}function l(t,e){for(var n,r=t.length>>>0,o=0;o<r;o++)if(n=t[o],e(n,o,t))return n;return null}function c(t,e){var n=t.length;if(n!==e.length)return!1;for(var r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function h(t,e){var n,r=!t.every((function(r,o){return n=o,!e(r,o,t)}));return r?n:-1}function p(t,e,n){var r=e||o;return t.every((function(e,o){if(0===o)return!0;var i=r(t[o-1],e);return!(i>0||n&&0===i)}))}n.d(e,"a",(function(){return r})),n.d(e,"i",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"h",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"b",(function(){return c})),n.d(e,"e",(function(){return h})),n.d(e,"g",(function(){return p}))},a4d3:function(t,e,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("d066"),a=n("c430"),s=n("83ab"),u=n("4930"),l=n("fdbf"),c=n("d039"),h=n("5135"),p=n("e8b5"),f=n("861d"),d=n("825a"),g=n("7b0b"),y=n("fc6a"),v=n("c04e"),_=n("5c6c"),m=n("7c73"),O=n("df75"),b=n("241c"),w=n("057f"),E=n("7418"),S=n("06cf"),x=n("9bf2"),C=n("d1e7"),T=n("9112"),R=n("6eeb"),P=n("5692"),I=n("f772"),L=n("d012"),M=n("90e3"),N=n("b622"),A=n("e538"),j=n("746f"),F=n("d44e"),G=n("69f3"),D=n("b727").forEach,k=I("hidden"),B="Symbol",Y="prototype",U=N("toPrimitive"),V=G.set,z=G.getterFor(B),X=Object[Y],W=o.Symbol,Z=i("JSON","stringify"),H=S.f,K=x.f,q=w.f,J=C.f,$=P("symbols"),Q=P("op-symbols"),tt=P("string-to-symbol-registry"),et=P("symbol-to-string-registry"),nt=P("wks"),rt=o.QObject,ot=!rt||!rt[Y]||!rt[Y].findChild,it=s&&c((function(){return 7!=m(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=H(X,e);r&&delete X[e],K(t,e,n),r&&t!==X&&K(X,e,r)}:K,at=function(t,e){var n=$[t]=m(W[Y]);return V(n,{type:B,tag:t,description:e}),s||(n.description=e),n},st=l?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof W},ut=function(t,e,n){t===X&&ut(Q,e,n),d(t);var r=v(e,!0);return d(n),h($,r)?(n.enumerable?(h(t,k)&&t[k][r]&&(t[k][r]=!1),n=m(n,{enumerable:_(0,!1)})):(h(t,k)||K(t,k,_(1,{})),t[k][r]=!0),it(t,r,n)):K(t,r,n)},lt=function(t,e){d(t);var n=y(e),r=O(n).concat(dt(n));return D(r,(function(e){s&&!ht.call(n,e)||ut(t,e,n[e])})),t},ct=function(t,e){return void 0===e?m(t):lt(m(t),e)},ht=function(t){var e=v(t,!0),n=J.call(this,e);return!(this===X&&h($,e)&&!h(Q,e))&&(!(n||!h(this,e)||!h($,e)||h(this,k)&&this[k][e])||n)},pt=function(t,e){var n=y(t),r=v(e,!0);if(n!==X||!h($,r)||h(Q,r)){var o=H(n,r);return!o||!h($,r)||h(n,k)&&n[k][r]||(o.enumerable=!0),o}},ft=function(t){var e=q(y(t)),n=[];return D(e,(function(t){h($,t)||h(L,t)||n.push(t)})),n},dt=function(t){var e=t===X,n=q(e?Q:y(t)),r=[];return D(n,(function(t){!h($,t)||e&&!h(X,t)||r.push($[t])})),r};if(u||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=M(t),n=function(t){this===X&&n.call(Q,t),h(this,k)&&h(this[k],e)&&(this[k][e]=!1),it(this,e,_(1,t))};return s&&ot&&it(X,e,{configurable:!0,set:n}),at(e,t)},R(W[Y],"toString",(function(){return z(this).tag})),R(W,"withoutSetter",(function(t){return at(M(t),t)})),C.f=ht,x.f=ut,S.f=pt,b.f=w.f=ft,E.f=dt,A.f=function(t){return at(N(t),t)},s&&(K(W[Y],"description",{configurable:!0,get:function(){return z(this).description}}),a||R(X,"propertyIsEnumerable",ht,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),D(O(nt),(function(t){j(t)})),r({target:B,stat:!0,forced:!u},{for:function(t){var e=String(t);if(h(tt,e))return tt[e];var n=W(e);return tt[e]=n,et[n]=e,n},keyFor:function(t){if(!st(t))throw TypeError(t+" is not a symbol");if(h(et,t))return et[t]},useSetter:function(){ot=!0},useSimple:function(){ot=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!s},{create:ct,defineProperty:ut,defineProperties:lt,getOwnPropertyDescriptor:pt}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:ft,getOwnPropertySymbols:dt}),r({target:"Object",stat:!0,forced:c((function(){E.f(1)}))},{getOwnPropertySymbols:function(t){return E.f(g(t))}}),Z){var gt=!u||c((function(){var t=W();return"[null]"!=Z([t])||"{}"!=Z({a:t})||"{}"!=Z(Object(t))}));r({target:"JSON",stat:!0,forced:gt},{stringify:function(t,e,n){var r,o=[t],i=1;while(arguments.length>i)o.push(arguments[i++]);if(r=e,(f(e)||void 0!==t)&&!st(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!st(e))return e}),o[1]=e,Z.apply(null,o)}})}W[Y][U]||T(W[Y],U,W[Y].valueOf),F(W,B),L[k]=!0},a630:function(t,e,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),a=!i((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:a},{from:o})},a640:function(t,e,n){"use strict";var r=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},a691:function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},a9e3:function(t,e,n){"use strict";var r=n("83ab"),o=n("da84"),i=n("94ca"),a=n("6eeb"),s=n("5135"),u=n("c6b6"),l=n("7156"),c=n("c04e"),h=n("d039"),p=n("7c73"),f=n("241c").f,d=n("06cf").f,g=n("9bf2").f,y=n("58a8").trim,v="Number",_=o[v],m=_.prototype,O=u(p(m))==v,b=function(t){var e,n,r,o,i,a,s,u,l=c(t,!1);if("string"==typeof l&&l.length>2)if(l=y(l),e=l.charCodeAt(0),43===e||45===e){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(i=l.slice(2),a=i.length,s=0;s<a;s++)if(u=i.charCodeAt(s),u<48||u>o)return NaN;return parseInt(i,r)}return+l};if(i(v,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var w,E=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof E&&(O?h((function(){m.valueOf.call(n)})):u(n)!=v)?l(new _(b(e)),n,E):b(e)},S=r?f(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;S.length>x;x++)s(_,w=S[x])&&!s(E,w)&&g(E,w,d(_,w));E.prototype=m,m.constructor=E,a(o,v,E)}},ab13:function(t,e,n){var r=n("b622"),o=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[o]=!1,"/./"[t](e)}catch(r){}}return!1}},ae93:function(t,e,n){"use strict";var r,o,i,a=n("d039"),s=n("e163"),u=n("9112"),l=n("5135"),c=n("b622"),h=n("c430"),p=c("iterator"),f=!1,d=function(){return this};[].keys&&(i=[].keys(),"next"in i?(o=s(s(i)),o!==Object.prototype&&(r=o)):f=!0);var g=void 0==r||a((function(){var t={};return r[p].call(t)!==t}));g&&(r={}),h&&!g||l(r,p)||u(r,p,d),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},b041:function(t,e,n){"use strict";var r=n("00ee"),o=n("f5df");t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b0c0:function(t,e,n){var r=n("83ab"),o=n("9bf2").f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/,u="name";r&&!(u in i)&&o(i,u,{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},b622:function(t,e,n){var r=n("da84"),o=n("5692"),i=n("5135"),a=n("90e3"),s=n("4930"),u=n("fdbf"),l=o("wks"),c=r.Symbol,h=u?c:c&&c.withoutSetter||a;t.exports=function(t){return i(l,t)&&(s||"string"==typeof l[t])||(s&&i(c,t)?l[t]=c[t]:l[t]=h("Symbol."+t)),l[t]}},b64b:function(t,e,n){var r=n("23e7"),o=n("7b0b"),i=n("df75"),a=n("d039"),s=a((function(){i(1)}));r({target:"Object",stat:!0,forced:s},{keys:function(t){return i(o(t))}})},b727:function(t,e,n){var r=n("0366"),o=n("44ad"),i=n("7b0b"),a=n("50c4"),s=n("65f0"),u=[].push,l=function(t){var e=1==t,n=2==t,l=3==t,c=4==t,h=6==t,p=7==t,f=5==t||h;return function(d,g,y,v){for(var _,m,O=i(d),b=o(O),w=r(g,y,3),E=a(b.length),S=0,x=v||s,C=e?x(d,E):n||p?x(d,0):void 0;E>S;S++)if((f||S in b)&&(_=b[S],m=w(_,S,O),t))if(e)C[S]=m;else if(m)switch(t){case 3:return!0;case 5:return _;case 6:return S;case 2:u.call(C,_)}else switch(t){case 4:return!1;case 7:u.call(C,_)}return h?-1:l||c?c:C}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterOut:l(7)}},c04e:function(t,e,n){var r=n("861d");t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,e,n){var r=n("da84"),o=n("ce4e"),i="__core-js_shared__",a=r[i]||o(i,{});t.exports=a},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,e,n){var r=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,a=n("d012");t.exports=function(t,e){var n,s=o(t),u=0,l=[];for(n in s)!r(a,n)&&r(s,n)&&l.push(n);while(e.length>u)r(s,n=e[u++])&&(~i(l,n)||l.push(n));return l}},caad:function(t,e,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("44d2");r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc12:function(t,e,n){var r=n("da84"),o=n("861d"),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},ce4e:function(t,e,n){var r=n("da84"),o=n("9112");t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},cef7:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=function(){function t(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return t.prototype.preventDefault=function(){this.defaultPrevented=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0},t}();function o(t){t.stopPropagation()}e["a"]=r},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,n){var r=n("428f"),o=n("da84"),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},d1e7:function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},d28b:function(t,e,n){var r=n("746f");r("iterator")},d2bb:function(t,e,n){var r=n("825a"),o=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),e=n instanceof Array}catch(i){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(t,e,n){var r=n("00ee"),o=n("6eeb"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(t,e,n){var r=n("9bf2").f,o=n("5135"),i=n("b622"),a=i("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},d81d:function(t,e,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),a=i("map");r({target:"Array",proto:!0,forced:!a},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},da5c:function(t,e,n){"use strict";var r=function(){function t(){this.disposed=!1}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposeInternal())},t.prototype.disposeInternal=function(){},t}();e["a"]=r},da84:function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},dbb4:function(t,e,n){var r=n("23e7"),o=n("83ab"),i=n("56ef"),a=n("fc6a"),s=n("06cf"),u=n("8418");r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){var e,n,r=a(t),o=s.f,l=i(r),c={},h=0;while(l.length>h)n=o(r,e=l[h++]),void 0!==n&&u(c,e,n);return c}})},dbd0:function(t,e,n){},ddb0:function(t,e,n){var r=n("da84"),o=n("fdbc"),i=n("e260"),a=n("9112"),s=n("b622"),u=s("iterator"),l=s("toStringTag"),c=i.values;for(var h in o){var p=r[h],f=p&&p.prototype;if(f){if(f[u]!==c)try{a(f,u,c)}catch(g){f[u]=c}if(f[l]||a(f,l,h),o[h])for(var d in i)if(f[d]!==i[d])try{a(f,d,i[d])}catch(g){f[d]=i[d]}}}},df75:function(t,e,n){var r=n("ca84"),o=n("7839");t.exports=Object.keys||function(t){return r(t,o)}},e01a:function(t,e,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),a=n("5135"),s=n("861d"),u=n("9bf2").f,l=n("e893"),c=i.Symbol;if(o&&"function"==typeof c&&(!("description"in c.prototype)||void 0!==c().description)){var h={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new c(t):void 0===t?c():c(t);return""===t&&(h[e]=!0),e};l(p,c);var f=p.prototype=c.prototype;f.constructor=p;var d=f.toString,g="Symbol(test)"==String(c("test")),y=/^Symbol\((.*)\)[^)]+$/;u(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=d.call(t);if(a(h,t))return"";var n=g?e.slice(7,-1):e.replace(y,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},e163:function(t,e,n){var r=n("5135"),o=n("7b0b"),i=n("f772"),a=n("e177"),s=i("IE_PROTO"),u=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,e,n){var r=n("d039");t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,e,n){"use strict";var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),a=n("69f3"),s=n("7dd0"),u="Array Iterator",l=a.set,c=a.getterFor(u);t.exports=s(Array,"Array",(function(t,e){l(this,{type:u,target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e269:function(t,e,n){"use strict";var r=n("cef7"),o=n("7b4f"),i=n("35a7"),a=n("38f3"),s=n("1300"),u=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),l=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.key=n,o.oldValue=r,o}return u(e,t),e}(r["a"]),c=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,Object(s["c"])(n),n.values_=null,void 0!==e&&n.setProperties(e),n}return u(e,t),e.prototype.get=function(t){var e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return this.values_&&Object.keys(this.values_)||[]},e.prototype.getProperties=function(){return this.values_&&Object(a["a"])({},this.values_)||{}},e.prototype.hasProperties=function(){return!!this.values_},e.prototype.notify=function(t,e){var n;n="change:"+t,this.dispatchEvent(new l(n,t,e)),n=o["a"].PROPERTYCHANGE,this.dispatchEvent(new l(n,t,e))},e.prototype.addChangeListener=function(t,e){this.addEventListener("change:"+t,e)},e.prototype.removeChangeListener=function(t,e){this.removeEventListener("change:"+t,e)},e.prototype.set=function(t,e,n){var r=this.values_||(this.values_={});if(n)r[t]=e;else{var o=r[t];r[t]=e,o!==e&&this.notify(t,o)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.applyProperties=function(t){t.values_&&Object(a["a"])(this.values_||(this.values_={}),t.values_)},e.prototype.unset=function(t,e){if(this.values_&&t in this.values_){var n=this.values_[t];delete this.values_[t],Object(a["d"])(this.values_)&&(this.values_=null),e||this.notify(t,n)}},e}(i["a"]);e["a"]=c},e439:function(t,e,n){var r=n("23e7"),o=n("d039"),i=n("fc6a"),a=n("06cf").f,s=n("83ab"),u=o((function(){a(1)})),l=!s||u;r({target:"Object",stat:!0,forced:l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},e538:function(t,e,n){var r=n("b622");e.f=r},e893:function(t,e,n){var r=n("5135"),o=n("56ef"),i=n("06cf"),a=n("9bf2");t.exports=function(t,e){for(var n=o(e),s=a.f,u=i.f,l=0;l<n.length;l++){var c=n[l];r(t,c)||s(t,c,u(e,c))}}},e8b5:function(t,e,n){var r=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},e95a:function(t,e,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},f5df:function(t,e,n){var r=n("00ee"),o=n("c6b6"),i=n("b622"),a=i("toStringTag"),s="Arguments"==o(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(n){}};t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(e=Object(t),a))?n:s?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},f772:function(t,e,n){var r=n("5692"),o=n("90e3"),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},fb15:function(t,e,n){"use strict";n.r(e),n.d(e,"install",(function(){return RP})),n.d(e,"Map",(function(){return a})),n.d(e,"Layers",(function(){return u})),n.d(e,"Sources",(function(){return l})),n.d(e,"MapControls",(function(){return c})),n.d(e,"Geometries",(function(){return h})),n.d(e,"Styles",(function(){return p}));var r={};n.r(r),n.d(r,"boundingExtent",(function(){return V})),n.d(r,"buffer",(function(){return X})),n.d(r,"clone",(function(){return W})),n.d(r,"closestSquaredDistanceXY",(function(){return Z})),n.d(r,"containsCoordinate",(function(){return H})),n.d(r,"containsExtent",(function(){return K})),n.d(r,"containsXY",(function(){return q})),n.d(r,"coordinateRelationship",(function(){return J})),n.d(r,"createEmpty",(function(){return $})),n.d(r,"createOrUpdate",(function(){return Q})),n.d(r,"createOrUpdateEmpty",(function(){return tt})),n.d(r,"createOrUpdateFromCoordinate",(function(){return et})),n.d(r,"createOrUpdateFromCoordinates",(function(){return nt})),n.d(r,"createOrUpdateFromFlatCoordinates",(function(){return rt})),n.d(r,"createOrUpdateFromRings",(function(){return ot})),n.d(r,"equals",(function(){return it})),n.d(r,"approximatelyEquals",(function(){return at})),n.d(r,"extend",(function(){return st})),n.d(r,"extendCoordinate",(function(){return ut})),n.d(r,"extendCoordinates",(function(){return lt})),n.d(r,"extendFlatCoordinates",(function(){return ct})),n.d(r,"extendRings",(function(){return ht})),n.d(r,"extendXY",(function(){return pt})),n.d(r,"forEachCorner",(function(){return ft})),n.d(r,"getArea",(function(){return dt})),n.d(r,"getBottomLeft",(function(){return gt})),n.d(r,"getBottomRight",(function(){return yt})),n.d(r,"getCenter",(function(){return vt})),n.d(r,"getCorner",(function(){return _t})),n.d(r,"getEnlargedArea",(function(){return mt})),n.d(r,"getForViewAndSize",(function(){return Ot})),n.d(r,"getHeight",(function(){return bt})),n.d(r,"getIntersectionArea",(function(){return wt})),n.d(r,"getIntersection",(function(){return Et})),n.d(r,"getMargin",(function(){return St})),n.d(r,"getSize",(function(){return xt})),n.d(r,"getTopLeft",(function(){return Ct})),n.d(r,"getTopRight",(function(){return Tt})),n.d(r,"getWidth",(function(){return Rt})),n.d(r,"intersects",(function(){return Pt})),n.d(r,"isEmpty",(function(){return It})),n.d(r,"returnOrUpdate",(function(){return Lt})),n.d(r,"scaleFromCenter",(function(){return Mt})),n.d(r,"intersectsSegment",(function(){return Nt})),n.d(r,"applyTransform",(function(){return At})),n.d(r,"wrapX",(function(){return jt}));var o={};n.r(o),n.d(o,"easeIn",(function(){return vo})),n.d(o,"easeOut",(function(){return _o})),n.d(o,"inAndOut",(function(){return mo})),n.d(o,"linear",(function(){return Oo})),n.d(o,"upAndDown",(function(){return bo}));var i={};n.r(i),n.d(i,"all",(function(){return xa})),n.d(i,"altKeyOnly",(function(){return Ca})),n.d(i,"altShiftKeysOnly",(function(){return Ta})),n.d(i,"focus",(function(){return Ra})),n.d(i,"focusWithTabindex",(function(){return Pa})),n.d(i,"always",(function(){return Ia})),n.d(i,"click",(function(){return La})),n.d(i,"mouseActionButton",(function(){return Ma})),n.d(i,"never",(function(){return Na})),n.d(i,"pointerMove",(function(){return Aa})),n.d(i,"singleClick",(function(){return ja})),n.d(i,"doubleClick",(function(){return Fa})),n.d(i,"noModifierKeys",(function(){return Ga})),n.d(i,"platformModifierKeyOnly",(function(){return Da})),n.d(i,"shiftKeyOnly",(function(){return ka})),n.d(i,"targetNotEditable",(function(){return Ba})),n.d(i,"mouseOnly",(function(){return Ya})),n.d(i,"touchOnly",(function(){return Ua})),n.d(i,"penOnly",(function(){return Va})),n.d(i,"primaryAction",(function(){return za}));var a={};n.r(a),n.d(a,"default",(function(){return fu})),n.d(a,"install",(function(){return pu})),n.d(a,"Map",(function(){return Fs})),n.d(a,"View",(function(){return Bs})),n.d(a,"Feature",(function(){return Zs})),n.d(a,"Overlay",(function(){return ru})),n.d(a,"GeoLocation",(function(){return hu}));var s={};n.r(s),n.d(s,"all",(function(){return mh})),n.d(s,"bbox",(function(){return Oh})),n.d(s,"tile",(function(){return bh}));var u={};n.r(u),n.d(u,"default",(function(){return Uh})),n.d(u,"install",(function(){return Yh})),n.d(u,"TileLayer",(function(){return Gu})),n.d(u,"ImageLayer",(function(){return Ju})),n.d(u,"VectorLayer",(function(){return ch})),n.d(u,"AnimatedClusterLayer",(function(){return Bh}));var l={};n.r(l),n.d(l,"default",(function(){return qf})),n.d(l,"install",(function(){return Kf})),n.d(l,"SourceXYZ",(function(){return Qp})),n.d(l,"SourceOSM",(function(){return sf})),n.d(l,"SourceImageStatic",(function(){return wf})),n.d(l,"SourceWMTS",(function(){return Nf})),n.d(l,"SourceVector",(function(){return Ff})),n.d(l,"SourceCluster",(function(){return kf}));var c={};n.r(c),n.d(c,"default",(function(){return vg})),n.d(c,"install",(function(){return yg})),n.d(c,"FullScreenControl",(function(){return cd})),n.d(c,"MousePositionControl",(function(){return _d})),n.d(c,"AttributionControl",(function(){return bd})),n.d(c,"OverviewMapControl",(function(){return Id})),n.d(c,"ScaleLineControl",(function(){return Bd})),n.d(c,"ZoomControl",(function(){return Vd})),n.d(c,"ZoomSliderControl",(function(){return qd})),n.d(c,"ZoomToExtentControl",(function(){return ng})),n.d(c,"ContextMenuControl",(function(){return cg}));var h={};n.r(h),n.d(h,"default",(function(){return ly})),n.d(h,"install",(function(){return uy})),n.d(h,"Point",(function(){return Ig})),n.d(h,"LineString",(function(){return kg})),n.d(h,"Polygon",(function(){return Ug})),n.d(h,"MultiPoint",(function(){return Hg})),n.d(h,"MultiLineString",(function(){return ty})),n.d(h,"MultiPolygon",(function(){return sy}));var p={};n.r(p),n.d(p,"default",(function(){return nv})),n.d(p,"install",(function(){return ev})),n.d(p,"Style",(function(){return Fy})),n.d(p,"Stroke",(function(){return Uy})),n.d(p,"Fill",(function(){return Xy})),n.d(p,"Icon",(function(){return Hy})),n.d(p,"Text",(function(){return tv}));var f={};n.r(f),n.d(f,"default",(function(){return Dv})),n.d(f,"install",(function(){return Gv})),n.d(f,"SelectInteraction",(function(){return pv})),n.d(f,"ClusterSelectInteraction",(function(){return vv})),n.d(f,"DrawInteraction",(function(){return Ov})),n.d(f,"SnapInteraction",(function(){return Rv})),n.d(f,"ModifyInteraction",(function(){return Lv})),n.d(f,"TransformInteraction",(function(){return Fv}));var d={};n.r(d),n.d(d,"default",(function(){return E_})),n.d(d,"install",(function(){return w_})),n.d(d,"FeatureAnimation",(function(){return Yv})),n.d(d,"DropAnimation",(function(){return Kv})),n.d(d,"ShakeAnimation",(function(){return t_})),n.d(d,"ZoomAnimation",(function(){return a_})),n.d(d,"TeleportAnimation",(function(){return h_})),n.d(d,"FadeAnimation",(function(){return y_}));var g={};n.r(g),n.d(g,"Circle",(function(){return fy})),n.d(g,"Geometry",(function(){return Io})),n.d(g,"GeometryCollection",(function(){return T_})),n.d(g,"LinearRing",(function(){return ui})),n.d(g,"LineString",(function(){return Gg})),n.d(g,"MultiLineString",(function(){return $g})),n.d(g,"MultiPoint",(function(){return Wg})),n.d(g,"MultiPolygon",(function(){return iy})),n.d(g,"Point",(function(){return hi})),n.d(g,"Polygon",(function(){return Mi})),n.d(g,"SimpleGeometry",(function(){return Fo}));var y={};if(n.r(y),n.d(y,"EsriJSON",(function(){return rm})),n.d(y,"GeoJSON",(function(){return wm})),n.d(y,"GML",(function(){return RO})),n.d(y,"GPX",(function(){return _b})),n.d(y,"IGC",(function(){return Ib})),n.d(y,"IIIFInfo",(function(){return Kb})),n.d(y,"KML",(function(){return CS})),n.d(y,"MVT",(function(){return kS})),n.d(y,"OWS",(function(){return bx})),n.d(y,"Polyline",(function(){return Ax})),n.d(y,"TopoJSON",(function(){return qx})),n.d(y,"WFS",(function(){return jT})),n.d(y,"WKT",(function(){return oR})),n.d(y,"WMSCapabilities",(function(){return ZR})),n.d(y,"WMSGetFeatureInfo",(function(){return $R})),n.d(y,"WMTSCapabilities",(function(){return TP})),"undefined"!==typeof window){var v=window.document.currentScript,_=n("8875");v=_(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:_});var m=v&&v.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);m&&(n.p=m[1])}n("b0c0");var O=n("8bbf");function b(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",{ref:function(t){return r.mapRef=t}},[Object(O["renderSlot"])(t.$slots,"default")],512)}n("a9e3");var w=n("da5c"),E=n("57cb"),S=n("1300"),x=n("617d"),C=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),T=function(t){function e(e){var n=this,r="latest"===S["a"]?S["a"]:"v"+S["a"].split("-")[0],o="Assertion failed. See https://openlayers.org/en/"+r+"/doc/errors/#"+e+" for details.";return n=t.call(this,o)||this,n.code=e,n.name="AssertionError",n.message=o,n}return C(e,t),e}(Error),R=T;function P(t,e){if(!t)throw new R(e)}var I;new Array(6);function L(){return[1,0,0,1,0,0]}function M(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=t[4],s=t[5],u=e[0],l=e[1],c=e[2],h=e[3],p=e[4],f=e[5];return t[0]=n*u+o*l,t[1]=r*u+i*l,t[2]=n*c+o*h,t[3]=r*c+i*h,t[4]=n*p+o*f+a,t[5]=r*p+i*f+s,t}function N(t,e,n,r,o,i,a){return t[0]=e,t[1]=n,t[2]=r,t[3]=o,t[4]=i,t[5]=a,t}function A(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function j(t,e){var n=e[0],r=e[1];return e[0]=t[0]*n+t[2]*r+t[4],e[1]=t[1]*n+t[3]*r+t[5],e}function F(t,e,n){return N(t,e,0,0,n,0,0)}function G(t,e,n,r,o,i,a,s){var u=Math.sin(i),l=Math.cos(i);return t[0]=r*l,t[1]=o*u,t[2]=-r*u,t[3]=o*l,t[4]=a*r*l-s*r*u+e,t[5]=a*o*u+s*o*l+n,t}function D(t,e){var n=k(e);P(0!==n,32);var r=e[0],o=e[1],i=e[2],a=e[3],s=e[4],u=e[5];return t[0]=a/n,t[1]=-o/n,t[2]=-i/n,t[3]=r/n,t[4]=(i*u-a*s)/n,t[5]=-(r*u-o*s)/n,t}function k(t){return t[0]*t[3]-t[1]*t[2]}function B(t){var e="matrix("+t.join(", ")+")";if(x["g"])return e;var n=I||(I=document.createElement("div"));return n.style.transform=e,n.style.transform}var Y={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},U={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function V(t){for(var e=$(),n=0,r=t.length;n<r;++n)ut(e,t[n]);return e}function z(t,e,n){var r=Math.min.apply(null,t),o=Math.min.apply(null,e),i=Math.max.apply(null,t),a=Math.max.apply(null,e);return Q(r,o,i,a,n)}function X(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function W(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function Z(t,e,n){var r,o;return r=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,o=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,r*r+o*o}function H(t,e){return q(t,e[0],e[1])}function K(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function q(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function J(t,e){var n=t[0],r=t[1],o=t[2],i=t[3],a=e[0],s=e[1],u=U.UNKNOWN;return a<n?u|=U.LEFT:a>o&&(u|=U.RIGHT),s<r?u|=U.BELOW:s>i&&(u|=U.ABOVE),u===U.UNKNOWN&&(u=U.INTERSECTING),u}function $(){return[1/0,1/0,-1/0,-1/0]}function Q(t,e,n,r,o){return o?(o[0]=t,o[1]=e,o[2]=n,o[3]=r,o):[t,e,n,r]}function tt(t){return Q(1/0,1/0,-1/0,-1/0,t)}function et(t,e){var n=t[0],r=t[1];return Q(n,r,n,r,e)}function nt(t,e){var n=tt(e);return lt(n,t)}function rt(t,e,n,r,o){var i=tt(o);return ct(i,t,e,n,r)}function ot(t,e){var n=tt(e);return ht(n,t)}function it(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function at(t,e,n){return Math.abs(t[0]-e[0])<n&&Math.abs(t[2]-e[2])<n&&Math.abs(t[1]-e[1])<n&&Math.abs(t[3]-e[3])<n}function st(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function ut(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function lt(t,e){for(var n=0,r=e.length;n<r;++n)ut(t,e[n]);return t}function ct(t,e,n,r,o){for(;n<r;n+=o)pt(t,e[n],e[n+1]);return t}function ht(t,e){for(var n=0,r=e.length;n<r;++n)lt(t,e[n]);return t}function pt(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function ft(t,e){var n;return n=e(gt(t)),n||(n=e(yt(t)),n||(n=e(Tt(t)),n||(n=e(Ct(t)),n||!1)))}function dt(t){var e=0;return It(t)||(e=Rt(t)*bt(t)),e}function gt(t){return[t[0],t[1]]}function yt(t){return[t[2],t[1]]}function vt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function _t(t,e){var n;return e===Y.BOTTOM_LEFT?n=gt(t):e===Y.BOTTOM_RIGHT?n=yt(t):e===Y.TOP_LEFT?n=Ct(t):e===Y.TOP_RIGHT?n=Tt(t):P(!1,13),n}function mt(t,e){var n=Math.min(t[0],e[0]),r=Math.min(t[1],e[1]),o=Math.max(t[2],e[2]),i=Math.max(t[3],e[3]);return(o-n)*(i-r)}function Ot(t,e,n,r,o){var i=e*r[0]/2,a=e*r[1]/2,s=Math.cos(n),u=Math.sin(n),l=i*s,c=i*u,h=a*s,p=a*u,f=t[0],d=t[1],g=f-l+p,y=f-l-p,v=f+l-p,_=f+l+p,m=d-c-h,O=d-c+h,b=d+c+h,w=d+c-h;return Q(Math.min(g,y,v,_),Math.min(m,O,b,w),Math.max(g,y,v,_),Math.max(m,O,b,w),o)}function bt(t){return t[3]-t[1]}function wt(t,e){var n=Et(t,e);return dt(n)}function Et(t,e,n){var r=n||$();return Pt(t,e)?(t[0]>e[0]?r[0]=t[0]:r[0]=e[0],t[1]>e[1]?r[1]=t[1]:r[1]=e[1],t[2]<e[2]?r[2]=t[2]:r[2]=e[2],t[3]<e[3]?r[3]=t[3]:r[3]=e[3]):tt(r),r}function St(t){return Rt(t)+bt(t)}function xt(t){return[t[2]-t[0],t[3]-t[1]]}function Ct(t){return[t[0],t[3]]}function Tt(t){return[t[2],t[3]]}function Rt(t){return t[2]-t[0]}function Pt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function It(t){return t[2]<t[0]||t[3]<t[1]}function Lt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function Mt(t,e){var n=(t[2]-t[0])/2*(e-1),r=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=r,t[3]+=r}function Nt(t,e,n){var r=!1,o=J(t,e),i=J(t,n);if(o===U.INTERSECTING||i===U.INTERSECTING)r=!0;else{var a=t[0],s=t[1],u=t[2],l=t[3],c=e[0],h=e[1],p=n[0],f=n[1],d=(f-h)/(p-c),g=void 0,y=void 0;i&U.ABOVE&&!(o&U.ABOVE)&&(g=p-(f-l)/d,r=g>=a&&g<=u),r||!(i&U.RIGHT)||o&U.RIGHT||(y=f-(p-u)*d,r=y>=s&&y<=l),r||!(i&U.BELOW)||o&U.BELOW||(g=p-(f-s)/d,r=g>=a&&g<=u),r||!(i&U.LEFT)||o&U.LEFT||(y=f-(p-a)*d,r=y>=s&&y<=l)}return r}function At(t,e,n,r){var o=[];if(r>1)for(var i=t[2]-t[0],a=t[3]-t[1],s=0;s<r;++s)o.push(t[0]+i*s/r,t[1],t[2],t[1]+a*s/r,t[2]-i*s/r,t[3],t[0],t[3]-a*s/r);else o=[t[0],t[1],t[2],t[1],t[2],t[3],t[0],t[3]];e(o,o,2);for(var u=[],l=[],c=(s=0,o.length);s<c;s+=2)u.push(o[s]),l.push(o[s+1]);return z(u,l,n)}function jt(t,e){var n=e.getExtent(),r=vt(t);if(e.canWrapX()&&(r[0]<n[0]||r[0]>=n[2])){var o=Rt(n),i=Math.floor((r[0]-n[0])/o),a=i*o;t[0]-=a,t[2]-=a}return t}function Ft(t,e,n){return Math.min(Math.max(t,e),n)}var Gt=function(){var t;return t="cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2},t}(),Dt=function(){var t;return t="log2"in Math?Math.log2:function(t){return Math.log(t)*Math.LOG2E},t}();function kt(t,e,n,r,o,i){var a=o-n,s=i-r;if(0!==a||0!==s){var u=((t-n)*a+(e-r)*s)/(a*a+s*s);u>1?(n=o,r=i):u>0&&(n+=a*u,r+=s*u)}return Bt(t,e,n,r)}function Bt(t,e,n,r){var o=n-t,i=r-e;return o*o+i*i}function Yt(t){for(var e=t.length,n=0;n<e;n++){for(var r=n,o=Math.abs(t[n][n]),i=n+1;i<e;i++){var a=Math.abs(t[i][n]);a>o&&(o=a,r=i)}if(0===o)return null;var s=t[r];t[r]=t[n],t[n]=s;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],c=n;c<e+1;c++)n==c?t[u][c]=0:t[u][c]+=l*t[n][c]}for(var h=new Array(e),p=e-1;p>=0;p--){h[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*h[p]}return h}function Ut(t){return 180*t/Math.PI}function Vt(t){return t*Math.PI/180}function zt(t,e){var n=t%e;return n*e<0?n+e:n}function Xt(t,e,n){return t+n*(e-t)}var Wt=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Zt=/^([a-z]*)$|^hsla?\(.*\)$/i;function Ht(t){return"string"===typeof t?t:te(t)}function Kt(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}var qt=function(){var t=1024,e={},n=0;return function(r){var o;if(e.hasOwnProperty(r))o=e[r];else{if(n>=t){var i=0;for(var a in e)0===(3&i++)&&(delete e[a],--n)}o=$t(r),e[r]=o,++n}return o}}();function Jt(t){return Array.isArray(t)?t:qt(t)}function $t(t){var e,n,r,o,i;if(Zt.exec(t)&&(t=Kt(t)),Wt.exec(t)){var a=t.length-1,s=void 0;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),r=parseInt(t.substr(1+2*s,s),16),o=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,r=(r<<4)+r,u&&(o=(o<<4)+o)),i=[e,n,r,o/255]}else 0==t.indexOf("rgba(")?(i=t.slice(5,-1).split(",").map(Number),Qt(i)):0==t.indexOf("rgb(")?(i=t.slice(4,-1).split(",").map(Number),i.push(1),Qt(i)):P(!1,14);return i}function Qt(t){return t[0]=Ft(t[0]+.5|0,0,255),t[1]=Ft(t[1]+.5|0,0,255),t[2]=Ft(t[2]+.5|0,0,255),t[3]=Ft(t[3],0,1),t}function te(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var r=t[2];r!=(0|r)&&(r=r+.5|0);var o=void 0===t[3]?1:t[3];return"rgba("+e+","+n+","+r+","+o+")"}var ee=function(){function t(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},t.prototype.expire=function(){if(this.canExpireCache()){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},t.prototype.get=function(t,e,n){var r=ne(t,e,n);return r in this.cache_?this.cache_[r]:null},t.prototype.set=function(t,e,n,r){var o=ne(t,e,n);this.cache_[o]=r,++this.cacheSize_},t.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()},t}();function ne(t,e,n){var r=n?Ht(n):"null";return e+":"+t+":"+r}var re=new ee,oe=n("e269"),ie={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source"},ae=n("38f3"),se=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ue=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=Object(ae["a"])({},e);return"object"===typeof e.properties&&(delete r.properties,Object(ae["a"])(r,e.properties)),r[ie.OPACITY]=void 0!==e.opacity?e.opacity:1,P("number"===typeof r[ie.OPACITY],64),r[ie.VISIBLE]=void 0===e.visible||e.visible,r[ie.Z_INDEX]=e.zIndex,r[ie.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,r[ie.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,r[ie.MIN_ZOOM]=void 0!==e.minZoom?e.minZoom:-1/0,r[ie.MAX_ZOOM]=void 0!==e.maxZoom?e.maxZoom:1/0,n.className_=void 0!==r.className?e.className:"ol-layer",delete r.className,n.setProperties(r),n.state_=null,n}return se(e,t),e.prototype.getClassName=function(){return this.className_},e.prototype.getLayerState=function(t){var e=this.state_||{layer:this,managed:void 0===t||t},n=this.getZIndex();return e.opacity=Ft(Math.round(100*this.getOpacity())/100,0,1),e.sourceState=this.getSourceState(),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=void 0!==n||e.managed?n:1/0,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e},e.prototype.getLayersArray=function(t){return Object(S["b"])()},e.prototype.getLayerStatesArray=function(t){return Object(S["b"])()},e.prototype.getExtent=function(){return this.get(ie.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(ie.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(ie.MIN_RESOLUTION)},e.prototype.getMinZoom=function(){return this.get(ie.MIN_ZOOM)},e.prototype.getMaxZoom=function(){return this.get(ie.MAX_ZOOM)},e.prototype.getOpacity=function(){return this.get(ie.OPACITY)},e.prototype.getSourceState=function(){return Object(S["b"])()},e.prototype.getVisible=function(){return this.get(ie.VISIBLE)},e.prototype.getZIndex=function(){return this.get(ie.Z_INDEX)},e.prototype.setExtent=function(t){this.set(ie.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(ie.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(ie.MIN_RESOLUTION,t)},e.prototype.setMaxZoom=function(t){this.set(ie.MAX_ZOOM,t)},e.prototype.setMinZoom=function(t){this.set(ie.MIN_ZOOM,t)},e.prototype.setOpacity=function(t){P("number"===typeof t,64),this.set(ie.OPACITY,t)},e.prototype.setVisible=function(t){this.set(ie.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(ie.Z_INDEX,t)},e.prototype.disposeInternal=function(){this.state_&&(this.state_.layer=null,this.state_=null),t.prototype.disposeInternal.call(this)},e}(oe["a"]),le=ue,ce=n("01d4"),he={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"},pe={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},fe=n("1e8d"),de=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ge=function(t){function e(e){var n=this,r=Object(ae["a"])({},e);delete r.source,n=t.call(this,r)||this,n.on,n.once,n.un,n.mapPrecomposeKey_=null,n.mapRenderKey_=null,n.sourceChangeKey_=null,n.renderer_=null,e.render&&(n.render=e.render),e.map&&n.setMap(e.map),n.addChangeListener(ie.SOURCE,n.handleSourcePropertyChange_);var o=e.source?e.source:null;return n.setSource(o),n}return de(e,t),e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(ie.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():pe.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(fe["c"])(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=Object(fe["a"])(t,ce["a"].CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.getFeatures=function(t){return this.renderer_?this.renderer_.getFeatures(t):new Promise((function(t){return t([])}))},e.prototype.render=function(t,e){var n=this.getRenderer();if(n.prepareFrame(t))return n.renderFrame(t,e)},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(Object(fe["c"])(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Object(fe["c"])(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=Object(fe["a"])(t,he.PRECOMPOSE,(function(t){var e=t,n=e.frameState.layerStatesArray,r=this.getLayerState(!1);P(!n.some((function(t){return t.layer===r.layer})),67),n.push(r)}),this),this.mapRenderKey_=Object(fe["a"])(this,ce["a"].CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(ie.SOURCE,t)},e.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},e.prototype.hasRenderer=function(){return!!this.renderer_},e.prototype.createRenderer=function(){return null},e.prototype.disposeInternal=function(){this.setSource(null),t.prototype.disposeInternal.call(this)},e}(le);function ye(t,e){if(!t.visible)return!1;var n=e.resolution;if(n<t.minResolution||n>=t.maxResolution)return!1;var r=e.zoom;return r>t.minZoom&&r<=t.maxZoom}var ve=ge;function _e(t,e,n){var r=void 0!==n?t.toFixed(n):""+t,o=r.indexOf(".");return o=-1===o?r.length:o,o>e?r:new Array(1+e-o).join("0")+r}function me(t,e){return t[0]+=+e[0],t[1]+=+e[1],t}function Oe(t,e){var n=e.getRadius(),r=e.getCenter(),o=r[0],i=r[1],a=t[0],s=t[1],u=a-o,l=s-i;0===u&&0===l&&(u=1);var c=Math.sqrt(u*u+l*l),h=o+n*u/c,p=i+n*l/c;return[h,p]}function be(t,e){var n,r,o=t[0],i=t[1],a=e[0],s=e[1],u=a[0],l=a[1],c=s[0],h=s[1],p=c-u,f=h-l,d=0===p&&0===f?0:(p*(o-u)+f*(i-l))/(p*p+f*f||0);return d<=0?(n=u,r=l):d>=1?(n=c,r=h):(n=u+d*p,r=l+d*f),[n,r]}function we(t,e){for(var n=!0,r=t.length-1;r>=0;--r)if(t[r]!=e[r]){n=!1;break}return n}function Ee(t,e){var n=Math.cos(e),r=Math.sin(e),o=t[0]*n-t[1]*r,i=t[1]*n+t[0]*r;return t[0]=o,t[1]=i,t}function Se(t,e){return t[0]*=e,t[1]*=e,t}function xe(t,e){var n=t[0]-e[0],r=t[1]-e[1];return n*n+r*r}function Ce(t,e){return Math.sqrt(xe(t,e))}function Te(t,e){return xe(t,be(t,e))}function Re(t,e){if(e.canWrapX()){var n=Rt(e.getExtent()),r=Pe(t,e,n);r&&(t[0]-=r*n)}return t}function Pe(t,e,n){var r=e.getExtent(),o=0;if(e.canWrapX()&&(t[0]<r[0]||t[0]>r[2])){var i=n||Rt(r);o=Math.floor((t[0]-r[0])/i)}return o}var Ie=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Le=function(t){function e(e){var n=t.call(this)||this;return n.map_=e,n}return Ie(e,t),e.prototype.dispatchRenderEvent=function(t,e){Object(S["b"])()},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,r=t.pixelToCoordinateTransform;G(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),D(r,n)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i,a,s){var u,l=e.viewState;function c(t,e,n,r){return o.call(i,e,t?n:null,r)}var h=l.projection,p=Re(t.slice(),h),f=[[0,0]];if(h.canWrapX()&&r){var d=h.getExtent(),g=Rt(d);f.push([-g,0],[g,0])}for(var y=e.layerStatesArray,v=y.length,_=[],m=[],O=0;O<f.length;O++)for(var b=v-1;b>=0;--b){var w=y[b],E=w.layer;if(E.hasRenderer()&&ye(w,l)&&a.call(s,E)){var S=E.getRenderer(),x=E.getSource();if(S&&x){var C=x.getWrapX()?p:t,T=c.bind(null,w.managed);m[0]=C[0]+f[O][0],m[1]=C[1]+f[O][1],u=S.forEachFeatureAtCoordinate(m,e,n,T,_)}if(u)return u}}if(0!==_.length){var R=1/_.length;return _.forEach((function(t,e){return t.distanceSq+=e*R})),_.sort((function(t,e){return t.distanceSq-e.distanceSq})),_.some((function(t){return u=t.callback(t.feature,t.layer,t.geometry)})),u}},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){return Object(S["b"])()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,r,o,i){var a=this.forEachFeatureAtCoordinate(t,e,n,r,E["b"],this,o,i);return void 0!==a},e.prototype.getMap=function(){return this.map_},e.prototype.renderFrame=function(t){Object(S["b"])()},e.prototype.scheduleExpireIconCache=function(t){re.canExpireCache()&&t.postRenderFunctions.push(Me)},e}(w["a"]);function Me(t,e){re.expire()}var Ne=Le,Ae=n("7b4f"),je=n("cef7"),Fe=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ge=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.inversePixelTransform=n,i.frameState=r,i.context=o,i}return Fe(e,t),e}(je["a"]),De=Ge,ke="ol-hidden",Be="ol-selectable",Ye="ol-unselectable",Ue="ol-unsupported",Ve="ol-control",ze="ol-collapsed",Xe=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),We=["style","variant","weight","size","lineHeight","family"],Ze=function(t){var e=t.match(Xe);if(!e)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},r=0,o=We.length;r<o;++r){var i=e[r+1];void 0!==i&&(n[We[r]]=i)}return n.families=n.family.split(/,\s?/),n},He=n("0ec0"),Ke=n("0999"),qe="10px sans-serif",Je="#000",$e="round",Qe=[],tn=0,en="round",nn=10,rn="#000",on="center",an="middle",sn=[0,0,0,0],un=1,ln=new oe["a"],cn=new He["a"];cn.setSize=function(){console.warn("labelCache is deprecated.")};var hn,pn=null,fn={},dn=function(){var t,e,n=100,r="32px ",o=["monospace","serif"],i=o.length,a="wmytzilWMYTZIL@#/&?$%10";function s(t,n,s){for(var u=!0,l=0;l<i;++l){var c=o[l];if(e=vn(t+" "+n+" "+r+c,a),s!=c){var h=vn(t+" "+n+" "+r+s+","+c,a);u=u&&h!=e}}return!!u}function u(){for(var e=!0,r=ln.getKeys(),o=0,i=r.length;o<i;++o){var a=r[o];ln.get(a)<n&&(s.apply(this,a.split("\n"))?(Object(ae["b"])(fn),pn=null,hn=void 0,ln.set(a,n)):(ln.set(a,ln.get(a)+1,!0),e=!1))}e&&(clearInterval(t),t=void 0)}return function(e){var r=Ze(e);if(r)for(var o=r.families,i=0,a=o.length;i<a;++i){var l=o[i],c=r.style+"\n"+r.weight+"\n"+l;void 0===ln.get(c)&&(ln.set(c,n,!0),s(r.style,r.weight,l)||(ln.set(c,0,!0),void 0===t&&(t=setInterval(u,32))))}}}(),gn=function(){var t;return function(e){var n=fn[e];if(void 0==n){if(x["g"]){var r=Ze(e),o=yn(e,"Žg"),i=isNaN(Number(r.lineHeight))?1.2:Number(r.lineHeight);n=i*(o.actualBoundingBoxAscent+o.actualBoundingBoxDescent)}else t||(t=document.createElement("div"),t.innerHTML="M",t.style.minHeight="0",t.style.maxHeight="none",t.style.height="auto",t.style.padding="0",t.style.border="none",t.style.position="absolute",t.style.display="block",t.style.left="-99999px"),t.style.font=e,document.body.appendChild(t),n=t.offsetHeight,document.body.removeChild(t);fn[e]=n}return n}}();function yn(t,e){return pn||(pn=Object(Ke["a"])(1,1)),t!=hn&&(pn.font=t,hn=pn.font),pn.measureText(e)}function vn(t,e){return yn(t,e).width}function _n(t,e,n){if(e in n)return n[e];var r=vn(t,e);return n[e]=r,r}function mn(t,e,n){for(var r=e.length,o=0,i=0;i<r;++i){var a=vn(t,e[i]);o=Math.max(o,a),n.push(a)}return o}function On(t,e,n,r,o,i,a,s,u,l,c){t.save(),1!==n&&(t.globalAlpha*=n),e&&t.setTransform.apply(t,e),r.contextInstructions?(t.translate(u,l),t.scale(c[0],c[1]),bn(r,t)):c[0]<0||c[1]<0?(t.translate(u,l),t.scale(c[0],c[1]),t.drawImage(r,o,i,a,s,0,0,a,s)):t.drawImage(r,o,i,a,s,u,l,a*c[0],s*c[1]),t.restore()}function bn(t,e){for(var n=t.contextInstructions,r=0,o=n.length;r<o;r+=2)Array.isArray(n[r+1])?e[n[r]].apply(e,n[r+1]):e[n[r]]=n[r+1]}var wn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),En=function(t){function e(e){var n=t.call(this,e)||this;n.fontChangeListenerKey_=Object(fe["a"])(ln,Ae["a"].PROPERTYCHANGE,e.redrawText.bind(e)),n.element_=document.createElement("div");var r=n.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",n.element_.className=Ye+" ol-layers";var o=e.getViewport();return o.insertBefore(n.element_,o.firstChild||null),n.children_=[],n.renderedVisible_=!0,n}return wn(e,t),e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap();if(n.hasListener(t)){var r=new De(t,void 0,e);n.dispatchEvent(r)}},e.prototype.disposeInternal=function(){Object(fe["c"])(this.fontChangeListenerKey_),this.element_.parentNode.removeChild(this.element_),t.prototype.disposeInternal.call(this)},e.prototype.renderFrame=function(t){if(t){this.calculateMatrices2D(t),this.dispatchRenderEvent(he.PRECOMPOSE,t);var e=t.layerStatesArray.sort((function(t,e){return t.zIndex-e.zIndex})),n=t.viewState;this.children_.length=0;for(var r=[],o=null,i=0,a=e.length;i<a;++i){var s=e[i];if(t.layerIndex=i,ye(s,n)&&(s.sourceState==pe.READY||s.sourceState==pe.UNDEFINED)){var u=s.layer,l=u.render(t,o);l&&(l!==o&&(this.children_.push(l),o=l),"getDeclutter"in u&&r.push(u))}}for(i=r.length-1;i>=0;--i)r[i].renderDeclutter(t);Object(Ke["f"])(this.element_,this.children_),this.dispatchRenderEvent(he.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)},e.prototype.forEachLayerAtPixel=function(t,e,n,r,o){for(var i=e.viewState,a=e.layerStatesArray,s=a.length,u=s-1;u>=0;--u){var l=a[u],c=l.layer;if(c.hasRenderer()&&ye(l,i)&&o(c)){var h=c.getRenderer(),p=h.getDataAtPixel(t,e,n);if(p){var f=r(c,p);if(f)return f}}}},e}(Ne),Sn=En,xn={ADD:"add",REMOVE:"remove"},Cn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tn={LENGTH:"length"},Rn=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.element=n,o.index=r,o}return Cn(e,t),e}(je["a"]),Pn=function(t){function e(e,n){var r=t.call(this)||this;r.on,r.once,r.un;var o=n||{};if(r.unique_=!!o.unique,r.array_=e||[],r.unique_)for(var i=0,a=r.array_.length;i<a;++i)r.assertUnique_(r.array_[i],i);return r.updateLength_(),r}return Cn(e,t),e.prototype.clear=function(){while(this.getLength()>0)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(Tn.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Rn(xn.ADD,e,t))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,r=e.length;n<r;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Rn(xn.REMOVE,e,t)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var r=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Rn(xn.REMOVE,r,t)),this.dispatchEvent(new Rn(xn.ADD,e,t))}else{for(var o=n;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(Tn.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,r=this.array_.length;n<r;++n)if(this.array_[n]===t&&n!==e)throw new R(58)},e}(oe["a"]),In=Pn,Ln=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mn={LAYERS:"layers"},Nn=function(t){function e(e){var n=this,r=e||{},o=Object(ae["a"])({},r);delete o.layers;var i=r.layers;return n=t.call(this,o)||this,n.layersListenerKeys_=[],n.listenerKeys_={},n.addChangeListener(Mn.LAYERS,n.handleLayersChanged_),i?Array.isArray(i)?i=new In(i.slice(),{unique:!0}):P("function"===typeof i.getArray,43):i=new In(void 0,{unique:!0}),n.setLayers(i),n}return Ln(e,t),e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(fe["c"]),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var e in this.layersListenerKeys_.push(Object(fe["a"])(t,xn.ADD,this.handleLayersAdd_,this),Object(fe["a"])(t,xn.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[e].forEach(fe["c"]);Object(ae["b"])(this.listenerKeys_);for(var n=t.getArray(),r=0,o=n.length;r<o;r++){var i=n[r];this.listenerKeys_[Object(S["c"])(i)]=[Object(fe["a"])(i,Ae["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(fe["a"])(i,ce["a"].CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[Object(S["c"])(e)]=[Object(fe["a"])(e,Ae["a"].PROPERTYCHANGE,this.handleLayerChange_,this),Object(fe["a"])(e,ce["a"].CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=Object(S["c"])(e);this.listenerKeys_[n].forEach(fe["c"]),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(Mn.LAYERS)},e.prototype.setLayers=function(t){this.set(Mn.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach((function(t){t.getLayersArray(e)})),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach((function(t){t.getLayerStatesArray(e)}));var r=this.getLayerState(),o=r.zIndex;t||void 0!==r.zIndex||(o=0);for(var i=n,a=e.length;i<a;i++){var s=e[i];s.opacity*=r.opacity,s.visible=s.visible&&r.visible,s.maxResolution=Math.min(s.maxResolution,r.maxResolution),s.minResolution=Math.max(s.minResolution,r.minResolution),s.minZoom=Math.max(s.minZoom,r.minZoom),s.maxZoom=Math.min(s.maxZoom,r.maxZoom),void 0!==r.extent&&(void 0!==s.extent?s.extent=Et(s.extent,r.extent):s.extent=r.extent),void 0===s.zIndex&&(s.zIndex=o)}return e},e.prototype.getSourceState=function(){return pe.READY},e}(le),An=Nn,jn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fn=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.map=n,o.frameState=void 0!==r?r:null,o}return jn(e,t),e}(je["a"]),Gn=Fn,Dn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),kn=function(t){function e(e,n,r,o,i){var a=t.call(this,e,n,i)||this;return a.originalEvent=r,a.pixel_=null,a.coordinate_=null,a.dragging=void 0!==o&&o,a}return Dn(e,t),Object.defineProperty(e.prototype,"pixel",{get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(t){this.pixel_=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinate",{get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(t){this.coordinate_=t},enumerable:!1,configurable:!0}),e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()},e}(Gn),Bn=kn,Yn={SINGLECLICK:"singleclick",CLICK:ce["a"].CLICK,DBLCLICK:ce["a"].DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Un={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},Vn=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zn=function(t){function e(e,n){var r=t.call(this,e)||this;r.map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===n?1:n,r.down_=null;var o=r.map_.getViewport();return r.activePointers_=0,r.trackedTouches_={},r.element_=o,r.pointerdownListenerKey_=Object(fe["a"])(o,Un.POINTERDOWN,r.handlePointerDown_,r),r.originalPointerMoveEvent_,r.relayedListenerKey_=Object(fe["a"])(o,Un.POINTERMOVE,r.relayEvent_,r),r.boundHandleTouchMove_=r.handleTouchMove_.bind(r),r.element_.addEventListener(ce["a"].TOUCHMOVE,r.boundHandleTouchMove_,!!x["e"]&&{passive:!1}),r}return Vn(e,t),e.prototype.emulateClick_=function(t){var e=new Bn(Yn.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new Bn(Yn.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new Bn(Yn.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==Yn.POINTERUP||e.type==Yn.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==Yn.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new Bn(Yn.POINTERUP,this.map_,t);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(fe["c"]),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.emulateClicks_=0===this.activePointers_,this.updateActivePointers_(t);var e=new Bn(Yn.POINTERDOWN,this.map_,t);for(var n in this.dispatchEvent(e),this.down_={},t){var r=t[n];this.down_[n]="function"===typeof r?E["c"]:r}if(0===this.dragListenerKeys_.length){var o=this.map_.getOwnerDocument();this.dragListenerKeys_.push(Object(fe["a"])(o,Yn.POINTERMOVE,this.handlePointerMove_,this),Object(fe["a"])(o,Yn.POINTERUP,this.handlePointerUp_,this),Object(fe["a"])(this.element_,Yn.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==o&&this.dragListenerKeys_.push(Object(fe["a"])(this.element_.getRootNode(),Yn.POINTERUP,this.handlePointerUp_,this))}},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new Bn(Yn.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}},e.prototype.relayEvent_=function(t){this.originalPointerMoveEvent_=t;var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new Bn(t.type,this.map_,t,e))},e.prototype.handleTouchMove_=function(t){var e=this.originalPointerMoveEvent_;e&&!e.defaultPrevented||"boolean"===typeof t.cancelable&&!0!==t.cancelable||t.preventDefault()},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(Object(fe["c"])(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(ce["a"].TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Object(fe["c"])(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(fe["c"]),this.dragListenerKeys_.length=0,this.element_=null,t.prototype.disposeInternal.call(this)},e}(He["a"]),Xn=zn,Wn=n("592d"),Zn={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Hn=1/0,Kn=function(){function t(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return t.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,Object(ae["b"])(this.queuedElements_)},t.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var r=this.keyFunction_(n);return delete this.queuedElements_[r],n},t.prototype.enqueue=function(t){P(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=Hn&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},t.prototype.getCount=function(){return this.elements_.length},t.prototype.getLeftChildIndex_=function(t){return 2*t+1},t.prototype.getRightChildIndex_=function(t){return 2*t+2},t.prototype.getParentIndex_=function(t){return t-1>>1},t.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},t.prototype.isEmpty=function(){return 0===this.elements_.length},t.prototype.isKeyQueued=function(t){return t in this.queuedElements_},t.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},t.prototype.siftUp_=function(t){var e=this.elements_,n=this.priorities_,r=e.length,o=e[t],i=n[t],a=t;while(t<r>>1){var s=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<r&&n[u]<n[s]?u:s;e[t]=e[l],n[t]=n[l],t=l}e[t]=o,n[t]=i,this.siftDown_(a,t)},t.prototype.siftDown_=function(t,e){var n=this.elements_,r=this.priorities_,o=n[e],i=r[e];while(e>t){var a=this.getParentIndex_(e);if(!(r[a]>i))break;n[e]=n[a],r[e]=r[a],e=a}n[e]=o,r[e]=i},t.prototype.reprioritize=function(){var t,e,n,r=this.priorityFunction_,o=this.elements_,i=this.priorities_,a=0,s=o.length;for(e=0;e<s;++e)t=o[e],n=r(t),n==Hn?delete this.queuedElements_[this.keyFunction_(t)]:(i[a]=n,o[a++]=t);o.length=a,i.length=a,this.heapify_()},t}(),qn=Kn,Jn={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},$n=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qn=function(t){function e(e,n){var r=t.call(this,(function(t){return e.apply(null,t)}),(function(t){return t[0].getKey()}))||this;return r.boundHandleTileChange_=r.handleTileChange.bind(r),r.tileChangeCallback_=n,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return $n(e,t),e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){var r=e[0];r.addEventListener(ce["a"].CHANGE,this.boundHandleTileChange_)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===Jn.LOADED||n===Jn.ERROR||n===Jn.EMPTY){e.removeEventListener(ce["a"].CHANGE,this.boundHandleTileChange_);var r=e.getKey();r in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[r],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){var n,r,o,i=0;while(this.tilesLoading_<t&&i<e&&this.getCount()>0)r=this.dequeue()[0],o=r.getKey(),n=r.getState(),n!==Jn.IDLE||o in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,r.load())},e}(qn),tr=Qn;function er(t,e,n,r,o){if(!t||!(n in t.wantedTiles))return Hn;if(!t.wantedTiles[n][e.getKey()])return Hn;var i=t.viewState.center,a=r[0]-i[0],s=r[1]-i[1];return 65536*Math.log(o)+Math.sqrt(a*a+s*s)/o}var nr={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},rr={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},or={};or[rr.DEGREES]=2*Math.PI*6370997/360,or[rr.FEET]=.3048,or[rr.METERS]=1,or[rr.USFEET]=1200/3937;var ir=rr,ar={ANIMATING:0,INTERACTING:1},sr={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},ur=42,lr=256,cr=function(){function t(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return t.prototype.canWrapX=function(){return this.canWrapX_},t.prototype.getCode=function(){return this.code_},t.prototype.getExtent=function(){return this.extent_},t.prototype.getUnits=function(){return this.units_},t.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||or[this.units_]},t.prototype.getWorldExtent=function(){return this.worldExtent_},t.prototype.getAxisOrientation=function(){return this.axisOrientation_},t.prototype.isGlobal=function(){return this.global_},t.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},t.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},t.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},t.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},t.prototype.setWorldExtent=function(t){this.worldExtent_=t},t.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},t.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},t}(),hr=cr,pr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fr=6378137,dr=Math.PI*fr,gr=[-dr,-dr,dr,dr],yr=[-180,-85,180,85],vr=fr*Math.log(Math.tan(Math.PI/2)),_r=function(t){function e(e){return t.call(this,{code:e,units:ir.METERS,extent:gr,global:!0,worldExtent:yr,getPointResolution:function(t,e){return t/Gt(e[1]/fr)}})||this}return pr(e,t),e}(hr),mr=[new _r("EPSG:3857"),new _r("EPSG:102100"),new _r("EPSG:102113"),new _r("EPSG:900913"),new _r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function Or(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=0;a<r;a+=o){i[a]=dr*t[a]/180;var s=fr*Math.log(Math.tan(Math.PI*(+t[a+1]+90)/360));s>vr?s=vr:s<-vr&&(s=-vr),i[a+1]=s}return i}function br(t,e,n){var r=t.length,o=n>1?n:2,i=e;void 0===i&&(i=o>2?t.slice():new Array(r));for(var a=0;a<r;a+=o)i[a]=180*t[a]/dr,i[a+1]=360*Math.atan(Math.exp(t[a+1]/fr))/Math.PI-90;return i}var wr=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Er=6378137,Sr=[-180,-90,180,90],xr=Math.PI*Er/180,Cr=function(t){function e(e,n){return t.call(this,{code:e,units:ir.DEGREES,extent:Sr,axisOrientation:n,global:!0,metersPerUnit:xr,worldExtent:Sr})||this}return wr(e,t),e}(hr),Tr=[new Cr("CRS:84"),new Cr("EPSG:4326","neu"),new Cr("urn:ogc:def:crs:OGC:1.3:CRS84"),new Cr("urn:ogc:def:crs:OGC:2:84"),new Cr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu")],Rr={};function Pr(t){return Rr[t]||Rr[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function Ir(t,e){Rr[t]=e}var Lr={};function Mr(t,e,n){var r=t.getCode(),o=e.getCode();r in Lr||(Lr[r]={}),Lr[r][o]=n}function Nr(t,e){var n;return t in Lr&&e in Lr[t]&&(n=Lr[t][e]),n}var Ar=6371008.8;function jr(t,e,n){var r=n||Ar,o=Vt(t[1]),i=Vt(e[1]),a=(i-o)/2,s=Vt(e[0]-t[0])/2,u=Math.sin(a)*Math.sin(a)+Math.sin(s)*Math.sin(s)*Math.cos(o)*Math.cos(i);return 2*r*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function Fr(t,e,n,r){var o=r||Ar,i=Vt(t[1]),a=Vt(t[0]),s=e/o,u=Math.asin(Math.sin(i)*Math.cos(s)+Math.cos(i)*Math.sin(s)*Math.cos(n)),l=a+Math.atan2(Math.sin(n)*Math.sin(s)*Math.cos(i),Math.cos(s)-Math.sin(i)*Math.sin(u));return[Ut(l),Ut(u)]}function Gr(t,e,n){var r;if(void 0!==e){for(var o=0,i=t.length;o<i;++o)e[o]=t[o];r=e}else r=t.slice();return r}function Dr(t,e,n){if(void 0!==e&&t!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];t=e}return t}function kr(t){Ir(t.getCode(),t),Mr(t,t,Gr)}function Br(t){t.forEach(kr)}function Yr(t){return"string"===typeof t?Pr(t):t||null}function Ur(t,e,n,r){var o;t=Yr(t);var i=t.getPointResolutionFunc();if(i){if(o=i(e,n),r&&r!==t.getUnits()){var a=t.getMetersPerUnit();a&&(o=o*a/or[r])}}else{var s=t.getUnits();if(s==ir.DEGREES&&!r||r==ir.DEGREES)o=e;else{var u=Zr(t,Yr("EPSG:4326"));if(u===Dr&&s!==ir.DEGREES)o=e*t.getMetersPerUnit();else{var l=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];l=u(l,l,2);var c=jr(l.slice(0,2),l.slice(2,4)),h=jr(l.slice(4,6),l.slice(6,8));o=(c+h)/2}a=r?or[r]:t.getMetersPerUnit();void 0!==a&&(o/=a)}}return o}function Vr(t){Br(t),t.forEach((function(e){t.forEach((function(t){e!==t&&Mr(e,t,Gr)}))}))}function zr(t,e,n,r){t.forEach((function(t){e.forEach((function(e){Mr(t,e,n),Mr(e,t,r)}))}))}function Xr(t,e){return t?"string"===typeof t?Yr(t):t:Yr(e)}function Wr(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();if(t.getCode()===e.getCode())return n;var r=Zr(t,e);return r===Gr&&n}function Zr(t,e){var n=t.getCode(),r=e.getCode(),o=Nr(n,r);return o||(o=Dr),o}function Hr(t,e){var n=Yr(t),r=Yr(e);return Zr(n,r)}function Kr(t,e,n){var r=Hr(e,n);return r(t,void 0,t.length)}function qr(t,e,n,r){var o=Hr(e,n);return At(t,o,void 0,r)}var Jr=null;function $r(){return Jr}function Qr(t,e){return Jr?Kr(t,e,Jr):t}function to(t,e){return Jr?Kr(t,Jr,e):t}function eo(t,e){return Jr?qr(t,e,Jr):t}function no(t,e){return Jr?qr(t,Jr,e):t}function ro(){Vr(mr),Vr(Tr),zr(Tr,mr,Or,br)}function oo(t,e,n){return function(r,o,i,a,s){if(r){var u=e?0:i[0]*o,l=e?0:i[1]*o,c=s?s[0]:0,h=s?s[1]:0,p=t[0]+u/2+c,f=t[2]-u/2+c,d=t[1]+l/2+h,g=t[3]-l/2+h;p>f&&(p=(f+p)/2,f=p),d>g&&(d=(g+d)/2,g=d);var y=Ft(r[0],p,f),v=Ft(r[1],d,g),_=30*o;return a&&n&&(y+=-_*Math.log(1+Math.max(0,p-r[0])/_)+_*Math.log(1+Math.max(0,r[0]-f)/_),v+=-_*Math.log(1+Math.max(0,d-r[1])/_)+_*Math.log(1+Math.max(0,r[1]-g)/_)),[y,v]}}}function io(t){return t}ro();var ao=n("9f5e");function so(t,e,n,r){var o=Rt(e)/n[0],i=bt(e)/n[1];return r?Math.min(t,Math.max(o,i)):Math.min(t,Math.min(o,i))}function uo(t,e,n){var r=Math.min(t,e),o=50;return r*=Math.log(1+o*Math.max(0,t/e-1))/o+1,n&&(r=Math.max(r,n),r/=Math.log(1+o*Math.max(0,n/t-1))/o+1),Ft(r,n/2,2*e)}function lo(t,e,n,r){return function(o,i,a,s){if(void 0!==o){var u=t[0],l=t[t.length-1],c=n?so(u,n,a,r):u;if(s){var h=void 0===e||e;return h?uo(o,c,l):Ft(o,l,c)}var p=Math.min(c,o),f=Math.floor(Object(ao["h"])(t,p,i));return t[f]>c&&f<t.length-1?t[f+1]:t[f]}}}function co(t,e,n,r,o,i){return function(a,s,u,l){if(void 0!==a){var c=o?so(e,o,u,i):e,h=void 0!==n?n:0;if(l){var p=void 0===r||r;return p?uo(a,c,h):Ft(a,h,c)}var f=1e-9,d=Math.ceil(Math.log(e/c)/Math.log(t)-f),g=-s*(.5-f)+.5,y=Math.min(c,a),v=Math.floor(Math.log(e/y)/Math.log(t)+g),_=Math.max(d,v),m=e/Math.pow(t,_);return Ft(m,h,c)}}}function ho(t,e,n,r,o){return function(i,a,s,u){if(void 0!==i){var l=r?so(t,r,s,o):t,c=void 0===n||n;return c&&u?uo(i,l,e):Ft(i,e,l)}}}function po(t){return void 0!==t?0:void 0}function fo(t){return void 0!==t?t:void 0}function go(t){var e=2*Math.PI/t;return function(t,n){return n?t:void 0!==t?(t=Math.floor(t/e+.5)*e,t):void 0}}function yo(t){var e=t||Vt(5);return function(t,n){return n?t:void 0!==t?Math.abs(t)<=e?0:t:void 0}}function vo(t){return Math.pow(t,3)}function _o(t){return 1-vo(1-t)}function mo(t){return 3*t*t-2*t*t*t}function Oo(t){return t}function bo(t){return t<.5?mo(2*t):1-mo(2*(t-.5))}var wo={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};function Eo(t,e,n,r,o,i){for(var a=i||[],s=0,u=e;u<n;u+=r){var l=t[u],c=t[u+1];a[s++]=o[0]*l+o[2]*c+o[4],a[s++]=o[1]*l+o[3]*c+o[5]}return i&&a.length!=s&&(a.length=s),a}function So(t,e,n,r,o,i,a){for(var s=a||[],u=Math.cos(o),l=Math.sin(o),c=i[0],h=i[1],p=0,f=e;f<n;f+=r){var d=t[f]-c,g=t[f+1]-h;s[p++]=c+d*u-g*l,s[p++]=h+d*l+g*u;for(var y=f+2;y<f+r;++y)s[p++]=t[y]}return a&&s.length!=p&&(s.length=p),s}function xo(t,e,n,r,o,i,a,s){for(var u=s||[],l=a[0],c=a[1],h=0,p=e;p<n;p+=r){var f=t[p]-l,d=t[p+1]-c;u[h++]=l+o*f,u[h++]=c+i*d;for(var g=p+2;g<p+r;++g)u[h++]=t[g]}return s&&u.length!=h&&(u.length=h),u}function Co(t,e,n,r,o,i,a){for(var s=a||[],u=0,l=e;l<n;l+=r){s[u++]=t[l]+o,s[u++]=t[l+1]+i;for(var c=l+2;c<l+r;++c)s[u++]=t[c]}return a&&s.length!=u&&(s.length=u),s}var To=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ro=L(),Po=function(t){function e(){var e=t.call(this)||this;return e.extent_=$(),e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=Object(E["d"])((function(t,e,n){if(!n)return this.getSimplifiedGeometry(e);var r=this.clone();return r.applyTransform(n),r.getSimplifiedGeometry(e)})),e}return To(e,t),e.prototype.simplifyTransformed=function(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)},e.prototype.clone=function(){return Object(S["b"])()},e.prototype.closestPointXY=function(t,e,n,r){return Object(S["b"])()},e.prototype.containsXY=function(t,e){var n=this.getClosestPoint([t,e]);return n[0]===t&&n[1]===e},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return Object(S["b"])()},e.prototype.getExtent=function(t){if(this.extentRevision_!=this.getRevision()){var e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&tt(e),this.extentRevision_=this.getRevision()}return Lt(this.extent_,t)},e.prototype.rotate=function(t,e){Object(S["b"])()},e.prototype.scale=function(t,e,n){Object(S["b"])()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return Object(S["b"])()},e.prototype.getType=function(){return Object(S["b"])()},e.prototype.applyTransform=function(t){Object(S["b"])()},e.prototype.intersectsExtent=function(t){return Object(S["b"])()},e.prototype.translate=function(t,e){Object(S["b"])()},e.prototype.transform=function(t,e){var n=Yr(t),r=n.getUnits()==ir.TILE_PIXELS?function(t,r,o){var i=n.getExtent(),a=n.getWorldExtent(),s=bt(a)/bt(i);return G(Ro,a[0],a[3],s,-s,0,0,0),Eo(t,0,t.length,o,Ro,r),Hr(n,e)(t,r,o)}:Hr(n,e);return this.applyTransform(r),this},e}(oe["a"]),Io=Po,Lo=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mo=function(t){function e(){var e=t.call(this)||this;return e.layout=wo.XY,e.stride=2,e.flatCoordinates=null,e}return Lo(e,t),e.prototype.computeExtent=function(t){return rt(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return Object(S["b"])()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=this.getSimplifiedGeometryInternal(t),n=e.getFlatCoordinates();return n.length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=Ao(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){Object(S["b"])()},e.prototype.setLayout=function(t,e,n){var r;if(t)r=Ao(t);else{for(var o=0;o<n;++o){if(0===e.length)return this.layout=wo.XY,void(this.stride=2);e=e[0]}r=e.length,t=No(r)}this.layout=t,this.stride=r},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();So(n,0,n.length,r,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var r=e;void 0===r&&(r=t);var o=n;o||(o=vt(this.getExtent()));var i=this.getFlatCoordinates();if(i){var a=this.getStride();xo(i,0,i.length,a,t,r,o,i),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var r=this.getStride();Co(n,0,n.length,r,t,e,n),this.changed()}},e}(Io);function No(t){var e;return 2==t?e=wo.XY:3==t?e=wo.XYZ:4==t&&(e=wo.XYZM),e}function Ao(t){var e;return t==wo.XY?e=2:t==wo.XYZ||t==wo.XYM?e=3:t==wo.XYZM&&(e=4),e}function jo(t,e,n){var r=t.getFlatCoordinates();if(r){var o=t.getStride();return Eo(r,0,r.length,o,e,n)}return null}var Fo=Mo;function Go(t,e,n,r,o,i,a){var s,u=t[e],l=t[e+1],c=t[n]-u,h=t[n+1]-l;if(0===c&&0===h)s=e;else{var p=((o-u)*c+(i-l)*h)/(c*c+h*h);if(p>1)s=n;else{if(p>0){for(var f=0;f<r;++f)a[f]=Xt(t[e+f],t[n+f],p);return void(a.length=r)}s=e}}for(f=0;f<r;++f)a[f]=t[s+f];a.length=r}function Do(t,e,n,r,o){var i=t[e],a=t[e+1];for(e+=r;e<n;e+=r){var s=t[e],u=t[e+1],l=Bt(i,a,s,u);l>o&&(o=l),i=s,a=u}return o}function ko(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=Do(t,e,s,r,o),e=s}return o}function Bo(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];o=ko(t,e,s,r,o),e=s[s.length-1]}return o}function Yo(t,e,n,r,o,i,a,s,u,l,c){if(e==n)return l;var h,p;if(0===o){if(p=Bt(a,s,t[e],t[e+1]),p<l){for(h=0;h<r;++h)u[h]=t[e+h];return u.length=r,p}return l}var f=c||[NaN,NaN],d=e+r;while(d<n)if(Go(t,d-r,d,r,a,s,f),p=Bt(a,s,f[0],f[1]),p<l){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r,d+=r}else d+=r*Math.max((Math.sqrt(p)-Math.sqrt(l))/o|0,1);if(i&&(Go(t,n-r,e,r,a,s,f),p=Bt(a,s,f[0],f[1]),p<l)){for(l=p,h=0;h<r;++h)u[h]=f[h];u.length=r}return l}function Uo(t,e,n,r,o,i,a,s,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=Yo(t,e,d,r,o,i,a,s,u,l,h),e=d}return l}function Vo(t,e,n,r,o,i,a,s,u,l,c){for(var h=c||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=Uo(t,e,d,r,o,i,a,s,u,l,h),e=d[d.length-1]}return l}function zo(t,e,n,r){for(var o=0,i=n.length;o<i;++o)t[e++]=n[o];return e}function Xo(t,e,n,r){for(var o=0,i=n.length;o<i;++o)for(var a=n[o],s=0;s<r;++s)t[e++]=a[s];return e}function Wo(t,e,n,r,o){for(var i=o||[],a=0,s=0,u=n.length;s<u;++s){var l=Xo(t,e,n[s],r);i[a++]=l,e=l}return i.length=a,i}function Zo(t,e,n,r,o){for(var i=o||[],a=0,s=0,u=n.length;s<u;++s){var l=Wo(t,e,n[s],r,i[a]);i[a++]=l,e=l[l.length-1]}return i.length=a,i}function Ho(t,e,n,r,o,i,a){var s=(n-e)/r;if(s<3){for(;e<n;e+=r)i[a++]=t[e],i[a++]=t[e+1];return a}var u=new Array(s);u[0]=1,u[s-1]=1;var l=[e,n-r],c=0;while(l.length>0){for(var h=l.pop(),p=l.pop(),f=0,d=t[p],g=t[p+1],y=t[h],v=t[h+1],_=p+r;_<h;_+=r){var m=t[_],O=t[_+1],b=kt(m,O,d,g,y,v);b>f&&(c=_,f=b)}f>o&&(u[(c-e)/r]=1,p+r<c&&l.push(p,c),c+r<h&&l.push(c,h))}for(_=0;_<s;++_)u[_]&&(i[a++]=t[e+_*r],i[a++]=t[e+_*r+1]);return a}function Ko(t,e,n,r,o,i,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=Ho(t,e,c,r,o,i,a),s.push(a),e=c}return a}function qo(t,e){return e*Math.round(t/e)}function Jo(t,e,n,r,o,i,a){if(e==n)return a;var s,u,l=qo(t[e],o),c=qo(t[e+1],o);e+=r,i[a++]=l,i[a++]=c;do{if(s=qo(t[e],o),u=qo(t[e+1],o),e+=r,e==n)return i[a++]=s,i[a++]=u,a}while(s==l&&u==c);while(e<n){var h=qo(t[e],o),p=qo(t[e+1],o);if(e+=r,h!=s||p!=u){var f=s-l,d=u-c,g=h-l,y=p-c;f*y==d*g&&(f<0&&g<f||f==g||f>0&&g>f)&&(d<0&&y<d||d==y||d>0&&y>d)?(s=h,u=p):(i[a++]=s,i[a++]=u,l=s,c=u,s=h,u=p)}}return i[a++]=s,i[a++]=u,a}function $o(t,e,n,r,o,i,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u];a=Jo(t,e,c,r,o,i,a),s.push(a),e=c}return a}function Qo(t,e,n,r,o,i,a,s){for(var u=0,l=n.length;u<l;++u){var c=n[u],h=[];a=$o(t,e,c,r,o,i,a,h),s.push(h),e=c[c.length-1]}return a}function ti(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=e;s<n;s+=r)i[a++]=t.slice(s,s+r);return i.length=a,i}function ei(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];i[a++]=ti(t,e,l,r,i[a]),e=l}return i.length=a,i}function ni(t,e,n,r,o){for(var i=void 0!==o?o:[],a=0,s=0,u=n.length;s<u;++s){var l=n[s];i[a++]=ei(t,e,l,r,i[a]),e=l[l.length-1]}return i.length=a,i}function ri(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function oi(t,e,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=ri(t,e,s,r),e=s}return o}function ii(t,e,n,r){for(var o=0,i=0,a=n.length;i<a;++i){var s=n[i];o+=oi(t,e,s,r),e=s[s.length-1]}return o}var ai=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),si=function(t){function e(e,n){var r=t.call(this)||this;return r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return ai(e,t),e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,r){return r<Z(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Do(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Yo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.getArea=function(){return ri(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ho(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,wo.XY)},e.prototype.getType=function(){return nr.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Fo),ui=si,li=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ci=function(t){function e(e,n){var r=t.call(this)||this;return r.setCoordinates(e,n),r}return li(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var o=this.flatCoordinates,i=Bt(t,e,o[0],o[1]);if(i<r){for(var a=this.stride,s=0;s<a;++s)n[s]=o[s];return n.length=a,i}return r},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return et(this.flatCoordinates,t)},e.prototype.getType=function(){return nr.POINT},e.prototype.intersectsExtent=function(t){return q(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=zo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Fo),hi=ci;function pi(t,e,n,r,o){var i=ft(o,(function(o){return!fi(t,e,n,r,o[0],o[1])}));return!i}function fi(t,e,n,r,o,i){for(var a=0,s=t[n-r],u=t[n-r+1];e<n;e+=r){var l=t[e],c=t[e+1];u<=i?c>i&&(l-s)*(i-u)-(o-s)*(c-u)>0&&a++:c<=i&&(l-s)*(i-u)-(o-s)*(c-u)<0&&a--,s=l,u=c}return 0!==a}function di(t,e,n,r,o,i){if(0===n.length)return!1;if(!fi(t,e,n[0],r,o,i))return!1;for(var a=1,s=n.length;a<s;++a)if(fi(t,n[a-1],n[a],r,o,i))return!1;return!0}function gi(t,e,n,r,o,i){if(0===n.length)return!1;for(var a=0,s=n.length;a<s;++a){var u=n[a];if(di(t,e,u,r,o,i))return!0;e=u[u.length-1]}return!1}function yi(t,e,n,r,o,i,a){for(var s,u,l,c,h,p,f,d=o[i+1],g=[],y=0,v=n.length;y<v;++y){var _=n[y];for(c=t[_-r],p=t[_-r+1],s=e;s<_;s+=r)h=t[s],f=t[s+1],(d<=p&&f<=d||p<=d&&d<=f)&&(l=(d-p)/(f-p)*(h-c)+c,g.push(l)),c=h,p=f}var m=NaN,O=-1/0;for(g.sort(ao["i"]),c=g[0],s=1,u=g.length;s<u;++s){h=g[s];var b=Math.abs(h-c);b>O&&(l=(c+h)/2,di(t,e,n,r,l,d)&&(m=l,O=b)),c=h}return isNaN(m)&&(m=o[i]),a?(a.push(m,d,O),a):[m,d,O]}function vi(t,e,n,r,o){for(var i=[],a=0,s=n.length;a<s;++a){var u=n[a];i=yi(t,e,u,r,o,2*a,i),e=u[u.length-1]}return i}function _i(t,e,n,r,o){for(var i,a=[t[e],t[e+1]],s=[];e+r<n;e+=r){if(s[0]=t[e+r],s[1]=t[e+r+1],i=o(a,s),i)return i;a[0]=s[0],a[1]=s[1]}return!1}function mi(t,e,n,r,o){var i=ct($(),t,e,n,r);return!!Pt(o,i)&&(!!K(o,i)||(i[0]>=o[0]&&i[2]<=o[2]||(i[1]>=o[1]&&i[3]<=o[3]||_i(t,e,n,r,(function(t,e){return Nt(o,t,e)})))))}function Oi(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){if(mi(t,e,n[i],r,o))return!0;e=n[i]}return!1}function bi(t,e,n,r,o){return!!mi(t,e,n,r,o)||(!!fi(t,e,n,r,o[0],o[1])||(!!fi(t,e,n,r,o[0],o[3])||(!!fi(t,e,n,r,o[2],o[1])||!!fi(t,e,n,r,o[2],o[3]))))}function wi(t,e,n,r,o){if(!bi(t,e,n[0],r,o))return!1;if(1===n.length)return!0;for(var i=1,a=n.length;i<a;++i)if(pi(t,n[i-1],n[i],r,o)&&!mi(t,n[i-1],n[i],r,o))return!1;return!0}function Ei(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(wi(t,e,s,r,o))return!0;e=s[s.length-1]}return!1}function Si(t,e,n,r){while(e<n-r){for(var o=0;o<r;++o){var i=t[e+o];t[e+o]=t[n-r+o],t[n-r+o]=i}e+=r,n-=r}}function xi(t,e,n,r){for(var o=0,i=t[n-r],a=t[n-r+1];e<n;e+=r){var s=t[e],u=t[e+1];o+=(s-i)*(u+a),i=s,a=u}return 0===o?void 0:o>0}function Ci(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var u=n[a],l=xi(t,e,u,r);if(0===a){if(i&&l||!i&&!l)return!1}else if(i&&!l||!i&&l)return!1;e=u}return!0}function Ti(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i];if(!Ci(t,e,s,r,o))return!1;s.length&&(e=s[s.length-1])}return!0}function Ri(t,e,n,r,o){for(var i=void 0!==o&&o,a=0,s=n.length;a<s;++a){var u=n[a],l=xi(t,e,u,r),c=0===a?i&&l||!i&&!l:i&&!l||!i&&l;c&&Si(t,e,u,r),e=u}return e}function Pi(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i)e=Ri(t,e,n[i],r,o);return e}var Ii=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Li=function(t){function e(e,n,r){var o=t.call(this)||this;return o.ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==n&&r?(o.setFlatCoordinates(n,e),o.ends_=r):o.setCoordinates(e,n),o}return Ii(e,t),e.prototype.appendLinearRing=function(t){this.flatCoordinates?Object(ao["c"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<Z(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ko(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uo(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return di(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return oi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Ri(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,ei(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=vt(this.getExtent());this.flatInteriorPoint_=yi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new hi(this.getFlatInteriorPoint(),wo.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new ui(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i],u=new ui(e.slice(o,s),t);r.push(u),o=s}return r},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Ci(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Ri(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=$o(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,r),new e(n,wo.XY,r)},e.prototype.getType=function(){return nr.POLYGON},e.prototype.intersectsExtent=function(t){return wi(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Wo(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Fo),Mi=Li;function Ni(t,e,n,r){for(var o=n||32,i=[],a=0;a<o;++a)Object(ao["c"])(i,Fr(t,e,2*Math.PI*a/o,r));return i.push(i[0],i[1]),new Li(i,wo.XY,[i.length])}function Ai(t){var e=t[0],n=t[1],r=t[2],o=t[3],i=[e,n,e,o,r,o,r,n,e,n];return new Li(i,wo.XY,[i.length])}function ji(t,e,n){for(var r=e||32,o=t.getStride(),i=t.getLayout(),a=t.getCenter(),s=o*(r+1),u=new Array(s),l=0;l<s;l+=o){u[l]=0,u[l+1]=0;for(var c=2;c<o;c++)u[l+c]=a[c]}var h=[u.length],p=new Li(u,i,h);return Fi(p,a,t.getRadius(),n),p}function Fi(t,e,n,r){for(var o=t.getFlatCoordinates(),i=t.getStride(),a=o.length/i-1,s=r||0,u=0;u<=a;++u){var l=u*i,c=s+2*zt(u,a)*Math.PI/a;o[l]=e[0]+n*Math.cos(c),o[l+1]=e[1]+n*Math.sin(c)}t.changed()}var Gi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Di=0,ki=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=Object(ae["a"])({},e);return n.hints_=[0,0],n.animations_=[],n.updateAnimationKey_,n.projection_=Xr(r.projection,"EPSG:3857"),n.viewportSize_=[100,100],n.targetCenter_=null,n.targetResolution_,n.targetRotation_,n.cancelAnchor_=void 0,r.center&&(r.center=to(r.center,n.projection_)),r.extent&&(r.extent=no(r.extent,n.projection_)),n.applyOptions_(r),n}return Gi(e,t),e.prototype.applyOptions_=function(t){var e={},n=Ui(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=n.minZoom;var r=Yi(t),o=n.constraint,i=Vi(t);this.constraints_={center:r,resolution:o,rotation:i},this.setRotation(void 0!==t.rotation?t.rotation:0),this.setCenterInternal(void 0!==t.center?t.center:null),void 0!==t.resolution?this.setResolution(t.resolution):void 0!==t.zoom&&this.setZoom(t.zoom),this.setProperties(e),this.options_=t},Object.defineProperty(e.prototype,"padding",{get:function(){return this.padding_},set:function(t){var e=this.padding_;this.padding_=t;var n=this.getCenter();if(n){var r=t||[0,0,0,0];e=e||[0,0,0,0];var o=this.getResolution(),i=o/2*(r[3]-e[3]+e[1]-r[1]),a=o/2*(r[0]-e[0]+e[2]-r[2]);this.setCenterInternal([n[0]+i,n[1]-a])}},enumerable:!1,configurable:!0}),e.prototype.getUpdatedOptions_=function(t){var e=Object(ae["a"])({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object(ae["a"])({},e,t)},e.prototype.animate=function(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var e=new Array(arguments.length),n=0;n<e.length;++n){var r=arguments[n];r.center&&(r=Object(ae["a"])({},r),r.center=to(r.center,this.getProjection())),r.anchor&&(r=Object(ae["a"])({},r),r.anchor=to(r.anchor,this.getProjection())),e[n]=r}this.animateInternal.apply(this,e)},e.prototype.animateInternal=function(t){var e,n=arguments.length;if(n>1&&"function"===typeof arguments[n-1]&&(e=arguments[n-1],--n),!this.isDef()){var r=arguments[n-1];return r.center&&this.setCenterInternal(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&Bi(e,!0))}for(var o=Date.now(),i=this.targetCenter_.slice(),a=this.targetResolution_,s=this.targetRotation_,u=[],l=0;l<n;++l){var c=arguments[l],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||mo,callback:e};if(c.center&&(h.sourceCenter=i,h.targetCenter=c.center.slice(),i=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=a,h.targetResolution=this.getResolutionForZoom(c.zoom),a=h.targetResolution):c.resolution&&(h.sourceResolution=a,h.targetResolution=c.resolution,a=h.targetResolution),void 0!==c.rotation){h.sourceRotation=s;var p=zt(c.rotation-s+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=s+p,s=h.targetRotation}zi(h)?h.complete=!0:o+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(ar.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[ar.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[ar.INTERACTING]>0},e.prototype.cancelAnimations=function(){var t;this.setHint(ar.ANIMATING,-this.hints_[ar.ANIMATING]);for(var e=0,n=this.animations_.length;e<n;++e){var r=this.animations_[e];if(r[0].callback&&Bi(r[0].callback,!1),!t)for(var o=0,i=r.length;o<i;++o){var a=r[o];if(!a.complete){t=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var r=this.animations_[n],o=!0,i=0,a=r.length;i<a;++i){var s=r[i];if(!s.complete){var u=t-s.start,l=s.duration>0?u/s.duration:1;l>=1?(s.complete=!0,l=1):o=!1;var c=s.easing(l);if(s.sourceCenter){var h=s.sourceCenter[0],p=s.sourceCenter[1],f=s.targetCenter[0],d=s.targetCenter[1],g=h+c*(f-h),y=p+c*(d-p);this.targetCenter_=[g,y]}if(s.sourceResolution&&s.targetResolution){var v=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var _=this.getViewportSize_(this.getRotation()),m=this.constraints_.resolution(v,0,_,!0);this.targetCenter_=this.calculateCenterZoom(m,s.anchor)}this.targetResolution_=v,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var O=1===c?zt(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var b=this.constraints_.rotation(O,!0);this.targetCenter_=this.calculateCenterRotate(b,s.anchor)}this.targetRotation_=O}if(this.applyTargetState_(!0),e=!0,!s.complete)break}}if(o){this.animations_[n]=null,this.setHint(ar.ANIMATING,-1);var w=r[0].callback;w&&Bi(w,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}},e.prototype.calculateCenterRotate=function(t,e){var n,r=this.getCenterInternal();return void 0!==r&&(n=[r[0]-e[0],r[1]-e[1]],Ee(n,t-this.getRotation()),me(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,r=this.getCenterInternal(),o=this.getResolution();if(void 0!==r&&void 0!==o){var i=e[0]-t*(e[0]-r[0])/o,a=e[1]-t*(e[1]-r[1])/o;n=[i,a]}return n},e.prototype.getViewportSize_=function(t){var e=this.viewportSize_;if(t){var n=e[0],r=e[1];return[Math.abs(n*Math.cos(t))+Math.abs(r*Math.sin(t)),Math.abs(n*Math.sin(t))+Math.abs(r*Math.cos(t))]}return e},e.prototype.setViewportSize=function(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)},e.prototype.getCenter=function(){var t=this.getCenterInternal();return t?Qr(t,this.getProjection()):t},e.prototype.getCenterInternal=function(){return this.get(sr.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getConstrainResolution=function(){return this.options_.constrainResolution},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=this.calculateExtentInternal(t);return eo(e,this.getProjection())},e.prototype.calculateExtentInternal=function(t){var e=t||this.getViewportSizeMinusPadding_(),n=this.getCenterInternal();P(n,1);var r=this.getResolution();P(void 0!==r,2);var o=this.getRotation();return P(void 0!==o,3),Ot(n,r,o,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.setConstrainResolution=function(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(sr.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){return this.getResolutionForExtentInternal(no(t,this.getProjection()),e)},e.prototype.getResolutionForExtentInternal=function(t,e){var n=e||this.getViewportSizeMinusPadding_(),r=Rt(t)/n[0],o=bt(t)/n[1];return Math.max(r,o)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/Math.log(e);return function(t){var r=n/Math.pow(e,t*o);return r}},e.prototype.getRotation=function(){return this.get(sr.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=Math.log(t||2),n=this.getConstrainedResolution(this.maxResolution_),r=this.minResolution_,o=Math.log(n/r)/e;return function(t){var r=Math.log(n/t)/e/o;return r}},e.prototype.getViewportSizeMinusPadding_=function(t){var e=this.getViewportSize_(t),n=this.padding_;return n&&(e=[e[0]-n[1]-n[3],e[1]-n[0]-n[2]]),e},e.prototype.getState=function(){var t=this.getProjection(),e=this.getResolution(),n=this.getRotation(),r=this.getCenterInternal(),o=this.padding_;if(o){var i=this.getViewportSizeMinusPadding_();r=Xi(r,this.getViewportSize_(),[i[0]/2+o[3],i[1]/2+o[0]],e,n)}return{center:r.slice(0),projection:void 0!==t?t:null,resolution:e,rotation:n,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,r=this.minZoom_||0;if(this.resolutions_){var o=Object(ao["h"])(this.resolutions_,t,1);r=o,e=this.resolutions_[o],n=o==this.resolutions_.length-1?2:e/this.resolutions_[o+1]}else e=this.maxResolution_,n=this.zoomFactor_;return r+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){if(this.resolutions_){if(this.resolutions_.length<=1)return 0;var e=Ft(Math.floor(t),0,this.resolutions_.length-2),n=this.resolutions_[e]/this.resolutions_[e+1];return this.resolutions_[e]/Math.pow(n,Ft(t-e,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)},e.prototype.fit=function(t,e){var n;if(P(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)){P(!It(t),25);var r=no(t,this.getProjection());n=Ai(r)}else if(t.getType()===nr.CIRCLE){r=no(t.getExtent(),this.getProjection());n=Ai(r),n.rotate(this.getRotation(),vt(r))}else{var o=$r();n=o?t.clone().transform(o,this.getProjection()):t}this.fitInternal(n,e)},e.prototype.rotatedExtentForGeometry=function(t){for(var e=this.getRotation(),n=Math.cos(e),r=Math.sin(-e),o=t.getFlatCoordinates(),i=t.getStride(),a=1/0,s=1/0,u=-1/0,l=-1/0,c=0,h=o.length;c<h;c+=i){var p=o[c]*n-o[c+1]*r,f=o[c]*r+o[c+1]*n;a=Math.min(a,p),s=Math.min(s,f),u=Math.max(u,p),l=Math.max(l,f)}return[a,s,u,l]},e.prototype.fitInternal=function(t,e){var n=e||{},r=n.size;r||(r=this.getViewportSizeMinusPadding_());var o,i=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.getResolutionForZoom(n.maxZoom):0;var s=this.rotatedExtentForGeometry(t),u=this.getResolutionForExtentInternal(s,[r[0]-i[1]-i[3],r[1]-i[0]-i[2]]);u=isNaN(u)?o:Math.max(u,o),u=this.getConstrainedResolution(u,a?0:1);var l=this.getRotation(),c=Math.sin(l),h=Math.cos(l),p=vt(s);p[0]+=(i[1]-i[3])/2*u,p[1]+=(i[0]-i[2])/2*u;var f=p[0]*h-p[1]*c,d=p[1]*h+p[0]*c,g=this.getConstrainedCenter([f,d],u),y=n.callback?n.callback:E["c"];void 0!==n.duration?this.animateInternal({resolution:u,center:g,duration:n.duration,easing:n.easing},y):(this.targetResolution_=u,this.targetCenter_=g,this.applyTargetState_(!1,!0),Bi(y,!0))},e.prototype.centerOn=function(t,e,n){this.centerOnInternal(to(t,this.getProjection()),e,n)},e.prototype.centerOnInternal=function(t,e,n){this.setCenterInternal(Xi(t,e,n,this.getResolution(),this.getRotation()))},e.prototype.calculateCenterShift=function(t,e,n,r){var o,i=this.padding_;if(i&&t){var a=this.getViewportSizeMinusPadding_(-n),s=Xi(t,r,[a[0]/2+i[3],a[1]/2+i[0]],e,n);o=[t[0]-s[0],t[1]-s[1]]}return o},e.prototype.isDef=function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()},e.prototype.adjustCenter=function(t){var e=Qr(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustCenterInternal=function(t){var e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])},e.prototype.adjustResolution=function(t,e){var n=e&&to(e,this.getProjection());this.adjustResolutionInternal(t,n)},e.prototype.adjustResolutionInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,r,n);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()},e.prototype.adjustZoom=function(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)},e.prototype.adjustRotation=function(t,e){e&&(e=to(e,this.getProjection())),this.adjustRotationInternal(t,e)},e.prototype.adjustRotationInternal=function(t,e){var n=this.getAnimating()||this.getInteracting(),r=this.constraints_.rotation(this.targetRotation_+t,n);e&&(this.targetCenter_=this.calculateCenterRotate(r,e)),this.targetRotation_+=t,this.applyTargetState_()},e.prototype.setCenter=function(t){this.setCenterInternal(to(t,this.getProjection()))},e.prototype.setCenterInternal=function(t){this.targetCenter_=t,this.applyTargetState_()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.targetResolution_=t,this.applyTargetState_()},e.prototype.setRotation=function(t){this.targetRotation_=t,this.applyTargetState_()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e.prototype.applyTargetState_=function(t,e){var n=this.getAnimating()||this.getInteracting()||e,r=this.constraints_.rotation(this.targetRotation_,n),o=this.getViewportSize_(r),i=this.constraints_.resolution(this.targetResolution_,0,o,n),a=this.constraints_.center(this.targetCenter_,i,o,n,this.calculateCenterShift(this.targetCenter_,i,r,o));this.get(sr.ROTATION)!==r&&this.set(sr.ROTATION,r),this.get(sr.RESOLUTION)!==i&&this.set(sr.RESOLUTION,i),this.get(sr.CENTER)&&we(this.get(sr.CENTER),a)||this.set(sr.CENTER,a),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0},e.prototype.resolveConstraints=function(t,e,n){var r=void 0!==t?t:200,o=e||0,i=this.constraints_.rotation(this.targetRotation_),a=this.getViewportSize_(i),s=this.constraints_.resolution(this.targetResolution_,o,a),u=this.constraints_.center(this.targetCenter_,s,a,!1,this.calculateCenterShift(this.targetCenter_,s,i,a));if(0===r&&!this.cancelAnchor_)return this.targetResolution_=s,this.targetRotation_=i,this.targetCenter_=u,void this.applyTargetState_();var l=n||(0===r?this.cancelAnchor_:void 0);this.cancelAnchor_=void 0,this.getResolution()===s&&this.getRotation()===i&&this.getCenterInternal()&&we(this.getCenterInternal(),u)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:i,center:u,resolution:s,duration:r,easing:_o,anchor:l}))},e.prototype.beginInteraction=function(){this.resolveConstraints(0),this.setHint(ar.INTERACTING,1)},e.prototype.endInteraction=function(t,e,n){var r=n&&to(n,this.getProjection());this.endInteractionInternal(t,e,r)},e.prototype.endInteractionInternal=function(t,e,n){this.setHint(ar.INTERACTING,-1),this.resolveConstraints(t,e,n)},e.prototype.getConstrainedCenter=function(t,e){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),n)},e.prototype.getConstrainedZoom=function(t,e){var n=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(n,e))},e.prototype.getConstrainedResolution=function(t,e){var n=e||0,r=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,n,r)},e}(oe["a"]);function Bi(t,e){setTimeout((function(){t(e)}),0)}function Yi(t){if(void 0!==t.extent){var e=void 0===t.smoothExtentConstraint||t.smoothExtentConstraint;return oo(t.extent,t.constrainOnlyCenter,e)}var n=Xr(t.projection,"EPSG:3857");if(!0!==t.multiWorld&&n.isGlobal()){var r=n.getExtent().slice();return r[0]=-1/0,r[2]=1/0,oo(r,!1,!1)}return io}function Ui(t){var e,n,r,o=28,i=2,a=void 0!==t.minZoom?t.minZoom:Di,s=void 0!==t.maxZoom?t.maxZoom:o,u=void 0!==t.zoomFactor?t.zoomFactor:i,l=void 0!==t.multiWorld&&t.multiWorld,c=void 0===t.smoothResolutionConstraint||t.smoothResolutionConstraint,h=void 0!==t.showFullExtent&&t.showFullExtent,p=Xr(t.projection,"EPSG:3857"),f=p.getExtent(),d=t.constrainOnlyCenter,g=t.extent;if(l||g||!p.isGlobal()||(d=!1,g=f),void 0!==t.resolutions){var y=t.resolutions;n=y[a],r=void 0!==y[s]?y[s]:y[y.length-1],e=t.constrainResolution?lo(y,c,!d&&g,h):ho(n,r,c,!d&&g,h)}else{var v=f?Math.max(Rt(f),bt(f)):360*or[ir.DEGREES]/p.getMetersPerUnit(),_=v/lr/Math.pow(i,Di),m=_/Math.pow(i,o-Di);n=t.maxResolution,void 0!==n?a=0:n=_/Math.pow(u,a),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(u,s):_/Math.pow(u,s):m),s=a+Math.floor(Math.log(n/r)/Math.log(u)),r=n/Math.pow(u,s-a),e=t.constrainResolution?co(u,n,r,c,!d&&g,h):ho(n,r,c,!d&&g,h)}return{constraint:e,maxResolution:n,minResolution:r,minZoom:a,zoomFactor:u}}function Vi(t){var e=void 0===t.enableRotation||t.enableRotation;if(e){var n=t.constrainRotation;return void 0===n||!0===n?yo():!1===n?fo:"number"===typeof n?go(n):fo}return po}function zi(t){return!(t.sourceCenter&&t.targetCenter&&!we(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Xi(t,e,n,r,o){var i=Math.cos(-o),a=Math.sin(-o),s=t[0]*i-t[1]*a,u=t[1]*i+t[0]*a;s+=(e[0]/2-n[0])*r,u+=(n[1]-e[1]/2)*r,a=-a;var l=s*i-u*a,c=u*i+s*a;return[l,c]}var Wi=ki;function Zi(t){return t[0]>0&&t[1]>0}function Hi(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function Ki(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}var qi=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ji=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=$i(e);return n.boundHandleBrowserEvent_=n.handleBrowserEvent.bind(n),n.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,n.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:x["a"],n.postRenderTimeoutHandle_,n.animationDelayKey_,n.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}.bind(n),n.coordinateToPixelTransform_=L(),n.pixelToCoordinateTransform_=L(),n.frameIndex_=0,n.frameState_=null,n.previousExtent_=null,n.viewPropertyListenerKey_=null,n.viewChangeListenerKey_=null,n.layerGroupPropertyListenerKeys_=null,n.viewport_=document.createElement("div"),n.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),n.viewport_.style.position="relative",n.viewport_.style.overflow="hidden",n.viewport_.style.width="100%",n.viewport_.style.height="100%",n.overlayContainer_=document.createElement("div"),n.overlayContainer_.style.position="absolute",n.overlayContainer_.style.zIndex="0",n.overlayContainer_.style.width="100%",n.overlayContainer_.style.height="100%",n.overlayContainer_.style.pointerEvents="none",n.overlayContainer_.className="ol-overlaycontainer",n.viewport_.appendChild(n.overlayContainer_),n.overlayContainerStopEvent_=document.createElement("div"),n.overlayContainerStopEvent_.style.position="absolute",n.overlayContainerStopEvent_.style.zIndex="0",n.overlayContainerStopEvent_.style.width="100%",n.overlayContainerStopEvent_.style.height="100%",n.overlayContainerStopEvent_.style.pointerEvents="none",n.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",n.viewport_.appendChild(n.overlayContainerStopEvent_),n.mapBrowserEventHandler_=null,n.moveTolerance_=e.moveTolerance,n.keyboardEventTarget_=r.keyboardEventTarget,n.keyHandlerKeys_=null,n.controls=r.controls||new In,n.interactions=r.interactions||new In,n.overlays_=r.overlays,n.overlayIdIndex_={},n.renderer_=null,n.handleResize_,n.postRenderFunctions_=[],n.tileQueue_=new tr(n.getTilePriority.bind(n),n.handleTileChange_.bind(n)),n.addChangeListener(Zn.LAYERGROUP,n.handleLayerGroupChanged_),n.addChangeListener(Zn.VIEW,n.handleViewChanged_),n.addChangeListener(Zn.SIZE,n.handleSizeChanged_),n.addChangeListener(Zn.TARGET,n.handleTargetChanged_),n.setProperties(r.values),n.controls.forEach(function(t){t.setMap(this)}.bind(n)),n.controls.addEventListener(xn.ADD,function(t){t.element.setMap(this)}.bind(n)),n.controls.addEventListener(xn.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.interactions.forEach(function(t){t.setMap(this)}.bind(n)),n.interactions.addEventListener(xn.ADD,function(t){t.element.setMap(this)}.bind(n)),n.interactions.addEventListener(xn.REMOVE,function(t){t.element.setMap(null)}.bind(n)),n.overlays_.forEach(n.addOverlayInternal_.bind(n)),n.overlays_.addEventListener(xn.ADD,function(t){this.addOverlayInternal_(t.element)}.bind(n)),n.overlays_.addEventListener(xn.REMOVE,function(t){var e=t.element,n=e.getId();void 0!==n&&delete this.overlayIdIndex_[n.toString()],t.element.setMap(null)}.bind(n)),n}return qi(e,t),e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){var e=this.getLayerGroup().getLayers();e.push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var r=this.getCoordinateFromPixelInternal(t);n=void 0!==n?n:{};var o=void 0!==n.hitTolerance?n.hitTolerance:0,i=void 0!==n.layerFilter?n.layerFilter:E["b"],a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,o,a,e,null,i,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=[];return this.forEachFeatureAtPixel(t,(function(t){n.push(t)}),e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var r=n||{},o=void 0!==r.hitTolerance?r.hitTolerance:0,i=r.layerFilter||E["b"];return this.renderer_.forEachLayerAtPixel(t,this.frameState_,o,e,i)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixelInternal(t);e=void 0!==e?e:{};var r=void 0!==e.layerFilter?e.layerFilter:E["b"],o=void 0!==e.hitTolerance?e.hitTolerance:0,i=!1!==e.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,o,i,r,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventCoordinateInternal=function(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Zn.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){return Qr(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())},e.prototype.getCoordinateFromPixelInternal=function(t){var e=this.frameState_;return e?j(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Zn.LAYERGROUP)},e.prototype.getLayers=function(){var t=this.getLayerGroup().getLayers();return t},e.prototype.getLoading=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer,o=r.getSource();if(o&&o.loading)return!0}return!1},e.prototype.getPixelFromCoordinate=function(t){var e=to(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)},e.prototype.getPixelFromCoordinateInternal=function(t){var e=this.frameState_;return e?j(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Zn.SIZE)},e.prototype.getView=function(){return this.get(Zn.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getOwnerDocument=function(){var t=this.getTargetElement();return t?t.ownerDocument:document},e.prototype.getTilePriority=function(t,e,n,r){return er(this.frameState_,t,e,n,r)},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,r=new Bn(n,this,t);this.handleMapBrowserEvent(r)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){var e=t.originalEvent,n=e.type;if(n===Un.POINTERDOWN||n===ce["a"].WHEEL||n===ce["a"].KEYDOWN){var r=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():r,i=e.target;if(this.overlayContainerStopEvent_.contains(i)||!(o===r?r.documentElement:o).contains(i))return}if(t.frameState=this.frameState_,!1!==this.dispatchEvent(t))for(var a=this.getInteractions().getArray().slice(),s=a.length-1;s>=0;s--){var u=a[s];if(u.getMap()===this&&u.getActive()&&this.getTargetElement()){var l=u.handleEvent(t);if(!l||t.propagationStopped)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,r=n;if(t){var o=t.viewHints;if(o[ar.ANIMATING]||o[ar.INTERACTING]){var i=Date.now()-t.time>8;n=i?0:8,r=i?0:2}}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,r))}!t||!this.hasListener(he.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||this.getLoading()||this.renderer_.dispatchRenderEvent(he.RENDERCOMPLETE,t);for(var a=this.postRenderFunctions_,s=0,u=a.length;s<u;++s)a[s](this,t);a.length=0},e.prototype.handleSizeChanged_=function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.mapBrowserEventHandler_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)Object(fe["c"])(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null,this.viewport_.removeEventListener(ce["a"].CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(ce["a"].WHEEL,this.boundHandleBrowserEvent_),void 0!==this.handleResize_&&(removeEventListener(ce["a"].RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,Object(Ke["e"])(this.viewport_)}if(t){for(var r in t.appendChild(this.viewport_),this.renderer_||(this.renderer_=this.createRenderer()),this.mapBrowserEventHandler_=new Xn(this,this.moveTolerance_),Yn)this.mapBrowserEventHandler_.addEventListener(Yn[r],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(ce["a"].CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(ce["a"].WHEEL,this.boundHandleBrowserEvent_,!!x["e"]&&{passive:!1});var o=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[Object(fe["a"])(o,ce["a"].KEYDOWN,this.handleBrowserEvent,this),Object(fe["a"])(o,ce["a"].KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),window.addEventListener(ce["a"].RESIZE,this.handleResize_,!1))}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(Object(fe["c"])(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Object(fe["c"])(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.updateViewportSize_(),this.viewPropertyListenerKey_=Object(fe["a"])(t,Ae["a"].PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=Object(fe["a"])(t,ce["a"].CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(fe["c"]),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[Object(fe["a"])(t,Ae["a"].PROPERTYCHANGE,this.render,this),Object(fe["a"])(t,ce["a"].CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.redrawText=function(){for(var t=this.getLayerGroup().getLayerStatesArray(),e=0,n=t.length;e<n;++e){var r=t[e].layer;r.hasRenderer()&&r.getRenderer().handleFontsChanged()}},e.prototype.render=function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){var e=this.getLayerGroup().getLayers();return e.remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e=this,n=this.getSize(),r=this.getView(),o=this.frameState_,i=null;if(void 0!==n&&Zi(n)&&r&&r.isDef()){var a=r.getHints(this.frameState_?this.frameState_.viewHints:void 0),s=r.getState();i={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutterTree:null,extent:Ot(s.center,s.resolution,s.rotation,n),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:s,viewHints:a,wantedTiles:{}}}if(this.frameState_=i,this.renderer_.renderFrame(i),i){if(i.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,i.postRenderFunctions),o){var u=!this.previousExtent_||!It(this.previousExtent_)&&!it(i.extent,this.previousExtent_);u&&(this.dispatchEvent(new Gn(Wn["a"].MOVESTART,this,o)),this.previousExtent_=tt(this.previousExtent_))}var l=this.previousExtent_&&!i.viewHints[ar.ANIMATING]&&!i.viewHints[ar.INTERACTING]&&!it(i.extent,this.previousExtent_);l&&(this.dispatchEvent(new Gn(Wn["a"].MOVEEND,this,i)),W(i.extent,this.previousExtent_))}this.dispatchEvent(new Gn(Wn["a"].POSTRENDER,this,i)),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){e.postRenderTimeoutHandle_=void 0,e.handlePostRender()}),0))},e.prototype.setLayerGroup=function(t){this.set(Zn.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Zn.SIZE,t)},e.prototype.setTarget=function(t){this.set(Zn.TARGET,t)},e.prototype.setView=function(t){this.set(Zn.VIEW,t)},e.prototype.updateSize=function(){var t=this.getTargetElement(),e=void 0;if(t){var n=getComputedStyle(t),r=t.offsetWidth-parseFloat(n["borderLeftWidth"])-parseFloat(n["paddingLeft"])-parseFloat(n["paddingRight"])-parseFloat(n["borderRightWidth"]),o=t.offsetHeight-parseFloat(n["borderTopWidth"])-parseFloat(n["paddingTop"])-parseFloat(n["paddingBottom"])-parseFloat(n["borderBottomWidth"]);isNaN(r)||isNaN(o)||(e=[r,o],Zi(e)||console.warn("No map visible because the map container's width or height are 0."))}this.setSize(e),this.updateViewportSize_()},e.prototype.updateViewportSize_=function(){var t=this.getView();if(t){var e=void 0,n=getComputedStyle(this.viewport_);n.width&&n.height&&(e=[parseInt(n.width,10),parseInt(n.height,10)]),t.setViewportSize(e)}},e}(oe["a"]);function $i(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n,r,o,i={},a=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new An({layers:t.layers});return i[Zn.LAYERGROUP]=a,i[Zn.TARGET]=t.target,i[Zn.VIEW]=void 0!==t.view?t.view:new Wi,void 0!==t.controls&&(Array.isArray(t.controls)?n=new In(t.controls.slice()):(P("function"===typeof t.controls.getArray,47),n=t.controls)),void 0!==t.interactions&&(Array.isArray(t.interactions)?r=new In(t.interactions.slice()):(P("function"===typeof t.interactions.getArray,48),r=t.interactions)),void 0!==t.overlays?Array.isArray(t.overlays)?o=new In(t.overlays.slice()):(P("function"===typeof t.overlays.getArray,49),o=t.overlays):o=new In,{controls:n,interactions:r,keyboardEventTarget:e,overlays:o,values:i}}var Qi=Ji,ta=n("3900"),ea=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),na=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,n.ulElement_=document.createElement("ul"),n.collapsed_=void 0===r.collapsed||r.collapsed,n.userCollapsed_=n.collapsed_,n.overrideCollapsible_=void 0!==r.collapsible,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1);var o=void 0!==r.className?r.className:"ol-attribution",i=void 0!==r.tipLabel?r.tipLabel:"Attributions",a=void 0!==r.expandClassName?r.expandClassName:o+"-expand",s=void 0!==r.collapseLabel?r.collapseLabel:"»",u=void 0!==r.collapseClassName?r.collapseClassName:o+"-collpase";"string"===typeof s?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=s,n.collapseLabel_.className=u):n.collapseLabel_=s;var l=void 0!==r.label?r.label:"i";"string"===typeof l?(n.label_=document.createElement("span"),n.label_.textContent=l,n.label_.className=a):n.label_=l;var c=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_;n.toggleButton_=document.createElement("button"),n.toggleButton_.setAttribute("type","button"),n.toggleButton_.setAttribute("aria-expanded",String(!n.collapsed_)),n.toggleButton_.title=i,n.toggleButton_.appendChild(c),n.toggleButton_.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n),!1);var h=o+" "+Ye+" "+Ve+(n.collapsed_&&n.collapsible_?" "+ze:"")+(n.collapsible_?"":" ol-uncollapsible"),p=n.element;return p.className=h,p.appendChild(n.toggleButton_),p.appendChild(n.ulElement_),n.renderedAttributions_=[],n.renderedVisible_=!0,n}return ea(e,t),e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],r=!0,o=t.layerStatesArray,i=0,a=o.length;i<a;++i){var s=o[i];if(ye(s,t.viewState)){var u=s.layer.getSource();if(u){var l=u.getAttributions();if(l){var c=l(t);if(c)if(r=r&&!1!==u.getAttributionsCollapsible(),Array.isArray(c))for(var h=0,p=c.length;h<p;++h)c[h]in e||(n.push(c[h]),e[c[h]]=!0);else c in e||(n.push(c),e[c]=!0)}}}}return this.overrideCollapsible_||this.setCollapsible(r),n},e.prototype.updateElement_=function(t){if(t){var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!Object(ao["b"])(e,this.renderedAttributions_)){Object(Ke["d"])(this.ulElement_);for(var r=0,o=e.length;r<o;++r){var i=document.createElement("li");i.innerHTML=e[r],this.ulElement_.appendChild(i)}this.renderedAttributions_=e}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_},e.prototype.handleToggle_=function(){this.element.classList.toggle(ze),this.collapsed_?Object(Ke["g"])(this.collapseLabel_,this.label_):Object(Ke["g"])(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.userCollapsed_=t,this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.render=function(t){this.updateElement_(t.frameState)},e}(ta["default"]),ra=na,oa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ia=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this;var o=void 0!==r.className?r.className:"ol-rotate",i=void 0!==r.label?r.label:"⇧",a=void 0!==r.compassClassName?r.compassClassName:"ol-compass";n.label_=null,"string"===typeof i?(n.label_=document.createElement("span"),n.label_.className=a,n.label_.textContent=i):(n.label_=i,n.label_.classList.add(a));var s=r.tipLabel?r.tipLabel:"Reset rotation",u=document.createElement("button");u.className=o+"-reset",u.setAttribute("type","button"),u.title=s,u.appendChild(n.label_),u.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n),!1);var l=o+" "+Ye+" "+Ve,c=n.element;return c.className=l,c.appendChild(u),n.callResetNorth_=r.resetNorth?r.resetNorth:void 0,n.duration_=void 0!==r.duration?r.duration:250,n.autoHide_=void 0===r.autoHide||r.autoHide,n.rotation_=void 0,n.autoHide_&&n.element.classList.add(ke),n}return oa(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();if(e){var n=e.getRotation();void 0!==n&&(this.duration_>0&&n%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:_o}):e.setRotation(0))}},e.prototype.render=function(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var r="rotate("+n+"rad)";if(this.autoHide_){var o=this.element.classList.contains(ke);o||0!==n?o&&0!==n&&this.element.classList.remove(ke):this.element.classList.add(ke)}this.label_.style.transform=r}this.rotation_=n}},e}(ta["default"]),aa=ia,sa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ua=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this;var o=void 0!==r.className?r.className:"ol-zoom",i=void 0!==r.delta?r.delta:1,a=void 0!==r.zoomInClassName?r.zoomInClassName:o+"-in",s=void 0!==r.zoomOutClassName?r.zoomOutClassName:o+"-out",u=void 0!==r.zoomInLabel?r.zoomInLabel:"+",l=void 0!==r.zoomOutLabel?r.zoomOutLabel:"−",c=void 0!==r.zoomInTipLabel?r.zoomInTipLabel:"Zoom in",h=void 0!==r.zoomOutTipLabel?r.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=a,p.setAttribute("type","button"),p.title=c,p.appendChild("string"===typeof u?document.createTextNode(u):u),p.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n,i),!1);var f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=h,f.appendChild("string"===typeof l?document.createTextNode(l):l),f.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n,-i),!1);var d=o+" "+Ye+" "+Ve,g=n.element;return g.className=d,g.appendChild(p),g.appendChild(f),n.duration_=void 0!==r.duration?r.duration:250,n}return sa(e,t),e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap(),n=e.getView();if(n){var r=n.getZoom();if(void 0!==r){var o=n.getConstrainedZoom(r+t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({zoom:o,duration:this.duration_,easing:_o})):n.setZoom(o)}}},e}(ta["default"]),la=ua;function ca(t){var e=t||{},n=new In,r=void 0===e.zoom||e.zoom;r&&n.push(new la(e.zoomOptions));var o=void 0===e.rotate||e.rotate;o&&n.push(new aa(e.rotateOptions));var i=void 0===e.attribution||e.attribution;return i&&n.push(new ra(e.attributionOptions)),n}var ha={ACTIVE:"active"},pa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fa=function(t){function e(e){var n=t.call(this)||this;return n.on,n.once,n.un,e&&e.handleEvent&&(n.handleEvent=e.handleEvent),n.map_=null,n.setActive(!0),n}return pa(e,t),e.prototype.getActive=function(){return this.get(ha.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(ha.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(oe["a"]);function da(t,e,n){var r=t.getCenterInternal();if(r){var o=[r[0]+e[0],r[1]+e[1]];t.animateInternal({duration:void 0!==n?n:250,easing:Oo,center:t.getConstrainedCenter(o)})}}function ga(t,e,n,r){var o=t.getZoom();if(void 0!==o){var i=t.getConstrainedZoom(o+e),a=t.getResolutionForZoom(i);t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:a,anchor:n,duration:void 0!==r?r:250,easing:_o})}}var ya=fa,va=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_a=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:250,n}return va(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==Yn.DBLCLICK){var n=t.originalEvent,r=t.map,o=t.coordinate,i=n.shiftKey?-this.delta_:this.delta_,a=r.getView();ga(a,i,o,this.duration_),n.preventDefault(),e=!0}return!e},e}(ya),ma=_a,Oa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ba=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,r.handleDownEvent&&(n.handleDownEvent=r.handleDownEvent),r.handleDragEvent&&(n.handleDragEvent=r.handleDragEvent),r.handleMoveEvent&&(n.handleMoveEvent=r.handleMoveEvent),r.handleUpEvent&&(n.handleUpEvent=r.handleUpEvent),r.stopDown&&(n.stopDown=r.stopDown),n.handlingDownUpSequence=!1,n.trackedPointers_={},n.targetPointers=[],n}return Oa(e,t),e.prototype.getPointerCount=function(){return this.targetPointers.length},e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.originalEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==Yn.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==Yn.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==Yn.POINTERDOWN){var r=this.handleDownEvent(t);this.handlingDownUpSequence=r,e=this.stopDown(r)}else t.type==Yn.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(Ea(t)){var e=t.originalEvent,n=e.pointerId.toString();t.type==Yn.POINTERUP?delete this.trackedPointers_[n]:(t.type==Yn.POINTERDOWN||n in this.trackedPointers_)&&(this.trackedPointers_[n]=e),this.targetPointers=Object(ae["c"])(this.trackedPointers_)}},e}(ya);function wa(t){for(var e=t.length,n=0,r=0,o=0;o<e;o++)n+=t[o].clientX,r+=t[o].clientY;return[n/e,r/e]}function Ea(t){var e=t.type;return e===Yn.POINTERDOWN||e===Yn.POINTERDRAG||e===Yn.POINTERUP}var Sa=ba;function xa(t){var e=arguments;return function(t){for(var n=!0,r=0,o=e.length;r<o;++r)if(n=n&&e[r](t),!n)break;return n}}var Ca=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Ta=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ra=function(t){return t.target.getTargetElement().contains(document.activeElement)},Pa=function(t){return!t.map.getTargetElement().hasAttribute("tabindex")||Ra(t)},Ia=E["b"],La=function(t){return t.type==Yn.CLICK},Ma=function(t){var e=t.originalEvent;return 0==e.button&&!(x["f"]&&x["d"]&&e.ctrlKey)},Na=E["a"],Aa=function(t){return"pointermove"==t.type},ja=function(t){return t.type==Yn.SINGLECLICK},Fa=function(t){return t.type==Yn.DBLCLICK},Ga=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Da=function(t){var e=t.originalEvent;return!e.altKey&&(x["d"]?e.metaKey:e.ctrlKey)&&!e.shiftKey},ka=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Ba=function(t){var e=t.originalEvent,n=e.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},Ya=function(t){var e=t.originalEvent;return P(void 0!==e,56),"mouse"==e.pointerType},Ua=function(t){var e=t.originalEvent;return P(void 0!==e,56),"touch"===e.pointerType},Va=function(t){var e=t.originalEvent;return P(void 0!==e,56),"pen"===e.pointerType},za=function(t){var e=t.originalEvent;return P(void 0!==e,56),e.isPrimary&&0===e.button},Xa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wa=function(t){function e(e){var n=t.call(this,{stopDown:E["a"]})||this,r=e||{};n.kinetic_=r.kinetic,n.lastCentroid=null,n.lastPointersCount_,n.panning_=!1;var o=r.condition?r.condition:xa(Ga,za);return n.condition_=r.onFocusOnly?xa(Pa,o):o,n.noKinetic_=!1,n}return Xa(e,t),e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var e=this.targetPointers,n=wa(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var r=[this.lastCentroid[0]-n[0],n[1]-this.lastCentroid[1]],o=t.map,i=o.getView();Se(r,i.getResolution()),Ee(r,i.getRotation()),i.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length,t.originalEvent.preventDefault()},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),i=n.getCenterInternal(),a=e.getPixelFromCoordinateInternal(i),s=e.getCoordinateFromPixelInternal([a[0]-r*Math.cos(o),a[1]-r*Math.sin(o)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:_o})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Sa),Za=Wa,Ha=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ka=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,{stopDown:E["a"]})||this,n.condition_=r.condition?r.condition:Ta,n.lastAngle_=void 0,n.duration_=void 0!==r.duration?r.duration:250,n}return Ha(e,t),e.prototype.handleDragEvent=function(t){if(Ya(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==po){var r=e.getSize(),o=t.pixel,i=Math.atan2(r[1]/2-o[1],o[0]-r[0]/2);if(void 0!==this.lastAngle_){var a=i-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=i}}},e.prototype.handleUpEvent=function(t){if(!Ya(t))return!0;var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Ya(t))return!1;if(Ma(t)&&this.condition_(t)){var e=t.map;return e.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1},e}(Sa),qa=Ka,Ja=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$a=function(t){function e(e){var n=t.call(this)||this;return n.geometry_=null,n.element_=document.createElement("div"),n.element_.style.position="absolute",n.element_.style.pointerEvents="auto",n.element_.className="ol-box "+e,n.map_=null,n.startPixel_=null,n.endPixel_=null,n}return Ja(e,t),e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n="px",r=this.element_.style;r.left=Math.min(t[0],e[0])+n,r.top=Math.min(t[1],e[1])+n,r.width=Math.abs(e[0]-t[0])+n,r.height=Math.abs(e[1]-t[1])+n},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],r=n.map(this.map_.getCoordinateFromPixelInternal,this.map_);r[4]=r[0].slice(),this.geometry_?this.geometry_.setCoordinates([r]):this.geometry_=new Mi([r])},e.prototype.getGeometry=function(){return this.geometry_},e}(w["a"]),Qa=$a,ts=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),es={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"},ns=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.coordinate=n,o.mapBrowserEvent=r,o}return ts(e,t),e}(je["a"]),rs=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.box_=new Qa(r.className||"ol-dragbox"),n.minArea_=void 0!==r.minArea?r.minArea:64,r.onBoxEnd&&(n.onBoxEnd=r.onBoxEnd),n.startPixel_=null,n.condition_=r.condition?r.condition:Ma,n.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:n.defaultBoxEndCondition,n}return ts(e,t),e.prototype.defaultBoxEndCondition=function(t,e,n){var r=n[0]-e[0],o=n[1]-e[1];return r*r+o*o>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new ns(es.BOXDRAG,t.coordinate,t))},e.prototype.handleUpEvent=function(t){this.box_.setMap(null);var e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new ns(e?es.BOXEND:es.BOXCANCEL,t.coordinate,t)),!1},e.prototype.handleDownEvent=function(t){return!!this.condition_(t)&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new ns(es.BOXSTART,t.coordinate,t)),!0)},e.prototype.onBoxEnd=function(t){},e}(Sa),os=rs,is=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),as=function(t){function e(e){var n=this,r=e||{},o=r.condition?r.condition:ka;return n=t.call(this,{condition:o,className:r.className||"ol-dragzoom",minArea:r.minArea})||this,n.duration_=void 0!==r.duration?r.duration:200,n.out_=void 0!==r.out&&r.out,n}return is(e,t),e.prototype.onBoxEnd=function(t){var e=this.getMap(),n=e.getView(),r=this.getGeometry();if(this.out_){var o=n.rotatedExtentForGeometry(r),i=n.getResolutionForExtentInternal(o),a=n.getResolution()/i;r=r.clone(),r.scale(a*a)}n.fitInternal(r,{duration:this.duration_,easing:_o})},e}(os),ss=as,us={LEFT:37,UP:38,RIGHT:39,DOWN:40},ls=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cs=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.defaultCondition_=function(t){return Ga(t)&&Ba(t)},n.condition_=void 0!==r.condition?r.condition:n.defaultCondition_,n.duration_=void 0!==r.duration?r.duration:100,n.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128,n}return ls(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==ce["a"].KEYDOWN){var n=t.originalEvent,r=n.keyCode;if(this.condition_(t)&&(r==us.DOWN||r==us.LEFT||r==us.RIGHT||r==us.UP)){var o=t.map,i=o.getView(),a=i.getResolution()*this.pixelDelta_,s=0,u=0;r==us.DOWN?u=-a:r==us.LEFT?s=-a:r==us.RIGHT?s=a:u=a;var l=[s,u];Ee(l,i.getRotation()),da(i,l,this.duration_),n.preventDefault(),e=!0}}return!e},e}(ya),hs=cs,ps=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fs=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.condition_=r.condition?r.condition:Ba,n.delta_=r.delta?r.delta:1,n.duration_=void 0!==r.duration?r.duration:100,n}return ps(e,t),e.prototype.handleEvent=function(t){var e=!1;if(t.type==ce["a"].KEYDOWN||t.type==ce["a"].KEYPRESS){var n=t.originalEvent,r=n.charCode;if(this.condition_(t)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var o=t.map,i=r=="+".charCodeAt(0)?this.delta_:-this.delta_,a=o.getView();ga(a,i,void 0,this.duration_),n.preventDefault(),e=!0}}return!e},e}(ya),ds=fs,gs=function(){function t(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0}return t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;var n=e-3;while(n>0&&this.points_[n+2]>t)n-=3;var r=this.points_[e+2]-this.points_[n+2];if(r<1e3/60)return!1;var o=this.points_[e]-this.points_[n],i=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(i,o),this.initialVelocity_=Math.sqrt(o*o+i*i)/r,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_},t}(),ys=gs,vs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_s={TRACKPAD:"trackpad",WHEEL:"wheel"},ms=function(t){function e(e){var n=this,r=e||{};n=t.call(this,r)||this,n.totalDelta_=0,n.lastDelta_=0,n.maxDelta_=void 0!==r.maxDelta?r.maxDelta:1,n.duration_=void 0!==r.duration?r.duration:250,n.timeout_=void 0!==r.timeout?r.timeout:80,n.useAnchor_=void 0===r.useAnchor||r.useAnchor,n.constrainResolution_=void 0!==r.constrainResolution&&r.constrainResolution;var o=r.condition?r.condition:Ia;return n.condition_=r.onFocusOnly?xa(Pa,o):o,n.lastAnchor_=null,n.startTime_=void 0,n.timeoutId_,n.mode_=void 0,n.trackpadEventGap_=400,n.trackpadTimeoutId_,n.deltaPerZoom_=300,n}return vs(e,t),e.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var t=this.getMap().getView();t.endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==ce["a"].WHEEL)return!0;var n,r=t.map,o=t.originalEvent;if(o.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.coordinate),t.type==ce["a"].WHEEL&&(n=o.deltaY,x["b"]&&o.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=x["a"]),o.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)),0===n)return!1;this.lastDelta_=n;var i=Date.now();void 0===this.startTime_&&(this.startTime_=i),(!this.mode_||i-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?_s.TRACKPAD:_s.WHEEL);var a=r.getView();if(this.mode_===_s.TRACKPAD&&!a.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(a.getAnimating()&&a.cancelAnimations(),a.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),a.adjustZoom(-n/this.deltaPerZoom_,this.lastAnchor_),this.startTime_=i,!1;this.totalDelta_+=n;var s=Math.max(this.timeout_-(i-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,r),s),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var n=-Ft(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),ga(e,n,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(ya),Os=ms,bs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ws=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=E["a"]),n=t.call(this,o)||this,n.anchor_=null,n.lastAngle_=void 0,n.rotating_=!1,n.rotationDelta_=0,n.threshold_=void 0!==r.threshold?r.threshold:.3,n.duration_=void 0!==r.duration?r.duration:250,n}return bs(e,t),e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],r=this.targetPointers[1],o=Math.atan2(r.clientY-n.clientY,r.clientX-n.clientX);if(void 0!==this.lastAngle_){var i=o-this.lastAngle_;this.rotationDelta_+=i,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=i}this.lastAngle_=o;var a=t.map,s=a.getView();if(s.getConstraints().rotation!==po){var u=a.getViewport().getBoundingClientRect(),l=wa(this.targetPointers);l[0]-=u.left,l[1]-=u.top,this.anchor_=a.getCoordinateFromPixelInternal(l),this.rotating_&&(a.render(),s.adjustRotationInternal(e,this.anchor_))}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();return n.endInteraction(this.duration_),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Sa),Es=ws,Ss=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xs=function(t){function e(e){var n=this,r=e||{},o=r;return o.stopDown||(o.stopDown=E["a"]),n=t.call(this,o)||this,n.anchor_=null,n.duration_=void 0!==r.duration?r.duration:400,n.lastDistance_=void 0,n.lastScaleDelta_=1,n}return Ss(e,t),e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],r=this.targetPointers[1],o=n.clientX-r.clientX,i=n.clientY-r.clientY,a=Math.sqrt(o*o+i*i);void 0!==this.lastDistance_&&(e=this.lastDistance_/a),this.lastDistance_=a;var s=t.map,u=s.getView();1!=e&&(this.lastScaleDelta_=e);var l=s.getViewport().getBoundingClientRect(),c=wa(this.targetPointers);c[0]-=l.left,c[1]-=l.top,this.anchor_=s.getCoordinateFromPixelInternal(c),s.render(),u.adjustResolutionInternal(e,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView(),r=this.lastScaleDelta_>1?1:-1;return n.endInteraction(this.duration_,r),!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1},e}(Sa),Cs=xs;function Ts(t){var e=t||{},n=new In,r=new ys(-.005,.05,100),o=void 0===e.altShiftDragRotate||e.altShiftDragRotate;o&&n.push(new qa);var i=void 0===e.doubleClickZoom||e.doubleClickZoom;i&&n.push(new ma({delta:e.zoomDelta,duration:e.zoomDuration}));var a=void 0===e.dragPan||e.dragPan;a&&n.push(new Za({onFocusOnly:e.onFocusOnly,kinetic:r}));var s=void 0===e.pinchRotate||e.pinchRotate;s&&n.push(new Es);var u=void 0===e.pinchZoom||e.pinchZoom;u&&n.push(new Cs({duration:e.zoomDuration}));var l=void 0===e.keyboard||e.keyboard;l&&(n.push(new hs),n.push(new ds({delta:e.zoomDelta,duration:e.zoomDuration})));var c=void 0===e.mouseWheelZoom||e.mouseWheelZoom;c&&n.push(new Os({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration}));var h=void 0===e.shiftDragZoom||e.shiftDragZoom;return h&&n.push(new ss({duration:e.zoomDuration})),n}var Rs=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ps=function(t){function e(e){var n=this;return e=Object(ae["a"])({},e),e.controls||(e.controls=ca()),e.interactions||(e.interactions=Ts({onFocusOnly:!0})),n=t.call(this,e)||this,n}return Rs(e,t),e.prototype.createRenderer=function(){return new Sn(this)},e}(Qi),Is=Ps;n("b64b"),n("a4d3"),n("4de4"),n("e439"),n("159b"),n("dbb4");function Ls(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ms(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ns(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ms(Object(n),!0).forEach((function(e){Ls(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ms(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n("caad"),n("2532");function As(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=Object(O["toRefs"])(t);Object.keys(n).forEach((function(t){n[t]=n[t].value}));var r=Object(O["reactive"])(Ns({},n));return Object(O["watch"])(t,(function(){n=Object(O["toRefs"])(t),Object.keys(n).forEach((function(t){r[t]==n[t].value||e.includes(t)||(r[t]=n[t].value)}))})),{properties:r}}var js={name:"ol-map",setup:function(t,e){var n=e.emit,r=As(t),o=r.properties,i=Object(O["ref"])(null),a=new Is(o);Object(O["watch"])(o,(function(){a.setProperties(o)})),Object(O["onMounted"])((function(){a.setTarget(i.value)})),Object(O["onUnmounted"])((function(){a.setTarget(null),a=null})),Object(O["provide"])("map",a);var s=function(){return a.focus()},u=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.forEachFeatureAtPixel(t,e,n)},l=function(t,e,n){return a.forEachLayerAtPixel(t,e,n)},c=function(t){return a.getCoordinateFromPixel(t)},h=function(){return a.refresh()},p=function(){return a.render()},f=function(){return a.updateSize()};return a.on("click",(function(t){return n("click",t)})),a.on("dblclick",(function(t){return n("dblclick",t)})),a.on("singleclick",(function(t){return n("singleclick",t)})),a.on("pointerdrag",(function(t){return n("pointerdrag",t)})),a.on("pointermove",(function(t){return n("pointermove",t)})),a.on("movestart",(function(t){return n("movestart",t)})),a.on("moveend",(function(t){return n("moveend",t)})),a.on("postrender",(function(t){return n("postrender",t)})),a.on("precompose",(function(t){return n("precompose",t)})),a.on("postcompose",(function(t){return n("postcompose",t)})),{map:a,mapRef:i,focus:s,forEachFeatureAtPixel:u,forEachLayerAtPixel:l,getCoordinateFromPixel:c,refresh:h,render:p,updateSize:f}},props:{loadTilesWhileAnimating:{type:Boolean,default:!1},loadTilesWhileInteracting:{type:Boolean,default:!1},moveTolerance:{type:Number,default:1},pixelRatio:{type:Number,default:1},controls:{type:Array,default:function(){return[]}}}};js.render=b;var Fs=js;function Gs(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}function Ds(t,e){var n=Object(O["inject"])("map"),r=As(t),o=r.properties,i=function(){return Ns(Ns({},o),{},{projection:"string"==typeof o.projection?o.projection:new hr(Ns({},o.projection))})},a=new Wi(i());Object(O["onMounted"])((function(){n.setView(a)})),a.on("change:center",(function(){e("centerChanged",E()),e("zoomChanged",D())})),a.on("change:resolution",(function(){return e("resolutionChanged",M())})),a.on("change:rotation",(function(){return e("rotationChanged",G())})),Object(O["watch"])(o,(function(){var t=i();a.setProperties(t),a.applyOptions_(t)}));var s=function(t){return a.adjustCenter(t)},u=function(t,e){return a.adjustResolution(t,e)},l=function(t,e){return a.adjustRotation(t,e)},c=function(t,e){return a.adjustZoom(t,e)},h=function(t){return a.animate(t)},p=function(){return a.beginInteraction()},f=function(t){return a.calculateExtent(t)},d=function(){return a.cancelAnimations()},g=function(t,e,n){return a.centerOn(t,e,n)},y=function(){return a.changed()},v=function(t){return a.dispatchEvent(t)},_=function(t,e,n){return a.endInteraction(t,e,n)},m=function(t,e){return a.fit(t,e)},b=function(t){return a.get(t)},w=function(){return a.getAnimating()},E=function(){return a.getCenter()},S=function(){return a.getInteracting()},x=function(){return a.getKeys()},C=function(){return a.getMaxResolution()},T=function(){return a.getMaxZoom()},R=function(){return a.getMinResolution()},P=function(){return a.getMinZoom()},I=function(){return a.getProjection()},L=function(){return a.getProperties()},M=function(){return a.getResolution()},N=function(t,e){return a.getResolutionForExtent(t,e)},A=function(t){return a.getResolutionForZoom(t)},j=function(){return a.getResolutions()},F=function(){return a.getRevision()},G=function(){return a.getRotation()},D=function(){return a.getZoom()},k=function(t){return a.getZoomForResolution(t)},B=function(t){return a.setCenter(t)},Y=function(t){return a.setConstrainResolution(t)},U=function(t){return a.setMaxZoom(t)},V=function(t){return a.setMinZoom(t)},z=function(t){return a.setResolution(t)},X=function(t){return a.setRotation(t)},W=function(t){return a.setZoom(t)};return{view:a,adjustCenter:s,adjustResolution:u,adjustRotation:l,adjustZoom:c,animate:h,beginInteraction:p,calculateExtent:f,cancelAnimations:d,centerOn:g,changed:y,dispatchEvent:v,endInteraction:_,fit:m,get:b,getAnimating:w,getCenter:E,getInteracting:S,getKeys:x,getMaxResolution:C,getMaxZoom:T,getMinResolution:R,getMinZoom:P,getProjection:I,getProperties:L,getResolution:M,getResolutionForExtent:N,getResolutionForZoom:A,getResolutions:j,getRevision:F,getRotation:G,getZoom:D,getZoomForResolution:k,setCenter:B,setConstrainResolution:Y,setMaxZoom:U,setMinZoom:V,setResolution:z,setRotation:X,setZoom:W}}var ks={name:"ol-view",setup:function(t,e){var n=e.emit,r=Ds(t,n);return Ns({},r)},props:{center:{type:Array,default:function(){return[0,0]}},constrainRotation:{type:Boolean,default:!0},enableRotation:{type:Boolean,default:!0},extent:{type:Array},constrainOnlyCenter:{type:Boolean,default:!1},smoothExtentConstraint:{type:Boolean,default:!0},maxResolution:{type:Number},minResolution:{type:Number},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},multiWorld:{type:Boolean,default:!1},constrainResolution:{type:Boolean,default:!1},smoothResolutionConstraint:{type:Boolean,default:!0},showFullExtent:{type:Boolean,default:!1},projection:{type:[String,Object],default:"EPSG:3857"},resolution:{type:Number},resolutions:{type:Array},rotation:{type:Number},zoom:{type:Number,default:0},zoomFactor:{type:Number,default:2},padding:{type:Array,default:function(){return[0,0,0,0]}}}};ks.render=Gs;var Bs=ks;function Ys(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var Us=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vs=function(t){function e(e){var n=t.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),e)if("function"===typeof e.getSimplifiedGeometry){var r=e;n.setGeometry(r)}else{var o=e;n.setProperties(o)}return n}return Us(e,t),e.prototype.clone=function(){var t=new e(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var r=this.getStyle();return r&&t.setStyle(r),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(fe["c"])(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=Object(fe["a"])(t,ce["a"].CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?zs(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},e}(oe["a"]);function zs(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{P("function"===typeof t.getZIndex,41);var n=t;e=[n]}return function(){return e}}var Xs=Vs,Ws={name:"ol-feature",setup:function(t){var e=Object(O["inject"])("vectorSource"),n=Object(O["inject"])("vectorLayer"),r=Object(O["inject"])("animation",null),o=As(t),i=o.properties,a=Object(O["computed"])((function(){var t=new Xs(i);return t}));Object(O["watch"])(a,(function(t,n){e.value.removeFeature(n),e.value.addFeature(t),e.value.changed()})),Object(O["watch"])(e,(function(t,e){e.removeFeature(a.value),t.addFeature(a.value),t.changed()})),Object(O["onMounted"])((function(){e.value.addFeature(a.value),null!=r&&n.value.animateFeature(a.value,r.value)})),Object(O["onUnmounted"])((function(){e.value.removeFeature(a.value)})),Object(O["provide"])("feature",a),Object(O["provide"])("stylable",a)},props:{geometryOrProperties:{type:[Io,Object,Array]}}};Ws.render=Ys;var Zs=Ws,Hs={ref:"htmlContent"};function Ks(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",Hs,[Object(O["renderSlot"])(t.$slots,"default",{position:n.position})],512)}var qs={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Js=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$s={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},Qs=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un,n.options=e,n.id=e.id,n.insertFirst=void 0===e.insertFirst||e.insertFirst,n.stopEvent=void 0===e.stopEvent||e.stopEvent,n.element=document.createElement("div"),n.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Be,n.element.style.position="absolute",n.element.style.pointerEvents="auto";var r=e.autoPan;return r&&"object"!==typeof r&&(r={animation:e.autoPanAnimation,margin:e.autoPanMargin}),n.autoPan=r||!1,n.rendered={transform_:"",visible:!0},n.mapPostrenderListenerKey=null,n.addChangeListener($s.ELEMENT,n.handleElementChanged),n.addChangeListener($s.MAP,n.handleMapChanged),n.addChangeListener($s.OFFSET,n.handleOffsetChanged),n.addChangeListener($s.POSITION,n.handlePositionChanged),n.addChangeListener($s.POSITIONING,n.handlePositioningChanged),void 0!==e.element&&n.setElement(e.element),n.setOffset(void 0!==e.offset?e.offset:[0,0]),n.setPositioning(void 0!==e.positioning?e.positioning:qs.TOP_LEFT),void 0!==e.position&&n.setPosition(e.position),n}return Js(e,t),e.prototype.getElement=function(){return this.get($s.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get($s.MAP)},e.prototype.getOffset=function(){return this.get($s.OFFSET)},e.prototype.getPosition=function(){return this.get($s.POSITION)},e.prototype.getPositioning=function(){return this.get($s.POSITIONING)},e.prototype.handleElementChanged=function(){Object(Ke["d"])(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Object(Ke["e"])(this.element),Object(fe["c"])(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=Object(fe["a"])(t,Wn["a"].POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element),this.performAutoPan()}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.performAutoPan()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set($s.ELEMENT,t)},e.prototype.setMap=function(t){this.set($s.MAP,t)},e.prototype.setOffset=function(t){this.set($s.OFFSET,t)},e.prototype.setPosition=function(t){this.set($s.POSITION,t)},e.prototype.performAutoPan=function(){this.autoPan&&this.panIntoView(this.autoPan)},e.prototype.panIntoView=function(t){var e=this.getMap();if(e&&e.getTargetElement()&&this.get($s.POSITION)){var n=this.getRect(e.getTargetElement(),e.getSize()),r=this.getElement(),o=this.getRect(r,[Object(Ke["c"])(r),Object(Ke["b"])(r)]),i=t||{},a=void 0===i.margin?20:i.margin;if(!K(n,o)){var s=o[0]-n[0],u=n[2]-o[2],l=o[1]-n[1],c=n[3]-o[3],h=[0,0];if(s<0?h[0]=s-a:u<0&&(h[0]=Math.abs(u)+a),l<0?h[1]=l-a:c<0&&(h[1]=Math.abs(c)+a),0!==h[0]||0!==h[1]){var p=e.getView().getCenterInternal(),f=e.getPixelFromCoordinateInternal(p);if(!f)return;var d=[f[0]+h[0],f[1]+h[1]],g=i.animation||{};e.getView().animateInternal({center:e.getCoordinateFromPixelInternal(d),duration:g.duration,easing:g.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),r=n.left+window.pageXOffset,o=n.top+window.pageYOffset;return[r,o,r+e[0],o+e[1]]},e.prototype.setPositioning=function(t){this.set($s.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var n=t.getPixelFromCoordinate(e),r=t.getSize();this.updateRenderedPosition(n,r)}else this.setVisible(!1)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,r=this.getOffset(),o=this.getPositioning();this.setVisible(!0);var i=Math.round(t[0]+r[0])+"px",a=Math.round(t[1]+r[1])+"px",s="0%",u="0%";o==qs.BOTTOM_RIGHT||o==qs.CENTER_RIGHT||o==qs.TOP_RIGHT?s="-100%":o!=qs.BOTTOM_CENTER&&o!=qs.CENTER_CENTER&&o!=qs.TOP_CENTER||(s="-50%"),o==qs.BOTTOM_LEFT||o==qs.BOTTOM_CENTER||o==qs.BOTTOM_RIGHT?u="-100%":o!=qs.CENTER_LEFT&&o!=qs.CENTER_CENTER&&o!=qs.CENTER_RIGHT||(u="-50%");var l="translate("+s+", "+u+") translate("+i+", "+a+")";this.rendered.transform_!=l&&(this.rendered.transform_=l,n.transform=l,n.msTransform=l)},e.prototype.getOptions=function(){return this.options},e}(oe["a"]),tu=Qs;function eu(t,e){var n=Object(O["inject"])("map"),r=Object(O["ref"])(null),o=As(t),i=o.properties,a=Object(O["computed"])((function(){return new tu(i)}));Object(O["onMounted"])((function(){n.addOverlay(a.value)})),Object(O["onUnmounted"])((function(){n.removeOverlay(a.value)})),Object(O["watch"])(a,(function(t,e){n.removeOverlay(e),n.addOverlay(t)})),Object(O["watchEffect"])((function(){p(r.value)}),{flush:"post"}),a.value.on("change:element",(function(){return e("elementChanged",s())})),a.value.on("change:offset",(function(){return e("offsetChanged",u())})),a.value.on("change:position",(function(){return e("positionChanged",l())})),a.value.on("change:positioning",(function(){return e("positioningChanged",c())}));var s=function(){return a.value.getElement()},u=function(){return a.value.getOffset()},l=function(){return a.value.getPosition()},c=function(){return a.value.getPositioning()},h=function(t){return a.value.panIntoView(t)},p=function(t){return a.value.setElement(t)},f=function(t){return a.value.setOffset(t)},d=function(t){return a.value.setPosition(t)},g=function(t){return a.value.setPositioning(t)};return{overlay:a,htmlContent:r,getOffset:u,getPosition:l,getPositioning:c,panIntoView:h,setElement:p,setOffset:f,setPosition:d,setPositioning:g}}var nu={name:"ol-overlay",setup:function(t,e){var n=e.emit,r=new eu(t,n);return Ns({},r)},props:{position:{type:Array},offset:{type:Array},positioning:{type:Array},stopEvent:{type:Boolean,default:!0},insertFirst:{type:Boolean,default:!0},autoPan:{type:Boolean,default:!1},autoPanMargin:{type:Number,default:20},autoPanAnimation:{type:Object,default:void 0}}};nu.render=Ks;var ru=nu;function ou(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default",{position:r.position,speed:r.speed,heading:r.heading,accuracy:r.accuracy,altitude:r.altitude,altitudeAccuracy:r.altitudeAccuracy,accuracyGeometry:r.accuracyGeometry})}var iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),au={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},su=function(t){function e(e){var n=t.call(this,ce["a"].ERROR)||this;return n.code=e.code,n.message=e.message,n}return iu(e,t),e}(je["a"]),uu=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r=e||{};return n.position_=null,n.transform_=Dr,n.watchId_=void 0,n.addChangeListener(au.PROJECTION,n.handleProjectionChanged_),n.addChangeListener(au.TRACKING,n.handleTrackingChanged_),void 0!==r.projection&&n.setProjection(r.projection),void 0!==r.trackingOptions&&n.setTrackingOptions(r.trackingOptions),n.setTracking(void 0!==r.tracking&&r.tracking),n}return iu(e,t),e.prototype.disposeInternal=function(){this.setTracking(!1),t.prototype.disposeInternal.call(this)},e.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=Zr(Yr("EPSG:4326"),t),this.position_&&this.set(au.POSITION,this.transform_(this.position_)))},e.prototype.handleTrackingChanged_=function(){if("geolocation"in navigator){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},e.prototype.positionChange_=function(t){var e=t.coords;this.set(au.ACCURACY,e.accuracy),this.set(au.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(au.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(au.HEADING,null===e.heading?void 0:Vt(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var n=this.transform_(this.position_);this.set(au.POSITION,n),this.set(au.SPEED,null===e.speed?void 0:e.speed);var r=Ni(this.position_,e.accuracy);r.applyTransform(this.transform_),this.set(au.ACCURACY_GEOMETRY,r),this.changed()},e.prototype.positionError_=function(t){this.dispatchEvent(new su(t))},e.prototype.getAccuracy=function(){return this.get(au.ACCURACY)},e.prototype.getAccuracyGeometry=function(){return this.get(au.ACCURACY_GEOMETRY)||null},e.prototype.getAltitude=function(){return this.get(au.ALTITUDE)},e.prototype.getAltitudeAccuracy=function(){return this.get(au.ALTITUDE_ACCURACY)},e.prototype.getHeading=function(){return this.get(au.HEADING)},e.prototype.getPosition=function(){return this.get(au.POSITION)},e.prototype.getProjection=function(){return this.get(au.PROJECTION)},e.prototype.getSpeed=function(){return this.get(au.SPEED)},e.prototype.getTracking=function(){return this.get(au.TRACKING)},e.prototype.getTrackingOptions=function(){return this.get(au.TRACKING_OPTIONS)},e.prototype.setProjection=function(t){this.set(au.PROJECTION,Yr(t))},e.prototype.setTracking=function(t){this.set(au.TRACKING,t)},e.prototype.setTrackingOptions=function(t){this.set(au.TRACKING_OPTIONS,t)},e}(oe["a"]),lu=uu,cu={name:"ol-geolocation",emits:["positionChanged","speedChanged","headingChanged","altitudeChanged","altitudeAccuracyChanged","accuracyGeometryChanged"],setup:function(t,e){var n=e.emit,r=As(t),o=r.properties,i=Object(O["computed"])((function(){var t=new lu(o);return t.on("change",f),t})),a=Object(O["ref"])([]),s=Object(O["ref"])(0),u=Object(O["ref"])(0),l=Object(O["ref"])(0),c=Object(O["ref"])(0),h=Object(O["ref"])(0),p=Object(O["ref"])({});Object(O["watch"])(a,(function(){n("positionChanged",a.value)})),Object(O["watch"])(c,(function(){n("speedChanged",c.value)})),Object(O["watch"])(h,(function(){n("headingChanged",h.value)})),Object(O["watch"])(u,(function(){n("altitudeChanged",u.value)})),Object(O["watch"])(l,(function(){n("altitudeAccuracyChanged",l.value)})),Object(O["watch"])(p,(function(){n("accuracyGeometryChanged",p.value)}));var f=function(){a.value=i.value.getPosition(),c.value=i.value.getSpeed(),h.value=i.value.getHeading(),s.value=i.value.getAccuracy(),u.value=i.value.getAltitude(),l.value=i.value.getAltitudeAccuracy(),p.value=i.value.getAccuracyGeometry()};return Object(O["watch"])(i,(function(t,e){e.un("change",f),t.on("change",f)})),{geoLoc:i,position:a,accuracy:s,altitude:u,altitudeAccuracy:l,speed:c,heading:h,accuracyGeometry:p}},props:{projection:{type:[String,Object],default:"EPSG:3857"},tracking:{type:Boolean,default:!0},trackingOptions:{type:Object,default:function(){return{enableHighAccuracy:!0}}}}};cu.render=ou;var hu=cu;function pu(t){pu.installed||(pu.installed=!0,t.component(Fs.name,Fs),t.component(Bs.name,Bs),t.component(Zs.name,Zs),t.component(ru.name,ru),t.component(hu.name,hu))}var fu=pu;function du(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var gu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},yu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),vu=function(t){function e(e){var n=this,r=e||{},o=Object(ae["a"])({},r);return delete o.preload,delete o.useInterimTilesOnError,n=t.call(this,o)||this,n.on,n.once,n.un,n.setPreload(void 0!==r.preload?r.preload:0),n.setUseInterimTilesOnError(void 0===r.useInterimTilesOnError||r.useInterimTilesOnError),n}return yu(e,t),e.prototype.getPreload=function(){return this.get(gu.PRELOAD)},e.prototype.setPreload=function(t){this.set(gu.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(gu.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(gu.USE_INTERIM_TILES_ON_ERROR,t)},e}(ve),_u=vu,mu={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},Ou=n("35a7"),bu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),wu=function(t){function e(e){var n=t.call(this)||this;return n.boundHandleImageChange_=n.handleImageChange_.bind(n),n.layer_=e,n.declutterExecutorGroup=null,n}return bu(e,t),e.prototype.getFeatures=function(t){return Object(S["b"])()},e.prototype.prepareFrame=function(t){return Object(S["b"])()},e.prototype.renderFrame=function(t,e){return Object(S["b"])()},e.prototype.loadedTileCallback=function(t,e,n){t[e]||(t[e]={}),t[e][n.tileCoord.toString()]=n},e.prototype.createLoadedTileFinder=function(t,e,n){return function(r,o){var i=this.loadedTileCallback.bind(this,n,r);return t.forEachLoadedTile(e,r,o,i)}.bind(this)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){},e.prototype.getDataAtPixel=function(t,e,n){return Object(S["b"])()},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleFontsChanged=function(){},e.prototype.handleImageChange_=function(t){var e=t.target;e.getState()===mu.LOADED&&this.renderIfReadyAndVisible()},e.prototype.loadImage=function(t){var e=t.getState();return e!=mu.LOADED&&e!=mu.ERROR&&t.addEventListener(ce["a"].CHANGE,this.boundHandleImageChange_),e==mu.IDLE&&(t.load(),e=t.getState()),e==mu.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==pe.READY&&t.changed()},e}(Ou["a"]),Eu=wu,Su=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xu=function(t){function e(e){var n=t.call(this,e)||this;return n.container=null,n.renderedResolution,n.tempTransform=L(),n.pixelTransform=L(),n.inversePixelTransform=L(),n.context=null,n.containerReused=!1,n}return Su(e,t),e.prototype.useContainer=function(t,e,n){var r,o,i=this.getLayer().getClassName();if(t&&""===t.style.opacity&&t.className===i){var a=t.firstElementChild;a instanceof HTMLCanvasElement&&(o=a.getContext("2d"))}if(!o||0!==o.canvas.width&&o.canvas.style.transform!==e?this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1):(this.container=t,this.context=o,this.containerReused=!0),!this.container){r=document.createElement("div"),r.className=i;var s=r.style;s.position="absolute",s.width="100%",s.height="100%",o=Object(Ke["a"])();a=o.canvas;r.appendChild(a),s=a.style,s.position="absolute",s.left="0",s.transformOrigin="top left",this.container=r,this.context=o}},e.prototype.clipUnrotated=function(t,e,n){var r=Ct(n),o=Tt(n),i=yt(n),a=gt(n);j(e.coordinateToPixelTransform,r),j(e.coordinateToPixelTransform,o),j(e.coordinateToPixelTransform,i),j(e.coordinateToPixelTransform,a);var s=this.inversePixelTransform;j(s,r),j(s,o),j(s,i),j(s,a),t.save(),t.beginPath(),t.moveTo(Math.round(r[0]),Math.round(r[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(i[0]),Math.round(i[1])),t.lineTo(Math.round(a[0]),Math.round(a[1])),t.clip()},e.prototype.dispatchRenderEvent_=function(t,e,n){var r=this.getLayer();if(r.hasListener(t)){var o=new De(t,this.inversePixelTransform,n,e);r.dispatchEvent(o)}},e.prototype.preRender=function(t,e){this.dispatchRenderEvent_(he.PRERENDER,t,e)},e.prototype.postRender=function(t,e){this.dispatchRenderEvent_(he.POSTRENDER,t,e)},e.prototype.getRenderTransform=function(t,e,n,r,o,i,a){var s=o/2,u=i/2,l=r/e,c=-l,h=-t[0]+a,p=-t[1];return G(this.tempTransform,s,u,l,c,-n,h,p)},e.prototype.getDataAtPixel=function(t,e,n){var r,o=j(this.inversePixelTransform,t.slice()),i=this.context,a=this.getLayer(),s=a.getExtent();if(s){var u=j(e.pixelToCoordinateTransform,t.slice());if(!H(s,u))return null}try{var l=Math.round(o[0]),c=Math.round(o[1]),h=document.createElement("canvas"),p=h.getContext("2d");h.width=1,h.height=1,p.clearRect(0,0,1,1),p.drawImage(i.canvas,l,c,1,1,0,0,1,1),r=p.getImageData(0,0,1,1).data}catch(f){return"SecurityError"===f.name?new Uint8Array:r}return 0===r[3]?null:r},e}(Eu),Cu=xu,Tu=function(){function t(t,e,n,r){this.minX=t,this.maxX=e,this.minY=n,this.maxY=r}return t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY},t}();function Ru(t,e,n,r,o){return void 0!==o?(o.minX=t,o.maxX=e,o.minY=n,o.maxY=r,o):new Tu(t,e,n,r)}var Pu=Tu,Iu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lu=function(t){function e(e){var n=t.call(this,e)||this;return n.extentChanged=!0,n.renderedExtent_=null,n.renderedPixelRatio,n.renderedProjection=null,n.renderedRevision,n.renderedTiles=[],n.newTiles_=!1,n.tmpExtent=$(),n.tmpTileRange_=new Pu(0,0,0,0),n}return Iu(e,t),e.prototype.isDrawableTile=function(t){var e=this.getLayer(),n=t.getState(),r=e.getUseInterimTilesOnError();return n==Jn.LOADED||n==Jn.EMPTY||n==Jn.ERROR&&!r},e.prototype.getTile=function(t,e,n,r){var o=r.pixelRatio,i=r.viewState.projection,a=this.getLayer(),s=a.getSource(),u=s.getTile(t,e,n,o,i);return u.getState()==Jn.ERROR&&(a.getUseInterimTilesOnError()?a.getPreload()>0&&(this.newTiles_=!0):u.setState(Jn.LOADED)),this.isDrawableTile(u)||(u=u.getInterimTile()),u},e.prototype.loadedTileCallback=function(e,n,r){return!!this.isDrawableTile(r)&&t.prototype.loadedTileCallback.call(this,e,n,r)},e.prototype.prepareFrame=function(t){return!!this.getLayer().getSource()},e.prototype.renderFrame=function(t,e){var n=t.layerStatesArray[t.layerIndex],r=t.viewState,o=r.projection,i=r.resolution,a=r.center,s=r.rotation,u=t.pixelRatio,l=this.getLayer(),c=l.getSource(),h=c.getRevision(),p=c.getTileGridForProjection(o),f=p.getZForResolution(i,c.zDirection),d=p.getResolution(f),g=t.extent,y=n.extent&&no(n.extent,o);y&&(g=Et(g,no(n.extent,o)));var v=c.getTilePixelRatio(u),_=Math.round(t.size[0]*v),m=Math.round(t.size[1]*v);if(s){var O=Math.round(Math.sqrt(_*_+m*m));_=O,m=O}var b=d*_/2/v,w=d*m/2/v,E=[a[0]-b,a[1]-w,a[0]+b,a[1]+w],x=p.getTileRangeForExtentAndZ(g,f),C={};C[f]={};var T=this.createLoadedTileFinder(c,o,C),R=this.tmpExtent,P=this.tmpTileRange_;this.newTiles_=!1;for(var I=x.minX;I<=x.maxX;++I)for(var L=x.minY;L<=x.maxY;++L){var M=this.getTile(f,I,L,t);if(this.isDrawableTile(M)){var N=Object(S["c"])(this);if(M.getState()==Jn.LOADED){C[f][M.tileCoord.toString()]=M;var A=M.inTransition(N);this.newTiles_||!A&&-1!==this.renderedTiles.indexOf(M)||(this.newTiles_=!0)}if(1===M.getAlpha(N,t.time))continue}var F=p.getTileCoordChildTileRange(M.tileCoord,P,R),k=!1;F&&(k=T(f+1,F)),k||p.forEachTileCoordParentTileRange(M.tileCoord,T,P,R)}var Y=d/i;G(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/v,1/v,s,-_/2,-m/2);var U=B(this.pixelTransform);this.useContainer(e,U,n.opacity);var V=this.context,z=V.canvas;D(this.inversePixelTransform,this.pixelTransform),G(this.tempTransform,_/2,m/2,Y,Y,0,-_/2,-m/2),z.width!=_||z.height!=m?(z.width=_,z.height=m):this.containerReused||V.clearRect(0,0,_,m),y&&this.clipUnrotated(V,t,y),Object(ae["a"])(V,c.getContextOptions()),this.preRender(V,t),this.renderedTiles.length=0;var X,W,Z,H=Object.keys(C).map(Number);H.sort(ao["i"]),1!==n.opacity||this.containerReused&&!c.getOpaque(t.viewState.projection)?(X=[],W=[]):H=H.reverse();for(var K=H.length-1;K>=0;--K){var q=H[K],J=c.getTilePixelSize(q,u,o),$=p.getResolution(q),Q=$/d,tt=J[0]*Q*Y,et=J[1]*Q*Y,nt=p.getTileCoordForCoordAndZ(Ct(E),q),rt=p.getTileCoordExtent(nt),ot=j(this.tempTransform,[v*(rt[0]-E[0])/d,v*(E[3]-rt[3])/d]),at=v*c.getGutterForProjection(o),st=C[q];for(var ut in st){M=st[ut];var lt=M.tileCoord,ct=nt[1]-lt[1],ht=Math.round(ot[0]-(ct-1)*tt),pt=nt[2]-lt[2],ft=Math.round(ot[1]-(pt-1)*et),dt=(I=Math.round(ot[0]-ct*tt),L=Math.round(ot[1]-pt*et),ht-I),gt=ft-L,yt=f===q;A=yt&&1!==M.getAlpha(Object(S["c"])(this),t.time);if(!A)if(X){V.save(),Z=[I,L,I+dt,L,I+dt,L+gt,I,L+gt];for(var vt=0,_t=X.length;vt<_t;++vt)if(f!==q&&q<W[vt]){var mt=X[vt];V.beginPath(),V.moveTo(Z[0],Z[1]),V.lineTo(Z[2],Z[3]),V.lineTo(Z[4],Z[5]),V.lineTo(Z[6],Z[7]),V.moveTo(mt[6],mt[7]),V.lineTo(mt[4],mt[5]),V.lineTo(mt[2],mt[3]),V.lineTo(mt[0],mt[1]),V.clip()}X.push(Z),W.push(q)}else V.clearRect(I,L,dt,gt);this.drawTileImage(M,t,I,L,dt,gt,at,yt,n.opacity),X&&!A?(V.restore(),this.renderedTiles.unshift(M)):this.renderedTiles.push(M),this.updateUsedTiles(t.usedTiles,c,M)}}return this.renderedRevision=h,this.renderedResolution=d,this.extentChanged=!this.renderedExtent_||!it(this.renderedExtent_,E),this.renderedExtent_=E,this.renderedPixelRatio=u,this.renderedProjection=o,this.manageTilePyramid(t,c,p,u,o,g,f,l.getPreload()),this.scheduleExpireCache(t,c),this.postRender(V,t),n.extent&&V.restore(),U!==z.style.transform&&(z.style.transform=U),this.container},e.prototype.drawTileImage=function(t,e,n,r,o,i,a,s,u){var l=this.getTileImage(t);if(l){var c=Object(S["c"])(this),h=s?t.getAlpha(c,e.time):1,p=u*h,f=p!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=p),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,r,o,i),f&&this.context.restore(),1!==h?e.animate=!0:s&&t.endTransition(c)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getTileImage=function(t){return t.getImage()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var r=Object(S["c"])(t);r in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[r])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n){var r=Object(S["c"])(e);r in t||(t[r]={}),t[r][n.getKey()]=!0},e.prototype.manageTilePyramid=function(t,e,n,r,o,i,a,s,u){var l=Object(S["c"])(e);l in t.wantedTiles||(t.wantedTiles[l]={});var c,h,p,f,d,g,y=t.wantedTiles[l],v=t.tileQueue,_=n.getMinZoom(),m=0;for(g=_;g<=a;++g)for(h=n.getTileRangeForExtentAndZ(i,g,h),p=n.getResolution(g),f=h.minX;f<=h.maxX;++f)for(d=h.minY;d<=h.maxY;++d)a-g<=s?(++m,c=e.getTile(g,f,d,r,o),c.getState()==Jn.IDLE&&(y[c.getKey()]=!0,v.isKeyQueued(c.getKey())||v.enqueue([c,l,n.getTileCoordCenter(c.tileCoord),p])),void 0!==u&&u(c)):e.useTile(g,f,d,o);e.updateCacheSize(m,o)},e}(Cu);Lu.prototype.getLayer;var Mu=Lu,Nu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Au=function(t){function e(e){return t.call(this,e)||this}return Nu(e,t),e.prototype.createRenderer=function(){return new Mu(this)},e}(_u),ju=Au,Fu={name:"ol-tile-layer",setup:function(t){var e=Object(O["inject"])("map"),n=Object(O["inject"])("overviewMap",null),r=As(t),o=r.properties,i=Object(O["computed"])((function(){return new ju(o)})),a=function(){null!=n?(n.value.getOverviewMap().addLayer(i.value),n.value.changed()):e.addLayer(i.value)},s=function(){null!=n?(n.value.getOverviewMap().removeLayer(i.value),n.value.changed()):e.removeLayer(i.value)};return null!=n&&Object(O["watch"])(n,(function(){s(),a()})),Object(O["onMounted"])((function(){a()})),Object(O["onUnmounted"])((function(){s()})),Object(O["provide"])("tileLayer",i),{tileLayer:i}},props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},preload:{type:Number,default:1}}};Fu.render=du;var Gu=Fu;function Du(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var ku=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Bu=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,n}return ku(e,t),e}(ve),Yu=Bu,Uu=.5,Vu=!0,zu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xu=function(t){function e(e){var n=t.call(this,e)||this;return n.image_=null,n}return zu(e,t),e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.prepareFrame=function(t){var e=t.layerStatesArray[t.layerIndex],n=t.pixelRatio,r=t.viewState,o=r.resolution,i=this.getLayer().getSource(),a=t.viewHints,s=t.extent;if(void 0!==e.extent&&(s=Et(s,no(e.extent,r.projection))),!a[ar.ANIMATING]&&!a[ar.INTERACTING]&&!It(s))if(i){var u=r.projection;if(!Vu){var l=i.getProjection();l&&(u=l)}var c=i.getImage(s,o,n,u);c&&this.loadImage(c)&&(this.image_=c)}else this.image_=null;return!!this.image_},e.prototype.renderFrame=function(t,e){var n=this.image_,r=n.getExtent(),o=n.getResolution(),i=n.getPixelRatio(),a=t.layerStatesArray[t.layerIndex],s=t.pixelRatio,u=t.viewState,l=u.center,c=u.resolution,h=t.size,p=s*o/(c*i),f=Math.round(h[0]*s),d=Math.round(h[1]*s),g=u.rotation;if(g){var y=Math.round(Math.sqrt(f*f+d*d));f=y,d=y}G(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/s,1/s,g,-f/2,-d/2),D(this.inversePixelTransform,this.pixelTransform);var v=B(this.pixelTransform);this.useContainer(e,v,a.opacity);var _=this.context,m=_.canvas;m.width!=f||m.height!=d?(m.width=f,m.height=d):this.containerReused||_.clearRect(0,0,f,d);var O=!1,b=!0;if(a.extent){var w=no(a.extent,u.projection);b=Pt(w,t.extent),O=b&&!K(w,t.extent),O&&this.clipUnrotated(_,t,w)}var E=n.getImage(),S=G(this.tempTransform,f/2,d/2,p,p,0,i*(r[0]-l[0])/o,i*(l[1]-r[3])/o);this.renderedResolution=o*s/i;var x=E.width*S[0],C=E.height*S[3];if(Object(ae["a"])(_,this.getLayer().getSource().getContextOptions()),this.preRender(_,t),b&&x>=.5&&C>=.5){var T=S[4],R=S[5],P=a.opacity,I=void 0;1!==P&&(I=_.globalAlpha,_.globalAlpha=P),_.drawImage(E,0,0,+E.width,+E.height,Math.round(T),Math.round(R),Math.round(x),Math.round(C)),1!==P&&(_.globalAlpha=I)}return this.postRender(_,t),O&&_.restore(),v!==m.style.transform&&(m.style.transform=v),this.container},e}(Cu),Wu=Xu,Zu=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hu=function(t){function e(e){return t.call(this,e)||this}return Zu(e,t),e.prototype.createRenderer=function(){return new Wu(this)},e}(Yu),Ku=Hu,qu={name:"ol-image-layer",setup:function(t){var e=Object(O["inject"])("map"),n=As(t),r=n.properties,o=new Ku(r);return Object(O["watch"])(r,(function(){o.setProperties(r)})),Object(O["onMounted"])((function(){e.addLayer(o)})),Object(O["onUnmounted"])((function(){e.removeLayer(o)})),Object(O["provide"])("imageLayer",o),{imageLayer:o}},props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number}}};qu.render=Du;var Ju=qu;function $u(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var Qu=n("25a5"),tl=n.n(Qu),el=function(){function t(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=Ki(t.scale),this.displacement_=t.displacement}return t.prototype.clone=function(){var e=this.getScale();return new t({opacity:this.getOpacity(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()})},t.prototype.getOpacity=function(){return this.opacity_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getDisplacement=function(){return this.displacement_},t.prototype.getAnchor=function(){return Object(S["b"])()},t.prototype.getImage=function(t){return Object(S["b"])()},t.prototype.getHitDetectionImage=function(){return Object(S["b"])()},t.prototype.getPixelRatio=function(t){return 1},t.prototype.getImageState=function(){return Object(S["b"])()},t.prototype.getImageSize=function(){return Object(S["b"])()},t.prototype.getOrigin=function(){return Object(S["b"])()},t.prototype.getSize=function(){return Object(S["b"])()},t.prototype.setOpacity=function(t){this.opacity_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Ki(t)},t.prototype.listenImageChange=function(t){Object(S["b"])()},t.prototype.load=function(){Object(S["b"])()},t.prototype.unlistenImageChange=function(t){Object(S["b"])()},t}(),nl=el;function rl(t){return Array.isArray(t)?te(t):t}var il=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),al=function(t){function e(e){var n=this,r=void 0!==e.rotateWithView&&e.rotateWithView;return n=t.call(this,{opacity:1,rotateWithView:r,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0]})||this,n.canvas_=void 0,n.hitDetectionCanvas_=null,n.fill_=void 0!==e.fill?e.fill:null,n.origin_=[0,0],n.points_=e.points,n.radius_=void 0!==e.radius?e.radius:e.radius1,n.radius2_=e.radius2,n.angle_=void 0!==e.angle?e.angle:0,n.stroke_=void 0!==e.stroke?e.stroke:null,n.anchor_=null,n.size_=null,n.renderOptions_=null,n.render(),n}return il(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_||this.createHitDetectionCanvas_(this.renderOptions_),this.hitDetectionCanvas_},e.prototype.getImage=function(t){var e=this.canvas_[t];if(!e){var n=this.renderOptions_,r=Object(Ke["a"])(n.size*t,n.size*t);this.draw_(n,r,t),e=r.canvas,this.canvas_[t]=e}return e},e.prototype.getPixelRatio=function(t){return t},e.prototype.getImageSize=function(){return this.size_},e.prototype.getImageState=function(){return mu.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t){},e.prototype.calculateLineJoinSize_=function(t,e,n){if(0===e||this.points_===1/0||"bevel"!==t&&"miter"!==t)return e;var r=this.radius_,o=void 0===this.radius2_?r:this.radius2_;if(r<o){var i=r;r=o,o=i}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,u=o*Math.sin(s),l=Math.sqrt(o*o-u*u),c=r-l,h=Math.sqrt(u*u+c*c),p=h/u;if("miter"===t&&p<=n)return p*e;var f=e/2/p,d=e/2*(c/h),g=Math.sqrt((r+f)*(r+f)+d*d),y=g-r;if(void 0===this.radius2_||"bevel"===t)return 2*y;var v=r*Math.sin(s),_=Math.sqrt(r*r-v*v),m=o-_,O=Math.sqrt(v*v+m*m),b=O/v;if(b<=n){var w=b*e/2-o-r;return 2*Math.max(y,w)}return 2*y},e.prototype.createRenderOptions=function(){var t,e=en,n=0,r=null,o=0,i=0;this.stroke_&&(t=this.stroke_.getColor(),null===t&&(t=rn),t=rl(t),i=this.stroke_.getWidth(),void 0===i&&(i=un),r=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset(),e=this.stroke_.getLineJoin(),void 0===e&&(e=en),n=this.stroke_.getMiterLimit(),void 0===n&&(n=nn));var a=this.calculateLineJoinSize_(e,i,n),s=Math.max(this.radius_,this.radius2_||0),u=Math.ceil(2*s+a);return{strokeStyle:t,strokeWidth:i,size:u,lineDash:r,lineDashOffset:o,lineJoin:e,miterLimit:n}},e.prototype.render=function(){this.renderOptions_=this.createRenderOptions();var t=this.renderOptions_.size,e=this.getDisplacement();this.canvas_={},this.anchor_=[t/2-e[0],t/2+e[1]],this.size_=[t,t]},e.prototype.draw_=function(t,e,n){if(e.scale(n,n),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){var r=this.fill_.getColor();null===r&&(r=Je),e.fillStyle=rl(r),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,e.setLineDash&&t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e.prototype.createHitDetectionCanvas_=function(t){if(this.fill_){var e=this.fill_.getColor(),n=0;if("string"===typeof e&&(e=Jt(e)),null===e?n=1:Array.isArray(e)&&(n=4===e.length?e[3]:1),0===n){var r=Object(Ke["a"])(t.size,t.size);this.hitDetectionCanvas_=r.canvas,this.drawHitDetectionCanvas_(t,r)}}this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.getImage(1))},e.prototype.createPath_=function(t){var e=this.points_,n=this.radius_;if(e===1/0)t.arc(0,0,n,0,2*Math.PI);else{var r=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(e*=2);for(var o=this.angle_-Math.PI/2,i=2*Math.PI/e,a=0;a<e;a++){var s=o+a*i,u=a%2===0?n:r;t.lineTo(u*Math.cos(s),u*Math.sin(s))}t.closePath()}},e.prototype.drawHitDetectionCanvas_=function(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=Je,e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())},e}(nl),sl=al,ul=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ll=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,scale:void 0!==r.scale?r.scale:1,rotation:void 0!==r.rotation?r.rotation:0,rotateWithView:void 0!==r.rotateWithView&&r.rotateWithView,displacement:void 0!==r.displacement?r.displacement:[0,0]})||this,n}return ul(e,t),e.prototype.clone=function(){var t=this.getScale(),n=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice()});return n.setOpacity(this.getOpacity()),n},e.prototype.setRadius=function(t){this.radius_=t,this.render()},e}(sl),cl=ll,hl=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(t){this.color_=t},t}(),pl=hl,fl=function(){function t(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width}return t.prototype.clone=function(){var e=this.getColor();return new t({color:Array.isArray(e)?e.slice():e||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},t.prototype.getColor=function(){return this.color_},t.prototype.getLineCap=function(){return this.lineCap_},t.prototype.getLineDash=function(){return this.lineDash_},t.prototype.getLineDashOffset=function(){return this.lineDashOffset_},t.prototype.getLineJoin=function(){return this.lineJoin_},t.prototype.getMiterLimit=function(){return this.miterLimit_},t.prototype.getWidth=function(){return this.width_},t.prototype.setColor=function(t){this.color_=t},t.prototype.setLineCap=function(t){this.lineCap_=t},t.prototype.setLineDash=function(t){this.lineDash_=t},t.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t},t.prototype.setLineJoin=function(t){this.lineJoin_=t},t.prototype.setMiterLimit=function(t){this.miterLimit_=t},t.prototype.setWidth=function(t){this.width_=t},t}(),dl=fl,gl=function(){function t(t){var e=t||{};this.geometry_=null,this.geometryFunction_=Ol,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex}return t.prototype.clone=function(){var e=this.getGeometry();return e&&"object"===typeof e&&(e=e.clone()),new t({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer(),stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},t.prototype.getRenderer=function(){return this.renderer_},t.prototype.setRenderer=function(t){this.renderer_=t},t.prototype.getGeometry=function(){return this.geometry_},t.prototype.getGeometryFunction=function(){return this.geometryFunction_},t.prototype.getFill=function(){return this.fill_},t.prototype.setFill=function(t){this.fill_=t},t.prototype.getImage=function(){return this.image_},t.prototype.setImage=function(t){this.image_=t},t.prototype.getStroke=function(){return this.stroke_},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.getText=function(){return this.text_},t.prototype.setText=function(t){this.text_=t},t.prototype.getZIndex=function(){return this.zIndex_},t.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=Ol,this.geometry_=t},t.prototype.setZIndex=function(t){this.zIndex_=t},t}();function yl(t){var e;if("function"===typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else{P("function"===typeof t.getZIndex,41);var r=t;n=[r]}e=function(){return n}}return e}var vl=null;function _l(t,e){if(!vl){var n=new pl({color:"rgba(255,255,255,0.4)"}),r=new dl({color:"#3399CC",width:1.25});vl=[new gl({image:new cl({fill:n,stroke:r,radius:5}),fill:n,stroke:r})]}return vl}function ml(){var t={},e=[255,255,255,1],n=[0,153,255,1],r=3;return t[nr.POLYGON]=[new gl({fill:new pl({color:[255,255,255,.5]})})],t[nr.MULTI_POLYGON]=t[nr.POLYGON],t[nr.LINE_STRING]=[new gl({stroke:new dl({color:e,width:r+2})}),new gl({stroke:new dl({color:n,width:r})})],t[nr.MULTI_LINE_STRING]=t[nr.LINE_STRING],t[nr.CIRCLE]=t[nr.POLYGON].concat(t[nr.LINE_STRING]),t[nr.POINT]=[new gl({image:new cl({radius:2*r,fill:new pl({color:n}),stroke:new dl({color:e,width:r/2})}),zIndex:1/0})],t[nr.MULTI_POINT]=t[nr.POINT],t[nr.GEOMETRY_COLLECTION]=t[nr.POLYGON].concat(t[nr.LINE_STRING],t[nr.POINT]),t}function Ol(t){return t.getGeometry()}var bl=gl,wl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),El={RENDER_ORDER:"renderOrder"},Sl=function(t){function e(e){var n=this,r=e||{},o=Object(ae["a"])({},r);return delete o.style,delete o.renderBuffer,delete o.updateWhileAnimating,delete o.updateWhileInteracting,n=t.call(this,o)||this,n.declutter_=void 0!==r.declutter&&r.declutter,n.renderBuffer_=void 0!==r.renderBuffer?r.renderBuffer:100,n.style_=null,n.styleFunction_=void 0,n.setStyle(r.style),n.updateWhileAnimating_=void 0!==r.updateWhileAnimating&&r.updateWhileAnimating,n.updateWhileInteracting_=void 0!==r.updateWhileInteracting&&r.updateWhileInteracting,n}return wl(e,t),e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.getFeatures=function(e){return t.prototype.getFeatures.call(this,e)},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(El.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.renderDeclutter=function(t){t.declutterTree||(t.declutterTree=new tl.a(9)),this.getRenderer().renderDeclutter(t)},e.prototype.setRenderOrder=function(t){this.set(El.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:_l,this.styleFunction_=null===t?void 0:yl(this.style_),this.changed()},e}(ve),xl=Sl,Cl={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Tl=[Cl.FILL],Rl=[Cl.STROKE],Pl=[Cl.BEGIN_PATH],Il=[Cl.CLOSE_PATH],Ll=Cl,Ml=function(){function t(){}return t.prototype.drawCustom=function(t,e,n){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,e){},t.prototype.drawFeature=function(t,e){},t.prototype.drawGeometryCollection=function(t,e){},t.prototype.drawLineString=function(t,e){},t.prototype.drawMultiLineString=function(t,e){},t.prototype.drawMultiPoint=function(t,e){},t.prototype.drawMultiPolygon=function(t,e){},t.prototype.drawPoint=function(t,e){},t.prototype.drawPolygon=function(t,e){},t.prototype.drawText=function(t,e){},t.prototype.setFillStrokeStyle=function(t,e){},t.prototype.setImageStyle=function(t,e){},t.prototype.setTextStyle=function(t,e){},t}(),Nl=Ml,Al=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jl=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.tolerance=e,i.maxExtent=n,i.pixelRatio=o,i.maxLineWidth=0,i.resolution=r,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return Al(e,t),e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map((function(t){return t*e}))},e.prototype.appendFlatPointCoordinates=function(t,e){for(var n=this.getBufferedMaxExtent(),r=this.tmpCoordinate_,o=this.coordinates,i=o.length,a=0,s=t.length;a<s;a+=e)r[0]=t[a],r[1]=t[a+1],H(n,r)&&(o[i++]=r[0],o[i++]=r[1]);return i},e.prototype.appendFlatLineCoordinates=function(t,e,n,r,o,i){var a=this.coordinates,s=a.length,u=this.getBufferedMaxExtent();i&&(e+=r);var l,c,h,p=t[e],f=t[e+1],d=this.tmpCoordinate_,g=!0;for(l=e+r;l<n;l+=r)d[0]=t[l],d[1]=t[l+1],h=J(u,d),h!==c?(g&&(a[s++]=p,a[s++]=f,g=!1),a[s++]=d[0],a[s++]=d[1]):h===U.INTERSECTING?(a[s++]=d[0],a[s++]=d[1],g=!1):g=!0,p=d[0],f=d[1],c=h;return(o&&g||l===e+r)&&(a[s++]=p,a[s++]=f),s},e.prototype.drawCustomCoordinates_=function(t,e,n,r,o){for(var i=0,a=n.length;i<a;++i){var s=n[i],u=this.appendFlatLineCoordinates(t,e,s,r,!1,!1);o.push(u),e=s}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var r,o,i,a,s,u=t.getType(),l=t.getStride(),c=this.coordinates.length;if(u==nr.MULTI_POLYGON){r=t.getOrientedFlatCoordinates(),a=[];var h=t.getEndss();s=0;for(var p=0,f=h.length;p<f;++p){var d=[];s=this.drawCustomCoordinates_(r,s,h[p],l,d),a.push(d)}this.instructions.push([Ll.CUSTOM,c,a,t,n,ni])}else u==nr.POLYGON||u==nr.MULTI_LINE_STRING?(i=[],r=u==nr.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),s=this.drawCustomCoordinates_(r,0,t.getEnds(),l,i),this.instructions.push([Ll.CUSTOM,c,i,t,n,ei])):u==nr.LINE_STRING||u==nr.CIRCLE?(r=t.getFlatCoordinates(),o=this.appendFlatLineCoordinates(r,0,r.length,l,!1,!1),this.instructions.push([Ll.CUSTOM,c,o,t,n,ti])):u==nr.MULTI_POINT?(r=t.getFlatCoordinates(),o=this.appendFlatPointCoordinates(r,l),o>c&&this.instructions.push([Ll.CUSTOM,c,o,t,n,ti])):u==nr.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),o=this.coordinates.length,this.instructions.push([Ll.CUSTOM,c,o,t,n]));this.endGeometry(e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Ll.BEGIN_GEOMETRY,e,0,t],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Ll.BEGIN_GEOMETRY,e,0,t],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},e.prototype.reverseHitDetectionInstructions=function(){var t,e=this.hitDetectionInstructions;e.reverse();var n,r,o=e.length,i=-1;for(t=0;t<o;++t)n=e[t],r=n[0],r==Ll.END_GEOMETRY?i=t:r==Ll.BEGIN_GEOMETRY&&(n[2]=t,Object(ao["j"])(this.hitDetectionInstructions,i,t),i=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var r=t.getColor();n.fillStyle=rl(r||Je)}else n.fillStyle=void 0;if(e){var o=e.getColor();n.strokeStyle=rl(o||rn);var i=e.getLineCap();n.lineCap=void 0!==i?i:$e;var a=e.getLineDash();n.lineDash=a?a.slice():Qe;var s=e.getLineDashOffset();n.lineDashOffset=s||tn;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:en;var l=e.getWidth();n.lineWidth=void 0!==l?l:un;var c=e.getMiterLimit();n.miterLimit=void 0!==c?c:nn,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t){var e=t.fillStyle,n=[Ll.SET_FILL_STYLE,e];return"string"!==typeof e&&n.push(!0),n},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Ll.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e){var n=t.fillStyle;"string"===typeof n&&t.currentFillStyle==n||(void 0!==n&&this.instructions.push(e.call(this,t)),t.currentFillStyle=n)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,r=t.lineCap,o=t.lineDash,i=t.lineDashOffset,a=t.lineJoin,s=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=r||o!=t.currentLineDash&&!Object(ao["b"])(t.currentLineDash,o)||t.currentLineDashOffset!=i||t.currentLineJoin!=a||t.currentLineWidth!=s||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=r,t.currentLineDash=o,t.currentLineDashOffset=i,t.currentLineJoin=a,t.currentLineWidth=s,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var e=[Ll.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=W(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;X(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(Nl),Fl=jl,Gl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Dl=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.hitDetectionImage_=null,i.image_=null,i.imagePixelRatio_=void 0,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i.declutterImageWithText_=void 0,i}return Gl(e,t),e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([Ll.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ll.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),r=t.getStride(),o=this.coordinates.length,i=this.appendFlatPointCoordinates(n,r);this.instructions.push([Ll.DRAW_IMAGE,o,i,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterImageWithText_]),this.hitDetectionInstructions.push([Ll.DRAW_IMAGE,o,i,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterImageWithText_]),this.endGeometry(e)}},e.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,t.prototype.finish.call(this)},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),r=t.getSize(),o=t.getHitDetectionImage(),i=t.getImage(this.pixelRatio),a=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=n[0],this.anchorY_=n[1],this.hitDetectionImage_=o,this.image_=i,this.height_=r[1],this.opacity_=t.getOpacity(),this.originX_=a[0],this.originY_=a[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=r[0],this.declutterImageWithText_=e},e}(Fl),kl=Dl,Bl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Yl=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return Bl(e,t),e.prototype.drawFlatCoordinates_=function(t,e,n,r){var o=this.coordinates.length,i=this.appendFlatLineCoordinates(t,e,n,r,!1,!1),a=[Ll.MOVE_TO_LINE_TO,o,i];return this.instructions.push(a),this.hitDetectionInstructions.push(a),n},e.prototype.drawLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ll.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,Qe,tn],Pl);var i=t.getFlatCoordinates(),a=t.getStride();this.drawFlatCoordinates_(i,0,i.length,a),this.hitDetectionInstructions.push(Rl),this.endGeometry(e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,r=n.strokeStyle,o=n.lineWidth;if(void 0!==r&&void 0!==o){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Ll.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Pl);for(var i=t.getEnds(),a=t.getFlatCoordinates(),s=t.getStride(),u=0,l=0,c=i.length;l<c;++l)u=this.drawFlatCoordinates_(a,u,i[l],s);this.hitDetectionInstructions.push(Rl),this.endGeometry(e)}},e.prototype.finish=function(){var e=this.state;return void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(Rl),this.reverseHitDetectionInstructions(),this.state=null,t.prototype.finish.call(this)},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Rl),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Pl)},e}(Fl),Ul=Yl,Vl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),zl=function(t){function e(e,n,r,o){return t.call(this,e,n,r,o)||this}return Vl(e,t),e.prototype.drawFlatCoordinatess_=function(t,e,n,r){var o=this.state,i=void 0!==o.fillStyle,a=void 0!==o.strokeStyle,s=n.length;this.instructions.push(Pl),this.hitDetectionInstructions.push(Pl);for(var u=0;u<s;++u){var l=n[u],c=this.coordinates.length,h=this.appendFlatLineCoordinates(t,e,l,r,!0,!a),p=[Ll.MOVE_TO_LINE_TO,c,h];this.instructions.push(p),this.hitDetectionInstructions.push(p),a&&(this.instructions.push(Il),this.hitDetectionInstructions.push(Il)),e=l}return i&&(this.instructions.push(Tl),this.hitDetectionInstructions.push(Tl)),a&&(this.instructions.push(Rl),this.hitDetectionInstructions.push(Rl)),e},e.prototype.drawCircle=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ll.SET_FILL_STYLE,Je]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ll.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getFlatCoordinates(),a=t.getStride(),s=this.coordinates.length;this.appendFlatLineCoordinates(i,0,i.length,a,!1,!1);var u=[Ll.CIRCLE,s];this.instructions.push(Pl,u),this.hitDetectionInstructions.push(Pl,u),void 0!==n.fillStyle&&(this.instructions.push(Tl),this.hitDetectionInstructions.push(Tl)),void 0!==n.strokeStyle&&(this.instructions.push(Rl),this.hitDetectionInstructions.push(Rl)),this.endGeometry(e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ll.SET_FILL_STYLE,Je]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ll.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var i=t.getEnds(),a=t.getOrientedFlatCoordinates(),s=t.getStride();this.drawFlatCoordinatess_(a,0,i,s),this.endGeometry(e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,r=n.fillStyle,o=n.strokeStyle;if(void 0!==r||void 0!==o){this.setFillStrokeStyles_(),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Ll.SET_FILL_STYLE,Je]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Ll.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var i=t.getEndss(),a=t.getOrientedFlatCoordinates(),s=t.getStride(),u=0,l=0,c=i.length;l<c;++l)u=this.drawFlatCoordinatess_(a,u,i[l],s);this.endGeometry(e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var e=this.tolerance;if(0!==e)for(var n=this.coordinates,r=0,o=n.length;r<o;++r)n[r]=qo(n[r],e);return t.prototype.finish.call(this)},e.prototype.setFillStrokeStyles_=function(){var t=this.state,e=t.fillStyle;void 0!==e&&this.updateFillStyle(t,this.createFill),void 0!==t.strokeStyle&&this.updateStrokeStyle(t,this.applyStroke)},e}(Fl),Xl=zl,Wl={POINT:"point",LINE:"line"};function Zl(t,e,n,r,o){var i,a,s,u,l,c,h,p,f,d,g=n,y=n,v=0,_=0,m=n;for(a=n;a<r;a+=o){var O=e[a],b=e[a+1];void 0!==l&&(f=O-l,d=b-c,u=Math.sqrt(f*f+d*d),void 0!==h&&(_+=s,i=Math.acos((h*f+p*d)/(s*u)),i>t&&(_>v&&(v=_,g=m,y=a),_=0,m=a-o)),s=u,h=f,p=d),l=O,c=b}return _+=u,_>v?[m,a]:[g,y]}var Hl=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Kl={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1},ql=function(t){function e(e,n,r,o){var i=t.call(this,e,n,r,o)||this;return i.labels_=null,i.text_="",i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_="",i.fillKey_="",i.strokeKey_="",i.declutterImageWithText_=void 0,i}return Hl(e,t),e.prototype.finish=function(){var e=t.prototype.finish.call(this);return e.textStates=this.textStates,e.fillStates=this.fillStates,e.strokeStates=this.strokeStates,e},e.prototype.drawText=function(t,e){var n=this.textFillState_,r=this.textStrokeState_,o=this.textState_;if(""!==this.text_&&o&&(n||r)){var i=this.coordinates,a=i.length,s=t.getType(),u=null,l=t.getStride();if(o.placement!==Wl.LINE||s!=nr.LINE_STRING&&s!=nr.MULTI_LINE_STRING&&s!=nr.POLYGON&&s!=nr.MULTI_POLYGON){var c=o.overflow?null:[];switch(s){case nr.POINT:case nr.MULTI_POINT:u=t.getFlatCoordinates();break;case nr.LINE_STRING:u=t.getFlatMidpoint();break;case nr.CIRCLE:u=t.getCenter();break;case nr.MULTI_LINE_STRING:u=t.getFlatMidpoints(),l=2;break;case nr.POLYGON:u=t.getFlatInteriorPoint(),o.overflow||c.push(u[2]/this.resolution),l=3;break;case nr.MULTI_POLYGON:var h=t.getFlatInteriorPoints();u=[];for(w=0,E=h.length;w<E;w+=3)o.overflow||c.push(h[w+2]/this.resolution),u.push(h[w],h[w+1]);if(0===u.length)return;l=2;break;default:}I=this.appendFlatPointCoordinates(u,l);if(I===a)return;if(c&&(I-a)/2!==u.length/l){var p=a/2;c=c.filter((function(t,e){var n=i[2*(p+e)]===u[e*l]&&i[2*(p+e)+1]===u[e*l+1];return n||--p,n}))}this.saveTextStates_(),(o.backgroundFill||o.backgroundStroke)&&(this.setFillStrokeStyle(o.backgroundFill,o.backgroundStroke),o.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),o.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e);var f=o.padding;if(f!=sn&&(o.scale[0]<0||o.scale[1]<0)){var d=o.padding[0],g=o.padding[1],y=o.padding[2],v=o.padding[3];o.scale[0]<0&&(g=-g,v=-v),o.scale[1]<0&&(d=-d,y=-y),f=[d,g,y,v]}var _=this.pixelRatio;this.instructions.push([Ll.DRAW_IMAGE,a,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterImageWithText_,f==sn?sn:f.map((function(t){return t*_})),!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]);var m=1/_;this.hitDetectionInstructions.push([Ll.DRAW_IMAGE,a,I,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[m,m],NaN,this.declutterImageWithText_,f,!!o.backgroundFill,!!o.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,c]),this.endGeometry(e)}else{if(!Pt(this.getBufferedMaxExtent(),t.getExtent()))return;var O=void 0;if(u=t.getFlatCoordinates(),s==nr.LINE_STRING)O=[u.length];else if(s==nr.MULTI_LINE_STRING)O=t.getEnds();else if(s==nr.POLYGON)O=t.getEnds().slice(0,1);else if(s==nr.MULTI_POLYGON){var b=t.getEndss();O=[];for(var w=0,E=b.length;w<E;++w)O.push(b[w][0])}this.beginGeometry(t,e);for(var S=o.textAlign,x=0,C=void 0,T=0,R=O.length;T<R;++T){if(void 0==S){var P=Zl(o.maxAngle,u,x,O[T],l);x=P[0],C=P[1]}else C=O[T];for(var w=x;w<C;w+=l)i.push(u[w],u[w+1]);var I=i.length;x=O[T],this.drawChars_(a,I),a=I}this.endGeometry(e)}}},e.prototype.saveTextStates_=function(){var t=this.textStrokeState_,e=this.textState_,n=this.textFillState_,r=this.strokeKey_;t&&(r in this.strokeStates||(this.strokeStates[r]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));var o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||on,textBaseline:e.textBaseline||an,scale:e.scale});var i=this.fillKey_;n&&(i in this.fillStates||(this.fillStates[i]={fillStyle:n.fillStyle}))},e.prototype.drawChars_=function(t,e){var n=this.textStrokeState_,r=this.textState_,o=this.strokeKey_,i=this.textKey_,a=this.fillKey_;this.saveTextStates_();var s=this.pixelRatio,u=Kl[r.textBaseline],l=this.textOffsetY_*s,c=this.text_,h=n?n.lineWidth*Math.abs(r.scale[0])/2:0;this.instructions.push([Ll.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,s,l,o,h*s,c,i,1]),this.hitDetectionInstructions.push([Ll.DRAW_CHARS,t,e,u,r.overflow,a,r.maxAngle,1,l,o,h,c,i,1/s])},e.prototype.setTextStyle=function(t,e){var n,r,o;if(t){var i=t.getFill();i?(r=this.textFillState_,r||(r={},this.textFillState_=r),r.fillStyle=rl(i.getColor()||Je)):(r=null,this.textFillState_=r);var a=t.getStroke();if(a){o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);var s=a.getLineDash(),u=a.getLineDashOffset(),l=a.getWidth(),c=a.getMiterLimit();o.lineCap=a.getLineCap()||$e,o.lineDash=s?s.slice():Qe,o.lineDashOffset=void 0===u?tn:u,o.lineJoin=a.getLineJoin()||en,o.lineWidth=void 0===l?un:l,o.miterLimit=void 0===c?nn:c,o.strokeStyle=rl(a.getColor()||rn)}else o=null,this.textStrokeState_=o;n=this.textState_;var h=t.getFont()||qe;dn(h);var p=t.getScaleArray();n.overflow=t.getOverflow(),n.font=h,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||an,n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||sn,n.scale=void 0===p?[1,1]:p;var f=t.getOffsetX(),d=t.getOffsetY(),g=t.getRotateWithView(),y=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==g&&g,this.textRotation_=void 0===y?0:y,this.strokeKey_=o?("string"==typeof o.strokeStyle?o.strokeStyle:Object(S["c"])(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?")+(n.textBaseline||"?"),this.fillKey_=r?"string"==typeof r.fillStyle?r.fillStyle:"|"+Object(S["c"])(r.fillStyle):""}else this.text_="";this.declutterImageWithText_=e},e}(Fl),Jl=ql,$l={Circle:Xl,Default:Fl,Image:kl,LineString:Ul,Polygon:Xl,Text:Jl},Ql=function(){function t(t,e,n,r){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=r,this.resolution_=n,this.buildersByZIndex_={}}return t.prototype.finish=function(){var t={};for(var e in this.buildersByZIndex_){t[e]=t[e]||{};var n=this.buildersByZIndex_[e];for(var r in n){var o=n[r].finish();t[e][r]=o}}return t},t.prototype.getBuilder=function(t,e){var n=void 0!==t?t.toString():"0",r=this.buildersByZIndex_[n];void 0===r&&(r={},this.buildersByZIndex_[n]=r);var o=r[e];if(void 0===o){var i=$l[e];o=new i(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),r[e]=o}return o},t}(),tc=Ql,ec={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};function nc(t,e,n,r,o,i,a,s,u,l,c,h){var p=t[e],f=t[e+1],d=0,g=0,y=0,v=0;function _(){d=p,g=f,e+=r,p=t[e],f=t[e+1],v+=y,y=Math.sqrt((p-d)*(p-d)+(f-g)*(f-g))}do{_()}while(e<n-r&&v+y<i);var m=(i-v)/y,O=Xt(d,p,m),b=Xt(g,f,m),w=e-r,E=v,S=i+s*u(l,o,c);while(e<n-r&&v+y<S)_();m=(S-v)/y;var x,C=Xt(d,p,m),T=Xt(g,f,m);if(h){var R=[O,b,C,T];So(R,0,4,2,h,R,R),x=R[0]>R[2]}else x=O>C;var P,I=Math.PI,L=[],M=w+r===e;if(e=w,y=0,v=E,p=t[e],f=t[e+1],M){_();var N=Math.atan2(f-g,p-d);x&&(N+=N>0?-I:I);var A=(C+O)/2,j=(T+b)/2;return L[0]=[A,j,(S-i)/2,N,o],L}for(var F=0,G=o.length;F<G;){_();var D=Math.atan2(f-g,p-d);if(x&&(D+=D>0?-I:I),void 0!==P){var k=D-P;if(k+=k>I?-2*I:k<-I?2*I:0,Math.abs(k)>a)return null}P=D;for(var B=F,Y=0;F<G;++F){var U=x?G-F-1:F,V=s*u(l,o[U],c);if(e+r<n&&v+y<i+Y+V/2)break;Y+=V}if(F!==B){var z=x?o.substring(G-B,G-F):o.substring(B,F);m=(i+Y/2-v)/y;A=Xt(d,p,m),j=Xt(g,f,m);L.push([A,j,Y/2,D,z]),i+=Y}}return L}function rc(t,e,n,r){for(var o=t[e],i=t[e+1],a=0,s=e+r;s<n;s+=r){var u=t[s],l=t[s+1];a+=Math.sqrt((u-o)*(u-o)+(l-i)*(l-i)),o=u,i=l}return a}var oc=$(),ic=[],ac=[],sc=[],uc=[];function lc(t){return t[3].declutterBox}var cc=new RegExp("["+String.fromCharCode(1425)+"-"+String.fromCharCode(2303)+String.fromCharCode(64285)+"-"+String.fromCharCode(65023)+String.fromCharCode(65136)+"-"+String.fromCharCode(65276)+String.fromCharCode(67584)+"-"+String.fromCharCode(69631)+String.fromCharCode(124928)+"-"+String.fromCharCode(126975)+"]");function hc(t,e){return"start"!==e&&"end"!==e||cc.test(t)||(e="start"===e?"left":"right"),Kl[e]}var pc=function(){function t(t,e,n,r){this.overlaps=n,this.pixelRatio=e,this.resolution=t,this.alignFill_,this.instructions=r.instructions,this.coordinates=r.coordinates,this.coordinateCache_={},this.renderedTransform_=L(),this.hitDetectionInstructions=r.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=r.fillStates||{},this.strokeStates=r.strokeStates||{},this.textStates=r.textStates||{},this.widths_={},this.labels_={}}return t.prototype.createLabel=function(t,e,n,r){var o=t+e+n+r;if(this.labels_[o])return this.labels_[o];var i=r?this.strokeStates[r]:null,a=n?this.fillStates[n]:null,s=this.textStates[e],u=this.pixelRatio,l=[s.scale[0]*u,s.scale[1]*u],c=hc(t,s.textAlign||on),h=r&&i.lineWidth?i.lineWidth:0,p=t.split("\n"),f=p.length,d=[],g=mn(s.font,p,d),y=gn(s.font),v=y*f,_=g+h,m=[],O=(_+2)*l[0],b=(v+h)*l[1],w={width:O<0?Math.floor(O):Math.ceil(O),height:b<0?Math.floor(b):Math.ceil(b),contextInstructions:m};if(1==l[0]&&1==l[1]||m.push("scale",l),m.push("font",s.font),r){m.push("strokeStyle",i.strokeStyle),m.push("lineWidth",h),m.push("lineCap",i.lineCap),m.push("lineJoin",i.lineJoin),m.push("miterLimit",i.miterLimit);var E=x["g"]?OffscreenCanvasRenderingContext2D:CanvasRenderingContext2D;E.prototype.setLineDash&&(m.push("setLineDash",[i.lineDash]),m.push("lineDashOffset",i.lineDashOffset))}n&&m.push("fillStyle",a.fillStyle),m.push("textBaseline","middle"),m.push("textAlign","center");var S,C=.5-c,T=c*_+C*h;if(r)for(S=0;S<f;++S)m.push("strokeText",[p[S],T+C*d[S],.5*(h+y)+S*y]);if(n)for(S=0;S<f;++S)m.push("fillText",[p[S],T+C*d[S],.5*(h+y)+S*y]);return this.labels_[o]=w,w},t.prototype.replayTextBackground_=function(t,e,n,r,o,i,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,r),t.lineTo.apply(t,o),t.lineTo.apply(t,e),i&&(this.alignFill_=i[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},t.prototype.calculateImageOrLabelDimensions_=function(t,e,n,r,o,i,a,s,u,l,c,h,p,f,d,g){a*=h[0],s*=h[1];var y,v=n-a,_=r-s,m=o+u>t?t-u:o,O=i+l>e?e-l:i,b=f[3]+m*h[0]+f[1],w=f[0]+O*h[1]+f[2],E=v-f[3],S=_-f[0];return(d||0!==c)&&(ic[0]=E,uc[0]=E,ic[1]=S,ac[1]=S,ac[0]=E+b,sc[0]=ac[0],sc[1]=S+w,uc[1]=sc[1]),0!==c?(y=G(L(),n,r,1,1,c,-n,-r),j(y,ic),j(y,ac),j(y,sc),j(y,uc),Q(Math.min(ic[0],ac[0],sc[0],uc[0]),Math.min(ic[1],ac[1],sc[1],uc[1]),Math.max(ic[0],ac[0],sc[0],uc[0]),Math.max(ic[1],ac[1],sc[1],uc[1]),oc)):Q(Math.min(E,E+b),Math.min(S,S+w),Math.max(E,E+b),Math.max(S,S+w),oc),p&&(v=Math.round(v),_=Math.round(_)),{drawImageX:v,drawImageY:_,drawImageW:m,drawImageH:O,originX:u,originY:l,declutterBox:{minX:oc[0],minY:oc[1],maxX:oc[2],maxY:oc[3],value:g},canvasTransform:y,scale:h}},t.prototype.replayImageOrLabel_=function(t,e,n,r,o,i,a){var s=!(!i&&!a),u=r.declutterBox,l=t.canvas,c=a?a[2]*r.scale[0]/2:0,h=u.minX-c<=l.width/e&&u.maxX+c>=0&&u.minY-c<=l.height/e&&u.maxY+c>=0;return h&&(s&&this.replayTextBackground_(t,ic,ac,sc,uc,i,a),On(t,r.canvasTransform,o,n,r.originX,r.originY,r.drawImageW,r.drawImageH,r.drawImageX,r.drawImageY,r.scale)),!0},t.prototype.fill_=function(t){if(this.alignFill_){var e=j(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.save(),t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.restore()},t.prototype.setStrokeStyle_=function(t,e){t["strokeStyle"]=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.setLineDash&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},t.prototype.drawLabelWithPointPlacement_=function(t,e,n,r){var o=this.textStates[e],i=this.createLabel(t,e,r,n),a=this.strokeStates[n],s=this.pixelRatio,u=hc(t,o.textAlign||on),l=Kl[o.textBaseline||an],c=a&&a.lineWidth?a.lineWidth:0,h=i.width/s-2*o.scale[0],p=u*h+2*(.5-u)*c,f=l*i.height/s+2*(.5-l)*c;return{label:i,anchorX:p,anchorY:f}},t.prototype.execute_=function(t,e,n,r,o,i,a,s){var u;this.pixelCoordinates_&&Object(ao["b"])(n,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=Eo(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),A(this.renderedTransform_,n));var l,c,h,p,f,d,g,y,v,_,m,O,b,w,E,S,x=0,C=r.length,T=0,R=0,P=0,I=null,L=null,M=this.coordinateCache_,N=this.viewRotation_,j=Math.round(1e12*Math.atan2(-n[1],n[0]))/1e12,F={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:N},G=this.instructions!=r||this.overlaps?0:200;while(x<C){var D=r[x],k=D[0];switch(k){case Ll.BEGIN_GEOMETRY:b=D[1],S=D[3],b.getGeometry()?void 0===a||Pt(a,S.getExtent())?++x:x=D[2]+1:x=D[2];break;case Ll.BEGIN_PATH:R>G&&(this.fill_(t),R=0),P>G&&(t.stroke(),P=0),R||P||(t.beginPath(),p=NaN,f=NaN),++x;break;case Ll.CIRCLE:T=D[1];var B=u[T],Y=u[T+1],U=u[T+2],V=u[T+3],z=U-B,X=V-Y,W=Math.sqrt(z*z+X*X);t.moveTo(B+W,Y),t.arc(B,Y,W,0,2*Math.PI,!0),++x;break;case Ll.CLOSE_PATH:t.closePath(),++x;break;case Ll.CUSTOM:T=D[1],l=D[2];var Z=D[3],H=D[4],K=6==D.length?D[5]:void 0;F.geometry=Z,F.feature=b,x in M||(M[x]=[]);var q=M[x];K?K(u,T,l,2,q):(q[0]=u[T],q[1]=u[T+1],q.length=2),H(q,F),++x;break;case Ll.DRAW_IMAGE:T=D[1],l=D[2],y=D[3],c=D[4],h=D[5];var J=D[6],$=D[7],Q=D[8],tt=D[9],et=D[10],nt=D[11],rt=D[12],ot=D[13],it=D[14];if(!y&&D.length>=19){v=D[18],_=D[19],m=D[20],O=D[21];var at=this.drawLabelWithPointPlacement_(v,_,m,O);y=at.label,D[3]=y;var st=D[22];c=(at.anchorX-st)*this.pixelRatio,D[4]=c;var ut=D[23];h=(at.anchorY-ut)*this.pixelRatio,D[5]=h,J=y.height,D[6]=J,ot=y.width,D[13]=ot}var lt=void 0;D.length>24&&(lt=D[24]);var ct=void 0,ht=void 0,pt=void 0;D.length>16?(ct=D[15],ht=D[16],pt=D[17]):(ct=sn,ht=!1,pt=!1),et&&j?nt+=N:et||j||(nt-=N);for(var ft=0;T<l;T+=2)if(!(lt&&lt[ft++]<ot/this.pixelRatio)){var dt=this.calculateImageOrLabelDimensions_(y.width,y.height,u[T],u[T+1],ot,J,c,h,Q,tt,nt,rt,o,ct,ht||pt,b),gt=[t,e,y,dt,$,ht?I:null,pt?L:null],yt=void 0,vt=void 0;if(s&&it){var _t=l-T;if(!it[_t]){it[_t]=gt;continue}if(yt=it[_t],delete it[_t],vt=lc(yt),s.collides(vt))continue}s&&s.collides(dt.declutterBox)||(yt&&(s&&s.insert(vt),this.replayImageOrLabel_.apply(this,yt)),s&&s.insert(dt.declutterBox),this.replayImageOrLabel_.apply(this,gt))}++x;break;case Ll.DRAW_CHARS:var mt=D[1],Ot=D[2],bt=D[3],wt=D[4];O=D[5];var Et=D[6],St=D[7],xt=D[8];m=D[9];var Ct=D[10];v=D[11],_=D[12];var Tt=[D[13],D[13]],Rt=this.textStates[_],It=Rt.font,Lt=[Rt.scale[0]*St,Rt.scale[1]*St],Mt=void 0;It in this.widths_?Mt=this.widths_[It]:(Mt={},this.widths_[It]=Mt);var Nt=rc(u,mt,Ot,2),At=Math.abs(Lt[0])*_n(It,v,Mt);if(wt||At<=Nt){var jt=this.textStates[_].textAlign,Ft=(Nt-At)*Kl[jt],Gt=nc(u,mt,Ot,2,v,Ft,Et,Math.abs(Lt[0]),_n,It,Mt,j?0:this.viewRotation_);t:if(Gt){var Dt=[],kt=void 0,Bt=void 0,Yt=void 0,Ut=void 0,Vt=void 0;if(m)for(kt=0,Bt=Gt.length;kt<Bt;++kt){Vt=Gt[kt],Yt=Vt[4],Ut=this.createLabel(Yt,_,"",m),c=Vt[2]+(Lt[0]<0?-Ct:Ct),h=bt*Ut.height+2*(.5-bt)*Ct*Lt[1]/Lt[0]-xt;dt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Vt[0],Vt[1],Ut.width,Ut.height,c,h,0,0,Vt[3],Tt,!1,sn,!1,b);if(s&&s.collides(dt.declutterBox))break t;Dt.push([t,e,Ut,dt,1,null,null])}if(O)for(kt=0,Bt=Gt.length;kt<Bt;++kt){Vt=Gt[kt],Yt=Vt[4],Ut=this.createLabel(Yt,_,O,""),c=Vt[2],h=bt*Ut.height-xt;dt=this.calculateImageOrLabelDimensions_(Ut.width,Ut.height,Vt[0],Vt[1],Ut.width,Ut.height,c,h,0,0,Vt[3],Tt,!1,sn,!1,b);if(s&&s.collides(dt.declutterBox))break t;Dt.push([t,e,Ut,dt,1,null,null])}s&&s.load(Dt.map(lc));for(var zt=0,Xt=Dt.length;zt<Xt;++zt)this.replayImageOrLabel_.apply(this,Dt[zt])}}++x;break;case Ll.END_GEOMETRY:if(void 0!==i){b=D[1];var Wt=i(b,S);if(Wt)return Wt}++x;break;case Ll.FILL:G?R++:this.fill_(t),++x;break;case Ll.MOVE_TO_LINE_TO:for(T=D[1],l=D[2],w=u[T],E=u[T+1],d=w+.5|0,g=E+.5|0,d===p&&g===f||(t.moveTo(w,E),p=d,f=g),T+=2;T<l;T+=2)w=u[T],E=u[T+1],d=w+.5|0,g=E+.5|0,T!=l-2&&d===p&&g===f||(t.lineTo(w,E),p=d,f=g);++x;break;case Ll.SET_FILL_STYLE:I=D,this.alignFill_=D[2],R&&(this.fill_(t),R=0,P&&(t.stroke(),P=0)),t.fillStyle=D[1],++x;break;case Ll.SET_STROKE_STYLE:L=D,P&&(t.stroke(),P=0),this.setStrokeStyle_(t,D),++x;break;case Ll.STROKE:G?P++:t.stroke(),++x;break;default:++x;break}}R&&this.fill_(t),P&&t.stroke()},t.prototype.execute=function(t,e,n,r,o,i){this.viewRotation_=r,this.execute_(t,e,n,this.instructions,o,void 0,void 0,i)},t.prototype.executeHitDetection=function(t,e,n,r,o){return this.viewRotation_=n,this.execute_(t,1,e,this.hitDetectionInstructions,!0,r,o)},t}(),fc=pc,dc=[ec.POLYGON,ec.CIRCLE,ec.LINE_STRING,ec.IMAGE,ec.TEXT,ec.DEFAULT],gc=function(){function t(t,e,n,r,o,i){this.maxExtent_=t,this.overlaps_=r,this.pixelRatio_=n,this.resolution_=e,this.renderBuffer_=i,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=L(),this.createExecutors_(o)}return t.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},t.prototype.createExecutors_=function(t){for(var e in t){var n=this.executorsByZIndex_[e];void 0===n&&(n={},this.executorsByZIndex_[e]=n);var r=t[e];for(var o in r){var i=r[o];n[o]=new fc(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},t.prototype.hasExecutors=function(t){for(var e in this.executorsByZIndex_)for(var n=this.executorsByZIndex_[e],r=0,o=t.length;r<o;++r)if(t[r]in n)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o,i){r=Math.round(r);var a=2*r+1,s=G(this.hitDetectionTransform_,r+.5,r+.5,1/e,-1/e,-n,-t[0],-t[1]),u=!this.hitDetectionContext_;u&&(this.hitDetectionContext_=Object(Ke["a"])(a,a));var l,c=this.hitDetectionContext_;c.canvas.width!==a||c.canvas.height!==a?(c.canvas.width=a,c.canvas.height=a):u||c.clearRect(0,0,a,a),void 0!==this.renderBuffer_&&(l=$(),ut(l,t),X(l,e*(this.renderBuffer_+r),l));var h,p=vc(r);function f(t,e){for(var n=c.getImageData(0,0,a,a).data,s=0,u=p.length;s<u;s++)if(n[p[s]]>0){if(!i||h!==ec.IMAGE&&h!==ec.TEXT||-1!==i.indexOf(t)){var l=(p[s]-3)/4,f=r-l%a,d=r-(l/a|0),g=o(t,e,f*f+d*d);if(g)return g}c.clearRect(0,0,a,a);break}}var d,g,y,v,_,m=Object.keys(this.executorsByZIndex_).map(Number);for(m.sort(ao["i"]),d=m.length-1;d>=0;--d){var O=m[d].toString();for(y=this.executorsByZIndex_[O],g=dc.length-1;g>=0;--g)if(h=dc[g],v=y[h],void 0!==v&&(_=v.executeHitDetection(c,s,n,f,l),_))return _}},t.prototype.getClipCoords=function(t){var e=this.maxExtent_;if(!e)return null;var n=e[0],r=e[1],o=e[2],i=e[3],a=[n,r,n,i,o,i,o,r];return Eo(a,0,8,2,t,a),a},t.prototype.isEmpty=function(){return Object(ae["d"])(this.executorsByZIndex_)},t.prototype.execute=function(t,e,n,r,o,i,a){var s=Object.keys(this.executorsByZIndex_).map(Number);s.sort(ao["i"]),this.maxExtent_&&(t.save(),this.clip(t,n));var u,l,c,h,p,f,d=i||dc;for(a&&s.reverse(),u=0,l=s.length;u<l;++u){var g=s[u].toString();for(p=this.executorsByZIndex_[g],c=0,h=d.length;c<h;++c){var y=d[c];f=p[y],void 0!==f&&f.execute(t,e,n,r,o,a)}}this.maxExtent_&&t.restore()},t}(),yc={};function vc(t){if(void 0!==yc[t])return yc[t];for(var e=2*t+1,n=t*t,r=new Array(n+1),o=0;o<=t;++o)for(var i=0;i<=t;++i){var a=o*o+i*i;if(a>n)break;var s=r[a];s||(s=[],r[a]=s),s.push(4*((t+o)*e+(t+i))+3),o>0&&s.push(4*((t-o)*e+(t+i))+3),i>0&&(s.push(4*((t+o)*e+(t-i))+3),o>0&&s.push(4*((t-o)*e+(t-i))+3))}for(var u=[],l=(o=0,r.length);o<l;++o)r[o]&&u.push.apply(u,r[o]);return yc[t]=u,u}var _c=gc,mc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Oc=function(t){function e(e,n,r,o,i,a,s){var u=t.call(this)||this;return u.context_=e,u.pixelRatio_=n,u.extent_=r,u.transform_=o,u.viewRotation_=i,u.squaredTolerance_=a,u.userTransform_=s,u.contextFillState_=null,u.contextStrokeState_=null,u.contextTextState_=null,u.fillState_=null,u.strokeState_=null,u.image_=null,u.imageAnchorX_=0,u.imageAnchorY_=0,u.imageHeight_=0,u.imageOpacity_=0,u.imageOriginX_=0,u.imageOriginY_=0,u.imageRotateWithView_=!1,u.imageRotation_=0,u.imageScale_=[0,0],u.imageWidth_=0,u.text_="",u.textOffsetX_=0,u.textOffsetY_=0,u.textRotateWithView_=!1,u.textRotation_=0,u.textScale_=[0,0],u.textFillState_=null,u.textStrokeState_=null,u.textState_=null,u.pixelCoordinates_=[],u.tmpLocalTransform_=L(),u}return mc(e,t),e.prototype.drawImages_=function(t,e,n,r){if(this.image_){var o=Eo(t,e,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.tmpLocalTransform_,s=i.globalAlpha;1!=this.imageOpacity_&&(i.globalAlpha=s*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,c=o.length;l<c;l+=2){var h=o[l]-this.imageAnchorX_,p=o[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_[0]||1!=this.imageScale_[1]){var f=h+this.imageAnchorX_,d=p+this.imageAnchorY_;G(a,f,d,1,1,u,-f,-d),i.setTransform.apply(i,a),i.translate(f,d),i.scale(this.imageScale_[0],this.imageScale_[1]),i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),i.setTransform(1,0,0,1,0,0)}else i.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,h,p,this.imageWidth_,this.imageHeight_)}1!=this.imageOpacity_&&(i.globalAlpha=s)}},e.prototype.drawText_=function(t,e,n,r){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var o=Eo(t,e,n,r,this.transform_,this.pixelCoordinates_),i=this.context_,a=this.textRotation_;for(this.textRotateWithView_&&(a+=this.viewRotation_);e<n;e+=r){var s=o[e]+this.textOffsetX_,u=o[e+1]+this.textOffsetY_;if(0!==a||1!=this.textScale_[0]||1!=this.textScale_[1]){var l=G(this.tmpLocalTransform_,s,u,1,1,a,-s,-u);i.setTransform.apply(i,l),i.translate(s,u),i.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&i.strokeText(this.text_,0,0),this.textFillState_&&i.fillText(this.text_,0,0),i.setTransform(1,0,0,1,0,0)}else this.textStrokeState_&&i.strokeText(this.text_,s,u),this.textFillState_&&i.fillText(this.text_,s,u)}}},e.prototype.moveToLineTo_=function(t,e,n,r,o){var i=this.context_,a=Eo(t,e,n,r,this.transform_,this.pixelCoordinates_);i.moveTo(a[0],a[1]);var s=a.length;o&&(s-=2);for(var u=2;u<s;u+=2)i.lineTo(a[u],a[u+1]);return o&&i.closePath(),n},e.prototype.drawRings_=function(t,e,n,r){for(var o=0,i=n.length;o<i;++o)e=this.moveToLineTo_(t,e,n[o],r,!0);return e},e.prototype.drawCircle=function(t){if(Pt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=jo(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],r=e[3]-e[1],o=Math.sqrt(n*n+r*r),i=this.context_;i.beginPath(),i.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&i.fill(),this.strokeState_&&i.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.setTransform=function(t){this.transform_=t},e.prototype.drawGeometry=function(t){var e=t.getType();switch(e){case nr.POINT:this.drawPoint(t);break;case nr.LINE_STRING:this.drawLineString(t);break;case nr.POLYGON:this.drawPolygon(t);break;case nr.MULTI_POINT:this.drawMultiPoint(t);break;case nr.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case nr.MULTI_POLYGON:this.drawMultiPolygon(t);break;case nr.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case nr.CIRCLE:this.drawCircle(t);break;default:}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&Pt(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,r=e.length;n<r;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Pt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var r=t.getFlatMidpoint();this.drawText_(r,0,2,2)}}},e.prototype.drawMultiLineString=function(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));var e=t.getExtent();if(Pt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,r=t.getFlatCoordinates(),o=0,i=t.getEnds(),a=t.getStride();n.beginPath();for(var s=0,u=i.length;s<u;++s)o=this.moveToLineTo_(r,o,i[s],a,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Pt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),Pt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),r=0,o=t.getEndss(),i=t.getStride();e.beginPath();for(var a=0,s=o.length;a<s;++a){var u=o[a];r=this.drawRings_(n,r,u,i)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=t.lineCap,e.lineCap=t.lineCap),e.setLineDash&&(Object(ao["b"])(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,r=t.textAlign?t.textAlign:on;n?(n.font!=t.font&&(n.font=t.font,e.font=t.font),n.textAlign!=r&&(n.textAlign=r,e.textAlign=r),n.textBaseline!=t.textBaseline&&(n.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=r,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:r,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){var n=this;if(t){var r=t.getColor();this.fillState_={fillStyle:rl(r||Je)}}else this.fillState_=null;if(e){var o=e.getColor(),i=e.getLineCap(),a=e.getLineDash(),s=e.getLineDashOffset(),u=e.getLineJoin(),l=e.getWidth(),c=e.getMiterLimit(),h=a||Qe;this.strokeState_={lineCap:void 0!==i?i:$e,lineDash:1===this.pixelRatio_?h:h.map((function(t){return t*n.pixelRatio_})),lineDashOffset:(s||tn)*this.pixelRatio_,lineJoin:void 0!==u?u:en,lineWidth:(void 0!==l?l:un)*this.pixelRatio_,miterLimit:void 0!==c?c:nn,strokeStyle:rl(o||rn)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){var e;if(t&&(e=t.getSize())){var n=t.getAnchor(),r=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=n[0]*this.pixelRatio_,this.imageAnchorY_=n[1]*this.pixelRatio_,this.imageHeight_=e[1]*this.pixelRatio_,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=r[0],this.imageOriginY_=r[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScaleArray(),this.imageWidth_=e[0]*this.pixelRatio_}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:rl(n||Je)}}else this.textFillState_=null;var r=t.getStroke();if(r){var o=r.getColor(),i=r.getLineCap(),a=r.getLineDash(),s=r.getLineDashOffset(),u=r.getLineJoin(),l=r.getWidth(),c=r.getMiterLimit();this.textStrokeState_={lineCap:void 0!==i?i:$e,lineDash:a||Qe,lineDashOffset:s||tn,lineJoin:void 0!==u?u:en,lineWidth:void 0!==l?l:un,miterLimit:void 0!==c?c:nn,strokeStyle:rl(o||rn)}}else this.textStrokeState_=null;var h=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),g=t.getRotation(),y=t.getScaleArray(),v=t.getText(),_=t.getTextAlign(),m=t.getTextBaseline();this.textState_={font:void 0!==h?h:qe,textAlign:void 0!==_?_:on,textBaseline:void 0!==m?m:an},this.text_=void 0!==v?v:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==g?g:0,this.textScale_=[this.pixelRatio_*y[0],this.pixelRatio_*y[1]]}else this.text_=""},e}(Nl),bc=Oc,wc={FRACTION:"fraction",PIXELS:"pixels"},Ec={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Sc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xc=function(t){function e(e,n,r,o){var i=t.call(this)||this;return i.extent=e,i.pixelRatio_=r,i.resolution=n,i.state=o,i}return Sc(e,t),e.prototype.changed=function(){this.dispatchEvent(ce["a"].CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return Object(S["b"])()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){Object(S["b"])()},e}(He["a"]),Cc=xc,Tc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Rc=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,r,mu.IDLE)||this;return s.src_=o,s.image_=new Image,null!==i&&(s.image_.crossOrigin=i),s.unlisten_=null,s.state=mu.IDLE,s.imageLoadFunction_=a,s}return Tc(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=mu.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=bt(this.extent)/this.image_.height),this.state=mu.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=mu.IDLE&&this.state!=mu.ERROR||(this.state=mu.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=Pc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.setImage=function(t){this.image_=t,this.resolution=bt(this.extent)/this.image_.height},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Cc);function Pc(t,e,n){var r=t;if(r.src&&x["c"]){var o=r.decode(),i=!0,a=function(){i=!1};return o.then((function(){i&&e()})).catch((function(t){i&&("EncodingError"===t.name&&"Invalid image type."===t.message?e():n())})),a}var s=[Object(fe["b"])(r,ce["a"].LOAD,e),Object(fe["b"])(r,ce["a"].ERROR,n)];return function(){s.forEach(fe["c"])}}var Ic=Rc,Lc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Mc=null,Nc=function(t){function e(e,n,r,o,i,a){var s=t.call(this)||this;return s.hitDetectionImage_=null,s.image_=e||new Image,null!==o&&(s.image_.crossOrigin=o),s.canvas_={},s.color_=a,s.unlisten_=null,s.imageState_=i,s.size_=r,s.src_=n,s.tainted_,s}return Lc(e,t),e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===mu.LOADED){Mc||(Mc=Object(Ke["a"])(1,1)),Mc.drawImage(this.image_,0,0);try{Mc.getImageData(0,0,1,1),this.tainted_=!1}catch(t){Mc=null,this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ce["a"].CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=mu.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=mu.LOADED,this.size_?(this.image_.width=this.size_[0],this.image_.height=this.size_[1]):this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_},e.prototype.getPixelRatio=function(t){return this.replaceColor_(t),this.canvas_[t]?t:1},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var t=this.size_[0],e=this.size_[1],n=Object(Ke["a"])(t,e);n.fillRect(0,0,t,e),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==mu.IDLE){this.imageState_=mu.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Pc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},e.prototype.replaceColor_=function(t){if(this.color_&&!this.canvas_[t]){var e=document.createElement("canvas");this.canvas_[t]=e,e.width=Math.ceil(this.image_.width*t),e.height=Math.ceil(this.image_.height*t);var n=e.getContext("2d");if(n.scale(t,t),n.drawImage(this.image_,0,0),n.globalCompositeOperation="multiply","multiply"===n.globalCompositeOperation||this.isTainted_())n.fillStyle=Ht(this.color_),n.fillRect(0,0,e.width/t,e.height/t),n.globalCompositeOperation="destination-in",n.drawImage(this.image_,0,0);else{for(var r=n.getImageData(0,0,e.width,e.height),o=r.data,i=this.color_[0]/255,a=this.color_[1]/255,s=this.color_[2]/255,u=this.color_[3],l=0,c=o.length;l<c;l+=4)o[l]*=i,o[l+1]*=a,o[l+2]*=s,o[l+3]*=u;n.putImageData(r,0,0)}}},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(He["a"]);function Ac(t,e,n,r,o,i){var a=re.get(e,r,i);return a||(a=new Nc(t,e,n,r,o,i),re.set(e,r,i,a)),a}var jc=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fc=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.opacity?r.opacity:1,i=void 0!==r.rotation?r.rotation:0,a=void 0!==r.scale?r.scale:1,s=void 0!==r.rotateWithView&&r.rotateWithView;n=t.call(this,{opacity:o,rotation:i,scale:a,displacement:void 0!==r.displacement?r.displacement:[0,0],rotateWithView:s})||this,n.anchor_=void 0!==r.anchor?r.anchor:[.5,.5],n.normalizedAnchor_=null,n.anchorOrigin_=void 0!==r.anchorOrigin?r.anchorOrigin:Ec.TOP_LEFT,n.anchorXUnits_=void 0!==r.anchorXUnits?r.anchorXUnits:wc.FRACTION,n.anchorYUnits_=void 0!==r.anchorYUnits?r.anchorYUnits:wc.FRACTION,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:null;var u=void 0!==r.img?r.img:null,l=void 0!==r.imgSize?r.imgSize:null,c=r.src;P(!(void 0!==c&&u),4),P(!u||u&&l,5),void 0!==c&&0!==c.length||!u||(c=u.src||Object(S["c"])(u)),P(void 0!==c&&c.length>0,6);var h=void 0!==r.src?mu.IDLE:mu.LOADED;return n.color_=void 0!==r.color?Jt(r.color):null,n.iconImage_=Ac(u,c,l,n.crossOrigin_,h,n.color_),n.offset_=void 0!==r.offset?r.offset:[0,0],n.offsetOrigin_=void 0!==r.offsetOrigin?r.offsetOrigin:Ec.TOP_LEFT,n.origin_=null,n.size_=void 0!==r.size?r.size:null,n}return jc(e,t),e.prototype.clone=function(){var t=this.getScale();return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==wc.FRACTION||this.anchorYUnits_==wc.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==wc.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==wc.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Ec.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Ec.TOP_RIGHT&&this.anchorOrigin_!=Ec.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Ec.BOTTOM_LEFT&&this.anchorOrigin_!=Ec.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}var n=this.getDisplacement();return t[0]-=n[0],t[1]+=n[1],this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getPixelRatio=function(t){return this.iconImage_.getPixelRatio(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(){return this.iconImage_.getHitDetectionImage()},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Ec.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Ec.TOP_RIGHT&&this.offsetOrigin_!=Ec.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Ec.BOTTOM_LEFT&&this.offsetOrigin_!=Ec.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t){this.iconImage_.addEventListener(ce["a"].CHANGE,t)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t){this.iconImage_.removeEventListener(ce["a"].CHANGE,t)},e}(nl),Gc=Fc,Dc=.5;function kc(t,e,n,r,o,i,a){var s=t[0]*Dc,u=t[1]*Dc,l=Object(Ke["a"])(s,u);l.imageSmoothingEnabled=!1;for(var c=l.canvas,h=new bc(l,Dc,o,null,a),p=n.length,f=Math.floor(16777215/p),d={},g=1;g<=p;++g){var y=n[g-1],v=y.getStyleFunction()||r;if(r){var _=v(y,i);if(_){Array.isArray(_)||(_=[_]);for(var m=g*f,O="#"+("000000"+m.toString(16)).slice(-6),b=0,w=_.length;b<w;++b){var E=_[b],S=E.getGeometryFunction()(y);if(S&&Pt(o,S.getExtent())){var x=E.clone(),C=x.getFill();C&&C.setColor(O);var T=x.getStroke();T&&(T.setColor(O),T.setLineDash(null)),x.setText(void 0);var R=E.getImage();if(R&&0!==R.getOpacity()){var P=R.getImageSize();if(!P)continue;var I=Object(Ke["a"])(P[0],P[1],void 0,{alpha:!1}),L=I.canvas;I.fillStyle=O,I.fillRect(0,0,L.width,L.height),x.setImage(new Gc({img:L,imgSize:P,anchor:R.getAnchor(),anchorXUnits:wc.PIXELS,anchorYUnits:wc.PIXELS,offset:R.getOrigin(),opacity:1,size:R.getSize(),scale:R.getScale(),rotation:R.getRotation(),rotateWithView:R.getRotateWithView()}))}var M=x.getZIndex()||0,N=d[M];N||(N={},d[M]=N,N[nr.POLYGON]=[],N[nr.CIRCLE]=[],N[nr.LINE_STRING]=[],N[nr.POINT]=[]),N[S.getType().replace("Multi","")].push(S,x)}}}}}for(var A=Object.keys(d).map(Number).sort(ao["i"]),j=(g=0,A.length);g<j;++g){N=d[A[g]];for(var F in N){var G=N[F];for(b=0,w=G.length;b<w;b+=2){h.setStyle(G[b+1]);for(var D=0,k=e.length;D<k;++D)h.setTransform(e[D]),h.drawGeometry(G[b])}}}return l.getImageData(0,0,c.width,c.height)}function Bc(t,e,n){var r=[];if(n){var o=Math.floor(Math.round(t[0])*Dc),i=Math.floor(Math.round(t[1])*Dc),a=4*(Ft(o,0,n.width-1)+Ft(i,0,n.height-1)*n.width),s=n.data[a],u=n.data[a+1],l=n.data[a+2],c=l+256*(u+256*s),h=Math.floor(16777215/e.length);c&&c%h===0&&r.push(e[c/h-1])}return r}var Yc=.5,Uc={Point:th,LineString:Jc,Polygon:nh,MultiPoint:eh,MultiLineString:$c,MultiPolygon:Qc,GeometryCollection:qc,Circle:Wc};function Vc(t,e){return parseInt(Object(S["c"])(t),10)-parseInt(Object(S["c"])(e),10)}function zc(t,e){var n=Xc(t,e);return n*n}function Xc(t,e){return Yc*t/e}function Wc(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),ec.CIRCLE);s.setFillStrokeStyle(i,a),s.drawCircle(e,r)}var u=n.getText();if(u&&u.getText()){var l=(o||t).getBuilder(n.getZIndex(),ec.TEXT);l.setTextStyle(u),l.drawText(e,r)}}function Zc(t,e,n,r,o,i,a){var s=!1,u=n.getImage();if(u){var l=u.getImageState();l==mu.LOADED||l==mu.ERROR?u.unlistenImageChange(o):(l==mu.IDLE&&u.load(),l=u.getImageState(),u.listenImageChange(o),s=!0)}return Hc(t,e,n,r,i,a),s}function Hc(t,e,n,r,o,i){var a=n.getGeometryFunction()(e);if(a){var s=a.simplifyTransformed(r,o),u=n.getRenderer();if(u)Kc(t,s,n,e);else{var l=Uc[s.getType()];l(t,s,n,e,i)}}}function Kc(t,e,n,r){if(e.getType()!=nr.GEOMETRY_COLLECTION){var o=t.getBuilder(n.getZIndex(),ec.DEFAULT);o.drawCustom(e,r,n.getRenderer())}else for(var i=e.getGeometries(),a=0,s=i.length;a<s;++a)Kc(t,i[a],n,r)}function qc(t,e,n,r,o){var i,a,s=e.getGeometriesArray();for(i=0,a=s.length;i<a;++i){var u=Uc[s[i].getType()];u(t,s[i],n,r,o)}}function Jc(t,e,n,r,o){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),ec.LINE_STRING);a.setFillStrokeStyle(null,i),a.drawLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(o||t).getBuilder(n.getZIndex(),ec.TEXT);u.setTextStyle(s),u.drawText(e,r)}}function $c(t,e,n,r,o){var i=n.getStroke();if(i){var a=t.getBuilder(n.getZIndex(),ec.LINE_STRING);a.setFillStrokeStyle(null,i),a.drawMultiLineString(e,r)}var s=n.getText();if(s&&s.getText()){var u=(o||t).getBuilder(n.getZIndex(),ec.TEXT);u.setTextStyle(s),u.drawText(e,r)}}function Qc(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(a||i){var s=t.getBuilder(n.getZIndex(),ec.POLYGON);s.setFillStrokeStyle(i,a),s.drawMultiPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(o||t).getBuilder(n.getZIndex(),ec.TEXT);l.setTextStyle(u),l.drawText(e,r)}}function th(t,e,n,r,o){var i,a=n.getImage(),s=n.getText();if(o&&(t=o,i=a&&s&&s.getText()?{}:void 0),a){if(a.getImageState()!=mu.LOADED)return;var u=t.getBuilder(n.getZIndex(),ec.IMAGE);u.setImageStyle(a,i),u.drawPoint(e,r)}if(s&&s.getText()){var l=t.getBuilder(n.getZIndex(),ec.TEXT);l.setTextStyle(s,i),l.drawText(e,r)}}function eh(t,e,n,r,o){var i,a=n.getImage(),s=n.getText();if(o&&(t=o,i=a&&s&&s.getText()?{}:void 0),a){if(a.getImageState()!=mu.LOADED)return;var u=t.getBuilder(n.getZIndex(),ec.IMAGE);u.setImageStyle(a,i),u.drawMultiPoint(e,r)}if(s&&s.getText()){var l=(o||t).getBuilder(n.getZIndex(),ec.TEXT);l.setTextStyle(s,i),l.drawText(e,r)}}function nh(t,e,n,r,o){var i=n.getFill(),a=n.getStroke();if(i||a){var s=t.getBuilder(n.getZIndex(),ec.POLYGON);s.setFillStrokeStyle(i,a),s.drawPolygon(e,r)}var u=n.getText();if(u&&u.getText()){var l=(o||t).getBuilder(n.getZIndex(),ec.TEXT);l.setTextStyle(u),l.drawText(e,r)}}var rh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oh=function(t){function e(e){var n=t.call(this,e)||this;return n.boundHandleStyleImageChange_=n.handleStyleImageChange_.bind(n),n.animatingOrInteracting_,n.dirty_=!1,n.hitDetectionImageData_=null,n.renderedFeatures_=null,n.renderedRevision_=-1,n.renderedResolution_=NaN,n.renderedExtent_=$(),n.wrappedRenderedExtent_=$(),n.renderedRotation_,n.renderedCenter_=null,n.renderedProjection_=null,n.renderedRenderOrder_=null,n.replayGroup_=null,n.replayGroupChanged=!0,n.declutterExecutorGroup=null,n.clipping=!0,n}return rh(e,t),e.prototype.useContainer=function(e,n,r){r<1&&(e=null),t.prototype.useContainer.call(this,e,n,r)},e.prototype.renderWorlds=function(t,e,n){var r=e.extent,o=e.viewState,i=o.center,a=o.resolution,s=o.projection,u=o.rotation,l=s.getExtent(),c=this.getLayer().getSource(),h=e.pixelRatio,p=e.viewHints,f=!(p[ar.ANIMATING]||p[ar.INTERACTING]),d=this.context,g=Math.round(e.size[0]*h),y=Math.round(e.size[1]*h),v=c.getWrapX()&&s.canWrapX(),_=v?Rt(l):null,m=v?Math.ceil((r[2]-l[2])/_)+1:1,O=v?Math.floor((r[0]-l[0])/_):0;do{var b=this.getRenderTransform(i,a,u,h,g,y,O*_);t.execute(d,1,b,u,f,void 0,n)}while(++O<m)},e.prototype.renderDeclutter=function(t){this.declutterExecutorGroup&&this.renderWorlds(this.declutterExecutorGroup,t,t.declutterTree)},e.prototype.renderFrame=function(t,e){var n=t.pixelRatio,r=t.layerStatesArray[t.layerIndex];F(this.pixelTransform,1/n,1/n),D(this.inversePixelTransform,this.pixelTransform);var o=B(this.pixelTransform);this.useContainer(e,o,r.opacity);var i=this.context,a=i.canvas,s=this.replayGroup_,u=this.declutterExecutorGroup;if((!s||s.isEmpty())&&(!u||u.isEmpty()))return!this.containerReused&&a.width>0&&(a.width=0),this.container;var l=Math.round(t.size[0]*n),c=Math.round(t.size[1]*n);a.width!=l||a.height!=c?(a.width=l,a.height=c,a.style.transform!==o&&(a.style.transform=o)):this.containerReused||i.clearRect(0,0,l,c),this.preRender(i,t);var h=t.viewState,p=h.projection,f=!1,d=!0;if(r.extent&&this.clipping){var g=no(r.extent,p);d=Pt(g,t.extent),f=d&&!K(g,t.extent),f&&this.clipUnrotated(i,t,g)}d&&this.renderWorlds(s,t),f&&i.restore(),this.postRender(i,t);var y=r.opacity,v=this.container;return y!==parseFloat(v.style.opacity)&&(v.style.opacity=1===y?"":String(y)),this.renderedRotation_!==h.rotation&&(this.renderedRotation_=h.rotation,this.hitDetectionImageData_=null),this.container},e.prototype.getFeatures=function(t){return new Promise(function(e){if(!this.hitDetectionImageData_&&!this.animatingOrInteracting_){var n=[this.context.canvas.width,this.context.canvas.height];j(this.pixelTransform,n);var r=this.renderedCenter_,o=this.renderedResolution_,i=this.renderedRotation_,a=this.renderedProjection_,s=this.wrappedRenderedExtent_,u=this.getLayer(),l=[],c=n[0]*Dc,h=n[1]*Dc;l.push(this.getRenderTransform(r,o,i,Dc,c,h,0).slice());var p=u.getSource(),f=a.getExtent();if(p.getWrapX()&&a.canWrapX()&&!K(f,s)){var d=s[0],g=Rt(f),y=0,v=void 0;while(d<f[0])--y,v=g*y,l.push(this.getRenderTransform(r,o,i,Dc,c,h,v).slice()),d+=g;y=0,d=s[2];while(d>f[2])++y,v=g*y,l.push(this.getRenderTransform(r,o,i,Dc,c,h,v).slice()),d-=g}this.hitDetectionImageData_=kc(n,l,this.renderedFeatures_,u.getStyleFunction(),s,o,i)}e(Bc(t,this.renderedFeatures_,this.hitDetectionImageData_))}.bind(this))},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,r,o){var i=this;if(this.replayGroup_){var a,s=e.viewState.resolution,u=e.viewState.rotation,l=this.getLayer(),c={},h=function(t,e,n){var i=Object(S["c"])(t),a=c[i];if(a){if(!0!==a&&n<a.distanceSq){if(0===n)return c[i]=!0,o.splice(o.lastIndexOf(a),1),r(t,l,e);a.geometry=e,a.distanceSq=n}}else{if(0===n)return c[i]=!0,r(t,l,e);o.push(c[i]={feature:t,layer:l,geometry:e,distanceSq:n,callback:r})}},p=[this.replayGroup_];return this.declutterExecutorGroup&&p.push(this.declutterExecutorGroup),p.some((function(r){return a=r.forEachFeatureAtCoordinate(t,s,u,n,h,r===i.declutterExecutorGroup?e.declutterTree.all().map((function(t){return t.value})):null)})),a}},e.prototype.handleFontsChanged=function(){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t){var e=this.getLayer(),n=e.getSource();if(!n)return!1;var r=t.viewHints[ar.ANIMATING],o=t.viewHints[ar.INTERACTING],i=e.getUpdateWhileAnimating(),a=e.getUpdateWhileInteracting();if(!this.dirty_&&!i&&r||!a&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;var s=t.extent,u=t.viewState,l=u.projection,c=u.resolution,h=t.pixelRatio,p=e.getRevision(),f=e.getRenderBuffer(),d=e.getRenderOrder();void 0===d&&(d=Vc);var g=u.center.slice(),y=X(s,f*c),v=y.slice(),_=[y.slice()],m=l.getExtent();if(n.getWrapX()&&l.canWrapX()&&!K(m,t.extent)){var O=Rt(m),b=Math.max(Rt(y)/2,O);y[0]=m[0]-b,y[2]=m[2]+b,Re(g,l);var w=jt(_[0],l);w[0]<m[0]&&w[2]<m[2]?_.push([w[0]+O,w[1],w[2]+O,w[3]]):w[0]>m[0]&&w[2]>m[2]&&_.push([w[0]-O,w[1],w[2]-O,w[3]])}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==p&&this.renderedRenderOrder_==d&&K(this.wrappedRenderedExtent_,y))return Object(ao["b"])(this.renderedExtent_,v)||(this.hitDetectionImageData_=null,this.renderedExtent_=v),this.renderedCenter_=g,this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var E,S=new tc(Xc(c,h),y,c,h);this.getLayer().getDeclutter()&&(E=new tc(Xc(c,h),y,c,h));var x,C=$r();if(C){for(var T=0,R=_.length;T<R;++T)n.loadFeatures(eo(_[T],l),c,C);x=Zr(C,l)}else for(T=0,R=_.length;T<R;++T)n.loadFeatures(_[T],c,l);var P=zc(c,h),I=function(t){var n,r=t.getStyleFunction()||e.getStyleFunction();if(r&&(n=r(t,c)),n){var o=this.renderFeature(t,P,n,S,x,E);this.dirty_=this.dirty_||o}}.bind(this),L=eo(y,l),M=n.getFeaturesInExtent(L);d&&M.sort(d);for(T=0,R=M.length;T<R;++T)I(M[T]);this.renderedFeatures_=M;var N=S.finish(),A=new _c(y,c,h,n.getOverlaps(),N,e.getRenderBuffer());return E&&(this.declutterExecutorGroup=new _c(y,c,h,n.getOverlaps(),E.finish(),e.getRenderBuffer())),this.renderedResolution_=c,this.renderedRevision_=p,this.renderedRenderOrder_=d,this.renderedExtent_=v,this.wrappedRenderedExtent_=y,this.renderedCenter_=g,this.renderedProjection_=l,this.replayGroup_=A,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,r,o,i){if(!n)return!1;var a=!1;if(Array.isArray(n))for(var s=0,u=n.length;s<u;++s)a=Zc(r,t,n[s],e,this.boundHandleStyleImageChange_,o,i)||a;else a=Zc(r,t,n,e,this.boundHandleStyleImageChange_,o,i);return a},e}(Cu),ih=oh,ah=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),sh=function(t){function e(e){return t.call(this,e)||this}return ah(e,t),e.prototype.createRenderer=function(){return new ih(this)},e}(xl),uh=sh,lh={name:"ol-vector-layer",setup:function(t){var e=Object(O["inject"])("map"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new uh(r)}));return Object(O["watch"])(r,(function(){o.value.setProperties(r)})),Object(O["onMounted"])((function(){e.addLayer(o.value)})),Object(O["onUnmounted"])((function(){e.removeLayer(o.value)})),Object(O["provide"])("vectorLayer",o),Object(O["provide"])("stylable",o),{vectorLayer:o}},props:{className:{type:String,default:"ol-layer"},opacity:{type:Number,default:1},visible:{type:Boolean,default:!0},extent:{type:Array},zIndex:{type:Number},minResolution:{type:Number},maxResolution:{type:Number},minZoom:{type:Number},maxZoom:{type:Number},renderBuffer:{type:Number,default:100},updateWhileAnimating:{type:Boolean,default:!1},style:{type:Function},updateWhileInteracting:{type:Boolean,default:!1}}};lh.render=$u;var ch=lh;function hh(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var ph=function(){function t(t){this.rbush_=new tl.a(t),this.items_={}}return t.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[Object(S["c"])(e)]=n},t.prototype.load=function(t,e){for(var n=new Array(e.length),r=0,o=e.length;r<o;r++){var i=t[r],a=e[r],s={minX:i[0],minY:i[1],maxX:i[2],maxY:i[3],value:a};n[r]=s,this.items_[Object(S["c"])(a)]=s}this.rbush_.load(n)},t.prototype.remove=function(t){var e=Object(S["c"])(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},t.prototype.update=function(t,e){var n=this.items_[Object(S["c"])(e)],r=[n.minX,n.minY,n.maxX,n.maxY];it(r,t)||(this.remove(e),this.insert(t,e))},t.prototype.getAll=function(){var t=this.rbush_.all();return t.map((function(t){return t.value}))},t.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]},n=this.rbush_.search(e);return n.map((function(t){return t.value}))},t.prototype.forEach=function(t){return this.forEach_(this.getAll(),t)},t.prototype.forEachInExtent=function(t,e){return this.forEach_(this.getInExtent(t),e)},t.prototype.forEach_=function(t,e){for(var n,r=0,o=t.length;r<o;r++)if(n=e(t[r]),n)return n;return n},t.prototype.isEmpty=function(){return Object(ae["d"])(this.items_)},t.prototype.clear=function(){this.rbush_.clear(),this.items_={}},t.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return Q(e.minX,e.minY,e.maxX,e.maxY,t)},t.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]},t}(),fh=ph,dh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gh=function(t){function e(e){var n=t.call(this)||this;return n.projection=Yr(e.projection),n.attributions_=yh(e.attributions),n.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,n.loading=!1,n.state_=void 0!==e.state?e.state:pe.READY,n.wrapX_=void 0!==e.wrapX&&e.wrapX,n}return dh(e,t),e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection},e.prototype.getResolutions=function(){return Object(S["b"])()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.getContextOptions=function(){},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=yh(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(oe["a"]);function yh(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}var vh=gh,_h={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};function mh(t,e){return[[-1/0,-1/0,1/0,1/0]]}function Oh(t,e){return[t]}function bh(t){return function(e,n){var r=t.getZForResolution(n),o=t.getTileRangeForExtentAndZ(e,r),i=[],a=[r,0,0];for(a[1]=o.minX;a[1]<=o.maxX;++a[1])for(a[2]=o.minY;a[2]<=o.maxY;++a[2])i.push(t.getTileCoordExtent(a));return i}}var wh={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},Eh=!1;function Sh(t,e,n,r,o,i,a){var s=new XMLHttpRequest;s.open("GET","function"===typeof t?t(n,r,o):t,!0),e.getType()==wh.ARRAY_BUFFER&&(s.responseType="arraybuffer"),s.withCredentials=Eh,s.onload=function(t){if(!s.status||s.status>=200&&s.status<300){var r=e.getType(),u=void 0;r==wh.JSON||r==wh.TEXT?u=s.responseText:r==wh.XML?(u=s.responseXML,u||(u=(new DOMParser).parseFromString(s.responseText,"application/xml"))):r==wh.ARRAY_BUFFER&&(u=s.response),u?i(e.readFeatures(u,{extent:n,featureProjection:o}),e.readProjection(u)):a()}else a()},s.onerror=a,s.send()}function xh(t,e){return function(n,r,o,i,a){var s=this;Sh(t,e,n,r,o,(function(t,e){s.addFeatures(t),void 0!==i&&i(t)}),a||E["c"])}}var Ch=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Th=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.feature=n,o.features=r,o}return Ch(e,t),e}(je["a"]),Rh=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{attributions:r.attributions,projection:void 0,state:pe.READY,wrapX:void 0===r.wrapX||r.wrapX})||this,n.on,n.once,n.un,n.loader_=E["c"],n.format_=r.format,n.overlaps_=void 0===r.overlaps||r.overlaps,n.url_=r.url,void 0!==r.loader?n.loader_=r.loader:void 0!==n.url_&&(P(n.format_,7),n.loader_=xh(n.url_,n.format_)),n.strategy_=void 0!==r.strategy?r.strategy:mh;var o,i,a=void 0===r.useSpatialIndex||r.useSpatialIndex;return n.featuresRtree_=a?new fh:null,n.loadedExtentsRtree_=new fh,n.loadingExtentsCount_=0,n.nullGeometryFeatures_={},n.idIndex_={},n.uidIndex_={},n.featureChangeKeys_={},n.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(o=r.features,i=o.getArray()),a||void 0!==o||(o=new In(i)),void 0!==i&&n.addFeaturesInternal(i),void 0!==o&&n.bindFeaturesCollection_(o),n}return Ch(e,t),e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=Object(S["c"])(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var r=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(r,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Th(_h.ADDFEATURE,t))}else this.featuresCollection_&&this.featuresCollection_.remove(t)},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[Object(fe["a"])(e,ce["a"].CHANGE,this.handleFeatureChange_,this),Object(fe["a"])(e,Ae["a"].PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,r=e.getId();return void 0!==r&&(r.toString()in this.idIndex_?n=!1:this.idIndex_[r.toString()]=e),n&&(P(!(t in this.uidIndex_),30),this.uidIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],r=[],o=0,i=t.length;o<i;o++){var a=t[o],s=Object(S["c"])(a);this.addToIndex_(s,a)&&n.push(a)}o=0;for(var u=n.length;o<u;o++){a=n[o],s=Object(S["c"])(a);this.setupChangeEvents_(s,a);var l=a.getGeometry();if(l){var c=l.getExtent();e.push(c),r.push(a)}else this.nullGeometryFeatures_[s]=a}this.featuresRtree_&&this.featuresRtree_.load(e,r);o=0;for(var h=n.length;o<h;o++)this.dispatchEvent(new Th(_h.ADDFEATURE,n[o]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;this.addEventListener(_h.ADDFEATURE,(function(n){e||(e=!0,t.push(n.feature),e=!1)})),this.addEventListener(_h.REMOVEFEATURE,(function(n){e||(e=!0,t.remove(n.feature),e=!1)})),t.addEventListener(xn.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)}.bind(this)),t.addEventListener(xn.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)}.bind(this)),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){var n=this.featureChangeKeys_[e];n.forEach(fe["c"])}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var o=new Th(_h.CLEAR);this.dispatchEvent(o),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,(function(n){var r=n.getGeometry();return r.intersectsCoordinate(t)?e(n):void 0}))},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,(function(n){var r=n.getGeometry();if(r.intersectsExtent(t)){var o=e(n);if(o)return o}}))},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),Object(ae["d"])(this.nullGeometryFeatures_)||Object(ao["c"])(t,Object(ae["c"])(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,(function(t){e.push(t)})),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_?this.featuresRtree_.getInExtent(t):this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],r=t[1],o=null,i=[NaN,NaN],a=1/0,s=[-1/0,-1/0,1/0,1/0],u=e||E["b"];return this.featuresRtree_.forEachInExtent(s,(function(t){if(u(t)){var e=t.getGeometry(),l=a;if(a=e.closestPointXY(n,r,i,a),a<l){o=t;var c=Math.sqrt(a);s[0]=n-c,s[1]=r-c,s[2]=n+c,s[3]=r+c}}})),o},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFeatureByUid=function(t){var e=this.uidIndex_[t];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=Object(S["c"])(e),r=e.getGeometry();if(r){var o=r.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(o,e)):this.featuresRtree_&&this.featuresRtree_.update(o,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var i=e.getId();if(void 0!==i){var a=i.toString();this.idIndex_[a]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[a]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[n]=e;this.changed(),this.dispatchEvent(new Th(_h.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:Object(S["c"])(t)in this.uidIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(ae["d"])(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){for(var r=this.loadedExtentsRtree_,o=this.strategy_(t,e),i=function(t,i){var s=o[t],u=r.forEachInExtent(s,(function(t){return K(t.extent,s)}));u||(++a.loadingExtentsCount_,a.dispatchEvent(new Th(_h.FEATURESLOADSTART)),a.loader_.call(a,s,e,n,function(t){--this.loadingExtentsCount_,this.dispatchEvent(new Th(_h.FEATURESLOADEND,void 0,t))}.bind(a),function(){--this.loadingExtentsCount_,this.dispatchEvent(new Th(_h.FEATURESLOADERROR))}.bind(a)),r.insert(s,{extent:s.slice()}))},a=this,s=0,u=o.length;s<u;++s)i(s,u);this.loading=this.loader_!==E["c"]&&this.loadingExtentsCount_>0},e.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),t.prototype.refresh.call(this)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,(function(n){if(it(n.extent,t))return e=n,!0})),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=Object(S["c"])(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=Object(S["c"])(t);this.featureChangeKeys_[e].forEach(fe["c"]),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n&&delete this.idIndex_[n.toString()],delete this.uidIndex_[e],this.dispatchEvent(new Th(_h.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e.prototype.setUrl=function(t){P(this.format_,7),this.url_=t,this.setLoader(xh(t,this.format_))},e}(vh),Ph=Rh,Ih=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Lh=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,wrapX:e.wrapX})||this;return n.resolution=void 0,n.distance=void 0!==e.distance?e.distance:20,n.minDistance=e.minDistance||0,n.interpolationRatio=0,n.features=[],n.geometryFunction=e.geometryFunction||function(t){var e=t.getGeometry();return P(e.getType()==nr.POINT,10),e},n.source=null,n.boundRefresh_=n.refresh.bind(n),n.updateDistance(n.distance,n.minDistance),n.setSource(e.source||null),n}return Ih(e,t),e.prototype.clear=function(e){this.features.length=0,t.prototype.clear.call(this,e)},e.prototype.getDistance=function(){return this.distance},e.prototype.getSource=function(){return this.source},e.prototype.loadFeatures=function(t,e,n){this.source.loadFeatures(t,e,n),e!==this.resolution&&(this.resolution=e,this.refresh())},e.prototype.setDistance=function(t){this.updateDistance(t,this.minDistance)},e.prototype.setMinDistance=function(t){this.updateDistance(this.distance,t)},e.prototype.getMinDistance=function(){return this.minDistance},e.prototype.setSource=function(t){this.source&&this.source.removeEventListener(ce["a"].CHANGE,this.boundRefresh_),this.source=t,t&&t.addEventListener(ce["a"].CHANGE,this.boundRefresh_),this.refresh()},e.prototype.refresh=function(){this.clear(),this.cluster(),this.addFeatures(this.features)},e.prototype.updateDistance=function(t,e){var n=0===t?0:Math.min(e,t)/t,r=t!==this.distance||this.interpolationRatio!==n;this.distance=t,this.minDistance=e,this.interpolationRatio=n,r&&this.refresh()},e.prototype.cluster=function(){if(void 0!==this.resolution&&this.source)for(var t=$(),e=this.distance*this.resolution,n=this.source.getFeatures(),r={},o=0,i=n.length;o<i;o++){var a=n[o];if(!(Object(S["c"])(a)in r)){var s=this.geometryFunction(a);if(s){var u=s.getCoordinates();et(u,t),X(t,e,t);var l=this.source.getFeaturesInExtent(t).filter((function(t){var e=Object(S["c"])(t);return!(e in r)&&(r[e]=!0,!0)}));this.features.push(this.createCluster(l,t))}}}},e.prototype.createCluster=function(t,e){for(var n=[0,0],r=t.length-1;r>=0;--r){var o=this.geometryFunction(t[r]);o?me(n,o.getCoordinates()):t.splice(r,1)}Se(n,1/t.length);var i=vt(e),a=this.interpolationRatio,s=new hi([n[0]*(1-a)+i[0]*a,n[1]*(1-a)+i[1]*a]),u=new Xs(s);return u.set("features",t,!0),u},e}(Ph),Mh=Lh;window.ol&&!ol.ext&&(ol.ext={});var Nh=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t};window.ol&&(ol.inherits||(ol.inherits=Nh)),window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),window.Element&&!Element.prototype.remove&&(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var Ah=Nh;function jh(t){const e=t.frameState,n=M(t.inversePixelTransform.slice(),e.coordinateToPixelTransform);return new bc(t.context,e.pixelRatio,e.extent,n,e.viewState.rotation)}var Fh=jh,Gh=function(t){var e=t||{};uh.call(this,e),this.oldcluster=new Ph,this.clusters=[],this.animation={start:!1},this.set("animationDuration","number"==typeof e.animationDuration?e.animationDuration:700),this.set("animationMethod",e.animationMethod||_o),this.getSource().on("change",this.saveCluster.bind(this)),this.on(["precompose","prerender"],this.animate.bind(this)),this.on(["postcompose","postrender"],this.postanimate.bind(this))};Ah(Gh,uh),Gh.prototype.saveCluster=function(){if(this.oldcluster){if(this.oldcluster.clear(),!this.get("animationDuration"))return;var t=this.getSource().getFeatures();t.length&&t[0].get("features")&&(this.oldcluster.addFeatures(this.clusters),this.clusters=t.slice(0),this.sourceChanged=!0)}},Gh.prototype.getClusterForFeature=function(t,e){for(var n,r=0;n=e[r];r++){var o=n.get("features");if(o&&o.length)for(var i,a=0;i=o[a];a++)if(t===i)return n}return!1},Gh.prototype.stopAnimation=function(){this.animation.start=!1,this.animation.cA=[],this.animation.cB=[]},Gh.prototype.animate=function(t){var e=this.get("animationDuration");if(e){var n,r,o=t.frameState.viewState.resolution,i=this.animation,a=t.frameState.time;if(i.resolution!=o&&this.sourceChanged){var s=t.frameState.extent;for(i.resolution<o?(s=X(s,100*o),i.cA=this.oldcluster.getFeaturesInExtent(s),i.cB=this.getSource().getFeaturesInExtent(s),i.revers=!1):(s=X(s,100*o),i.cA=this.getSource().getFeaturesInExtent(s),i.cB=this.oldcluster.getFeaturesInExtent(s),i.revers=!0),i.clusters=[],n=0,r;r=i.cA[n];n++){var u=r.get("features");if(u&&u.length){var l=this.getClusterForFeature(u[0],i.cB);l&&i.clusters.push({f:r,pt:l.getGeometry().getCoordinates()})}}if(i.resolution=o,this.sourceChanged=!1,!i.clusters.length||i.clusters.length>1e3)return void this.stopAnimation();a=i.start=(new Date).getTime()}if(i.start){var c=t.vectorContext||Fh(t),h=(a-i.start)/e;h>1&&(this.stopAnimation(),h=1),h=this.get("animationMethod")(h);var p=this.getStyle(),f="function"==typeof p?p:p.length?function(){return p}:function(){return[p]};for(t.context.save(),t.context.globalAlpha=this.getOpacity(),n=0,l;l=i.clusters[n];n++){var d=l.f.getGeometry().getCoordinates(),g=d[0]-l.pt[0],y=d[1]-l.pt[1];i.revers?(d[0]=l.pt[0]+h*g,d[1]=l.pt[1]+h*y):(d[0]=d[0]-h*g,d[1]=d[1]-h*y);var v=f(l.f,o,!0);if(v.length||(v=[v]),1!==l.f.get("features").length||g||y){var _=new hi(d);u=new Xs(_)}else u=l.f.get("features")[0];for(var m,O=0;m=v[O];O++)if(m.getText()&&/\n/.test(m.getText().getText())){var b,w=m.getText().getOffsetX(),E=m.getText().getOffsetY(),S=m.getText().getRotation()||0,x=1.2*Number((m.getText().getFont()||"10px").match(/\d+/)),C=m.getText().getText().split("\n"),T=C.length-1,R=m.clone();C.forEach((function(t,e){switch(1==e&&(R.setImage(),R.setFill(),R.setStroke()),m.getText().getTextBaseline()){case"alphabetic":case"ideographic":case"bottom":b=T;break;case"hanging":case"top":b=0;break;default:b=T/2;break}R.getText().setOffsetX(w-Math.sin(S)*x*(e-b)),R.getText().setOffsetY(E+Math.cos(S)*x*(e-b)),R.getText().setText(t),c.drawFeature(u,R)}))}else c.drawFeature(u,m)}t.context.restore(),t.frameState.animate=!0,t.context.save(),t.context.beginPath(),t.context.rect(0,0,0,0),t.context.clip(),this.clip_=!0}}},Gh.prototype.postanimate=function(t){this.clip_&&(t.context.restore(),this.clip_=!1)};var Dh=Gh,kh={name:"ol-animated-clusterlayer",setup:function(t){var e=Object(O["inject"])("map"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){var t=new Dh(Ns(Ns({},r),{},{source:new Mh({distance:r.distance})}));return t})),i=Object(O["computed"])((function(){return o.value.getSource()}));return Object(O["watch"])(r,(function(){o.value.setProperties(r),o.value.changed()})),Object(O["onMounted"])((function(){e.addLayer(o.value),o.value.changed(),e.changed()})),Object(O["onUnmounted"])((function(){e.removeLayer(o.value)})),Object(O["provide"])("vectorLayer",i),Object(O["provide"])("stylable",o),{vectorLayer:o,map:e}},props:{animationDuration:{type:Number,default:700},distance:{type:Number,default:20},animationMethod:{type:Function,default:_o},updateWhileAnimating:{type:Boolean,default:!1},updateWhileInteracting:{type:Boolean,default:!1}}};kh.render=hh;var Bh=kh;function Yh(t){Yh.installed||(Yh.installed=!0,t.component(Gu.name,Gu),t.component(Ju.name,Ju),t.component(ch.name,ch),t.component(Bh.name,Bh))}var Uh=Yh;function Vh(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xh=function(t){function e(e,n,r){var o=t.call(this)||this,i=r||{};return o.tileCoord=e,o.state=n,o.interimTile=null,o.key="",o.transition_=void 0===i.transition?250:i.transition,o.transitionStarts_={},o}return zh(e,t),e.prototype.changed=function(){this.dispatchEvent(ce["a"].CHANGE)},e.prototype.release=function(){},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Jn.LOADED)return this.transition_=0,t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Jn.LOADED){t.interimTile=null;break}t.getState()==Jn.LOADING?e=t:t.getState()==Jn.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){if(this.state!==Jn.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()},e.prototype.load=function(){Object(S["b"])()},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var r=e-n+1e3/60;return r>=this.transition_?1:vo(r/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(He["a"]),Wh=Xh,Zh=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Hh=function(t){function e(e,n,r,o,i,a){var s=t.call(this,e,n,a)||this;return s.crossOrigin_=o,s.src_=r,s.key=r,s.image_=new Image,null!==o&&(s.image_.crossOrigin=o),s.unlisten_=null,s.tileLoadFunction_=i,s}return Zh(e,t),e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(t){this.image_=t,this.state=Jn.LOADED,this.unlistenImage_(),this.changed()},e.prototype.handleImageError_=function(){this.state=Jn.ERROR,this.unlistenImage_(),this.image_=Kh(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Jn.LOADED:this.state=Jn.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Jn.ERROR&&(this.state=Jn.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Jn.IDLE&&(this.state=Jn.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=Pc(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},e.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},e}(Wh);function Kh(){var t=Object(Ke["a"])(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var qh,Jh=Hh,$h=10,Qh=.25,tp=function(){function t(t,e,n,r,o,i){this.sourceProj_=t,this.targetProj_=e;var a={},s=Hr(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return a[e]||(a[e]=s(t)),a[e]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Rt(r)==Rt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Rt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Rt(this.targetProj_.getExtent()):null;var u=Ct(n),l=Tt(n),c=yt(n),h=gt(n),p=this.transformInv_(u),f=this.transformInv_(l),d=this.transformInv_(c),g=this.transformInv_(h),y=$h+(i?Math.max(0,Math.ceil(Dt(dt(n)/(i*i*256*256)))):0);if(this.addQuad_(u,l,c,h,p,f,d,g,y),this.wrapsXInSource_){var v=1/0;this.triangles_.forEach((function(t,e,n){v=Math.min(v,t.source[0][0],t.source[1][0],t.source[2][0])})),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-v>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-v>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-v>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-v>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]),r=Math.max(e[0][0],e[1][0],e[2][0]);r-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}a={}}return t.prototype.addTriangle_=function(t,e,n,r,o,i){this.triangles_.push({source:[r,o,i],target:[t,e,n]})},t.prototype.addQuad_=function(t,e,n,r,o,i,a,s,u){var l=V([o,i,a,s]),c=this.sourceWorldWidth_?Rt(l)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=V([t,e,n,r]),g=Rt(d)/this.targetWorldWidth_;f=g>Qh||f}!p&&this.sourceProj_.isGlobal()&&c&&(f=c>Qh||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(l[0])&&isFinite(l[1])&&isFinite(l[2])&&isFinite(l[3]))||Pt(l,this.maxSourceExtent_)){var y=0;if(!f&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(i[0])||!isFinite(i[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])))if(u>0)f=!0;else if(y=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(i[0])&&isFinite(i[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1),1!=y&&2!=y&&4!=y&&8!=y)return;if(u>0){if(!f){var v=[(t[0]+n[0])/2,(t[1]+n[1])/2],_=this.transformInv_(v),m=void 0;if(p){var O=(zt(o[0],h)+zt(a[0],h))/2;m=O-zt(_[0],h)}else m=(o[0]+a[0])/2-_[0];var b=(o[1]+a[1])/2-_[1],w=m*m+b*b;f=w>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var E=[(e[0]+n[0])/2,(e[1]+n[1])/2],S=this.transformInv_(E),x=[(r[0]+t[0])/2,(r[1]+t[1])/2],C=this.transformInv_(x);this.addQuad_(t,e,E,x,o,i,S,C,u-1),this.addQuad_(x,E,n,r,C,S,a,s,u-1)}else{var T=[(t[0]+e[0])/2,(t[1]+e[1])/2],R=this.transformInv_(T),P=[(n[0]+r[0])/2,(n[1]+r[1])/2],I=this.transformInv_(P);this.addQuad_(t,T,P,r,o,R,I,s,u-1),this.addQuad_(T,e,n,P,R,i,a,I,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&y)&&this.addTriangle_(t,n,r,o,a,s),0==(14&y)&&this.addTriangle_(t,n,e,o,a,i),y&&(0==(13&y)&&this.addTriangle_(e,r,t,i,s,o),0==(7&y)&&this.addTriangle_(e,r,n,i,s,a))}},t.prototype.calculateSourceExtent=function(){var t=$();return this.triangles_.forEach((function(e,n,r){var o=e.source;ut(t,o[0]),ut(t,o[1]),ut(t,o[2])})),t},t.prototype.getTriangles=function(){return this.triangles_},t}(),ep=tp,np={imageSmoothingEnabled:!1,msImageSmoothingEnabled:!1};function rp(t,e,n,r,o){t.beginPath(),t.moveTo(0,0),t.lineTo(e,n),t.lineTo(r,o),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(e,r)+1,Math.max(n,o)),t.restore()}function op(t,e){return Math.abs(t[4*e]-210)>2||Math.abs(t[4*e+3]-191.25)>2}function ip(){if(void 0===qh){var t=document.createElement("canvas").getContext("2d");t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",rp(t,4,5,4,0),rp(t,4,5,0,5);var e=t.getImageData(0,0,3,3).data;qh=op(e,0)||op(e,4)||op(e,8)}return qh}function ap(t,e,n,r){var o=Kr(n,e,t),i=Ur(e,r,n),a=e.getMetersPerUnit();void 0!==a&&(i*=a);var s=t.getMetersPerUnit();void 0!==s&&(i/=s);var u=t.getExtent();if(!u||H(u,o)){var l=Ur(t,i,o)/i;isFinite(l)&&l>0&&(i/=l)}return i}function sp(t,e,n,r){var o=vt(n),i=ap(t,e,o,r);return(!isFinite(i)||i<=0)&&ft(n,(function(n){return i=ap(t,e,n,r),isFinite(i)&&i>0})),i}function up(t,e,n,r,o,i,a,s,u,l,c,h){var p=Object(Ke["a"])(Math.round(n*t),Math.round(n*e));if(Object(ae["a"])(p,h),0===u.length)return p.canvas;function f(t){return Math.round(t*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var d=$();u.forEach((function(t,e,n){st(d,t.extent)}));var g=Rt(d),y=bt(d),v=Object(Ke["a"])(Math.round(n*g/r),Math.round(n*y/r));Object(ae["a"])(v,h);var _=n/r;u.forEach((function(t,e,n){var r=t.extent[0]-d[0],o=-(t.extent[3]-d[3]),i=Rt(t.extent),a=bt(t.extent);t.image.width>0&&t.image.height>0&&v.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,r*_,o*_,i*_,a*_)}));var m=Ct(a);return s.getTriangles().forEach((function(t,e,o){var a=t.source,s=t.target,u=a[0][0],l=a[0][1],c=a[1][0],g=a[1][1],y=a[2][0],_=a[2][1],O=f((s[0][0]-m[0])/i),b=f(-(s[0][1]-m[1])/i),w=f((s[1][0]-m[0])/i),E=f(-(s[1][1]-m[1])/i),S=f((s[2][0]-m[0])/i),x=f(-(s[2][1]-m[1])/i),C=u,T=l;u=0,l=0,c-=C,g-=T,y-=C,_-=T;var R=[[c,g,0,0,w-O],[y,_,0,0,S-O],[0,0,c,g,E-b],[0,0,y,_,x-b]],P=Yt(R);if(P){if(p.save(),p.beginPath(),ip()||h===np){p.moveTo(w,E);for(var I=4,L=O-w,M=b-E,N=0;N<I;N++)p.lineTo(w+f((N+1)*L/I),E+f(N*M/(I-1))),N!=I-1&&p.lineTo(w+f((N+1)*L/I),E+f((N+1)*M/(I-1)));p.lineTo(S,x)}else p.moveTo(w,E),p.lineTo(O,b),p.lineTo(S,x);p.clip(),p.transform(P[0],P[2],P[1],P[3],O,b),p.translate(d[0]-C,d[3]-T),p.scale(r/n,-r/n),p.drawImage(v.canvas,0,0),p.restore()}})),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach((function(t,e,n){var r=t.target,o=(r[0][0]-m[0])/i,a=-(r[0][1]-m[1])/i,s=(r[1][0]-m[0])/i,u=-(r[1][1]-m[1])/i,l=(r[2][0]-m[0])/i,c=-(r[2][1]-m[1])/i;p.beginPath(),p.moveTo(s,u),p.lineTo(o,a),p.lineTo(l,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}var lp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cp=function(t){function e(e,n,r,o,i,a,s,u,l,c,h,p){var f=t.call(this,i,Jn.IDLE)||this;f.renderEdges_=void 0!==h&&h,f.contextOptions_=p,f.pixelRatio_=s,f.gutter_=u,f.canvas_=null,f.sourceTileGrid_=n,f.targetTileGrid_=o,f.wrappedTileCoord_=a||i,f.sourceTiles_=[],f.sourcesListenerKeys_=null,f.sourceZ_=0;var d=o.getTileCoordExtent(f.wrappedTileCoord_),g=f.targetTileGrid_.getExtent(),y=f.sourceTileGrid_.getExtent(),v=g?Et(d,g):d;if(0===dt(v))return f.state=Jn.EMPTY,f;var _=e.getExtent();_&&(y=y?Et(y,_):_);var m=o.getResolution(f.wrappedTileCoord_[0]),O=sp(e,r,v,m);if(!isFinite(O)||O<=0)return f.state=Jn.EMPTY,f;var b=void 0!==c?c:Uu;if(f.triangulation_=new ep(e,r,v,y,O*b,m),0===f.triangulation_.getTriangles().length)return f.state=Jn.EMPTY,f;f.sourceZ_=n.getZForResolution(O);var w=f.triangulation_.calculateSourceExtent();if(y&&(e.canWrapX()?(w[1]=Ft(w[1],y[1],y[3]),w[3]=Ft(w[3],y[1],y[3])):w=Et(w,y)),dt(w)){for(var E=n.getTileRangeForExtentAndZ(w,f.sourceZ_),S=E.minX;S<=E.maxX;S++)for(var x=E.minY;x<=E.maxY;x++){var C=l(f.sourceZ_,S,x,s);C&&f.sourceTiles_.push(C)}0===f.sourceTiles_.length&&(f.state=Jn.EMPTY)}else f.state=Jn.EMPTY;return f}return lp(e,t),e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,r){e&&e.getState()==Jn.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Jn.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),r="number"===typeof n?n:n[0],o="number"===typeof n?n:n[1],i=this.targetTileGrid_.getResolution(e),a=this.sourceTileGrid_.getResolution(this.sourceZ_),s=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=up(r,o,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),i,s,this.triangulation_,t,this.gutter_,this.renderEdges_,this.contextOptions_),this.state=Jn.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Jn.IDLE){this.state=Jn.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,r){var o=e.getState();if(o==Jn.IDLE||o==Jn.LOADING){t++;var i=Object(fe["a"])(e,ce["a"].CHANGE,(function(n){var r=e.getState();r!=Jn.LOADED&&r!=Jn.ERROR&&r!=Jn.EMPTY||(Object(fe["c"])(i),t--,0===t&&(this.unlistenSources_(),this.reproject_()))}),this);this.sourcesListenerKeys_.push(i)}}.bind(this)),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(t,e,n){var r=t.getState();r==Jn.IDLE&&t.load()}))}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(fe["c"]),this.sourcesListenerKeys_=null},e}(Wh),hp=cp,pp=function(){function t(t){this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t.prototype.canExpireCache=function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null},t.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},t.prototype.forEach=function(t){var e=this.oldest_;while(e)t(e.value_,e.key_,this),e=e.newer},t.prototype.get=function(t,e){var n=this.entries_[t];return P(void 0!==n,15),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_},t.prototype.remove=function(t){var e=this.entries_[t];return P(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},t.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},t.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},t.prototype.set=function(t,e){P(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},t.prototype.setSize=function(t){this.highWaterMark=t},t}(),fp=pp;function dp(t,e,n,r){return void 0!==r?(r[0]=t,r[1]=e,r[2]=n,r):[t,e,n]}function gp(t,e,n){return t+"/"+e+"/"+n}function yp(t){return gp(t[0],t[1],t[2])}function vp(t){return t.split("/").map(Number)}function _p(t){return(t[1]<<t[0])+t[2]}function mp(t,e){var n=t[0],r=t[1],o=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var i=e.getFullTileRange(n);return!i||i.containsXY(r,o)}var Op=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Op(e,t),e.prototype.expireCache=function(t){while(this.canExpireCache()){var e=this.peekLast();if(e.getKey()in t)break;this.pop().release()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=vp(t),n=e[0];this.forEach(function(t){t.tileCoord[0]!==n&&(this.remove(yp(t.tileCoord)),t.release())}.bind(this))}},e}(fp),wp=bp,Ep={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},Sp=[0,0,0],xp=function(){function t(t){var e;if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,P(Object(ao["g"])(this.resolutions_,(function(t,e){return e-t}),!0),17),!t.origins)for(var n=0,r=this.resolutions_.length-1;n<r;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,P(this.origins_.length==this.resolutions_.length,20));var o=t.extent;void 0===o||this.origin_||this.origins_||(this.origin_=Ct(o)),P(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,P(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:lr,P(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==o?o:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(t,e){var n=new Pu(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1));if(o){var r=this.getTileRangeForExtentAndZ(o,e);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n}),this):o&&this.calculateTileRanges_(o)}return t.prototype.forEachTileCoord=function(t,e,n){for(var r=this.getTileRangeForExtentAndZ(t,e),o=r.minX,i=r.maxX;o<=i;++o)for(var a=r.minY,s=r.maxY;a<=s;++a)n([e,o,a])},t.prototype.forEachTileCoordParentTileRange=function(t,e,n,r){var o,i,a,s=null,u=t[0]-1;2===this.zoomFactor_?(i=t[1],a=t[2]):s=this.getTileCoordExtent(t,r);while(u>=this.minZoom){if(2===this.zoomFactor_?(i=Math.floor(i/2),a=Math.floor(a/2),o=Ru(i,i,a,a,n)):o=this.getTileRangeForExtentAndZ(s,u,n),e(u,o))return!0;--u}return!1},t.prototype.getExtent=function(){return this.extent_},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.getMinZoom=function(){return this.minZoom},t.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},t.prototype.getResolution=function(t){return this.resolutions_[t]},t.prototype.getResolutions=function(){return this.resolutions_},t.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],o=2*t[2];return Ru(r,r+1,o,o+1,e)}var i=this.getTileCoordExtent(t,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(i,t[0]+1,e)}return null},t.prototype.getTileRangeForTileCoordAndZ=function(t,e,n){if(e>this.maxZoom||e<this.minZoom)return null;var r=t[0],o=t[1],i=t[2];if(e===r)return Ru(o,i,o,i,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,e-r),s=Math.floor(o*a),u=Math.floor(i*a);if(e<r)return Ru(s,s,u,u,n);var l=Math.floor(a*(o+1))-1,c=Math.floor(a*(i+1))-1;return Ru(s,l,u,c,n)}var h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,n)},t.prototype.getTileRangeExtent=function(t,e,n){var r=this.getOrigin(t),o=this.getResolution(t),i=Ki(this.getTileSize(t),this.tmpSize_),a=r[0]+e.minX*i[0]*o,s=r[0]+(e.maxX+1)*i[0]*o,u=r[1]+e.minY*i[1]*o,l=r[1]+(e.maxY+1)*i[1]*o;return Q(a,u,s,l,n)},t.prototype.getTileRangeForExtentAndZ=function(t,e,n){var r=Sp;this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,r);var o=r[1],i=r[2];return this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,r),Ru(o,r[1],i,r[2],n)},t.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),r=Ki(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*r[0]*n,e[1]-(t[2]+.5)*r[1]*n]},t.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),r=this.getResolution(t[0]),o=Ki(this.getTileSize(t[0]),this.tmpSize_),i=n[0]+t[1]*o[0]*r,a=n[1]-(t[2]+1)*o[1]*r,s=i+o[0]*r,u=a+o[1]*r;return Q(i,a,s,u,e)},t.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordForXYAndResolution_=function(t,e,n,r,o){var i=this.getZForResolution(n),a=n/this.getResolution(i),s=this.getOrigin(i),u=Ki(this.getTileSize(i),this.tmpSize_),l=r?.5:0,c=r?.5:0,h=Math.floor((t-s[0])/n+l),p=Math.floor((s[1]-e)/n+c),f=a*h/u[0],d=a*p/u[1];return r?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),dp(i,f,d,o)},t.prototype.getTileCoordForXYAndZ_=function(t,e,n,r,o){var i=this.getOrigin(n),a=this.getResolution(n),s=Ki(this.getTileSize(n),this.tmpSize_),u=r?.5:0,l=r?.5:0,c=Math.floor((t-i[0])/a+u),h=Math.floor((i[1]-e)/a+l),p=c/s[0],f=h/s[1];return r?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),dp(n,p,f,o)},t.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},t.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},t.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},t.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null},t.prototype.getZForResolution=function(t,e){var n=Object(ao["h"])(this.resolutions_,t,e||0);return Ft(n,this.minZoom,this.maxZoom)},t.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),r=this.minZoom;r<e;++r)n[r]=this.getTileRangeForExtentAndZ(t,r);this.fullTileRanges_=n},t}(),Cp=xp;function Tp(t){var e=t.getDefaultTileGrid();return e||(e=Mp(t),t.setDefaultTileGrid(e)),e}function Rp(t,e,n){var r=e[0],o=t.getTileCoordCenter(e),i=Np(n);if(H(i,o))return e;var a=Rt(i),s=Math.ceil((i[0]-o[0])/a);return o[0]+=a*s,t.getTileCoordForCoordAndZ(o,r)}function Pp(t,e,n,r){var o=void 0!==r?r:Y.TOP_LEFT,i=Lp(t,e,n);return new Cp({extent:t,origin:_t(t,o),resolutions:i,tileSize:n})}function Ip(t){var e=t||{},n=e.extent||Yr("EPSG:3857").getExtent(),r={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:Lp(n,e.maxZoom,e.tileSize,e.maxResolution)};return new Cp(r)}function Lp(t,e,n,r){for(var o=void 0!==e?e:ur,i=bt(t),a=Rt(t),s=Ki(void 0!==n?n:lr),u=r>0?r:Math.max(a/s[0],i/s[1]),l=o+1,c=new Array(l),h=0;h<l;++h)c[h]=u/Math.pow(2,h);return c}function Mp(t,e,n,r){var o=Np(t);return Pp(o,e,n,r)}function Np(t){t=Yr(t);var e=t.getExtent();if(!e){var n=180*or[ir.DEGREES]/t.getMetersPerUnit();e=Q(-n,-n,n,n)}return e}var Ap=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),jp=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX})||this;n.on,n.once,n.un,n.opaque_=void 0!==e.opaque&&e.opaque,n.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,n.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;var r=[256,256],o=e.tileGrid;return o&&Ki(o.getTileSize(o.getMinZoom()),r),n.tileCache=new wp(e.cacheSize||0),n.tmpSize=[0,0],n.key_=e.key||"",n.tileOptions={transition:e.transition},n.zDirection=e.zDirection?e.zDirection:0,n}return Ap(e,t),e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,r){var o=this.getTileCacheForProjection(t);if(!o)return!1;for(var i,a,s,u=!0,l=n.minX;l<=n.maxX;++l)for(var c=n.minY;c<=n.maxY;++c)a=gp(e,l,c),s=!1,o.containsKey(a)&&(i=o.get(a),s=i.getState()===Jn.LOADED,s&&(s=!1!==r(i))),s||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,r,o){return Object(S["b"])()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:Tp(t)},e.prototype.getTileCacheForProjection=function(t){return P(Wr(this.getProjection(),t),68),this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var r=this.getTileGridForProjection(n),o=this.getTilePixelRatio(e),i=Ki(r.getTileSize(t),this.tmpSize);return 1==o?i:Hi(i,o,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=Rp(r,t,n)),mp(t,r)?t:null},e.prototype.clear=function(){this.tileCache.clear()},e.prototype.refresh=function(){this.clear(),t.prototype.refresh.call(this)},e.prototype.updateCacheSize=function(t,e){var n=this.getTileCacheForProjection(e);t>n.highWaterMark&&(n.highWaterMark=t)},e.prototype.useTile=function(t,e,n,r){},e}(vh),Fp=function(t){function e(e,n){var r=t.call(this,e)||this;return r.tile=n,r}return Ap(e,t),e}(je["a"]),Gp=jp;function Dp(t,e){var n=/\{z\}/g,r=/\{x\}/g,o=/\{y\}/g,i=/\{-y\}/g;return function(a,s,u){return a?t.replace(n,a[0].toString()).replace(r,a[1].toString()).replace(o,a[2].toString()).replace(i,(function(){var t=a[0],n=e.getFullTileRange(t);P(n,55);var r=n.getHeight()-a[2]-1;return r.toString()})):void 0}}function kp(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;++o)r[o]=Dp(t[o],e);return Bp(r)}function Bp(t){return 1===t.length?t[0]:function(e,n,r){if(e){var o=_p(e),i=zt(o,t.length);return t[i](e,n,r)}}}function Yp(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var r=n[1].charCodeAt(0),o=n[2].charCodeAt(0),i=void 0;for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)e.push(t.replace(n[0],s.toString()));return e}return e.push(t),e}var Up=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Vp=function(t){function e(n){var r=t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,opaque:n.opaque,projection:n.projection,state:n.state,tileGrid:n.tileGrid,tilePixelRatio:n.tilePixelRatio,wrapX:n.wrapX,transition:n.transition,key:n.key,attributionsCollapsible:n.attributionsCollapsible,zDirection:n.zDirection})||this;return r.generateTileUrlFunction_=r.tileUrlFunction===e.prototype.tileUrlFunction,r.tileLoadFunction=n.tileLoadFunction,n.tileUrlFunction&&(r.tileUrlFunction=n.tileUrlFunction),r.urls=null,n.urls?r.setUrls(n.urls):n.url&&r.setUrl(n.url),r.tileLoadingKeys_={},r}return Up(e,t),e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,r=Object(S["c"])(n),o=n.getState();o==Jn.LOADING?(this.tileLoadingKeys_[r]=!0,e=Ep.TILELOADSTART):r in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[r],e=o==Jn.ERROR?Ep.TILELOADERROR:o==Jn.LOADED?Ep.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new Fp(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=Yp(t);this.urls=e,this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(kp(t,this.tileGrid),e):this.setKey(e)},e.prototype.tileUrlFunction=function(t,e,n){},e.prototype.useTile=function(t,e,n){var r=gp(t,e,n);this.tileCache.containsKey(r)&&this.tileCache.get(r)},e}(Gp),zp=Vp,Xp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wp=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Zp,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})||this;return n.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,n.tileClass=void 0!==e.tileClass?e.tileClass:Jh,n.tileCacheForProjection={},n.tileGridForProjection={},n.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,n.contextOptions_=!1===e.imageSmoothing?np:void 0,n.renderReprojectionEdges_=!1,n}return Xp(e,t),e.prototype.canExpireCache=function(){if(!Vu)return t.prototype.canExpireCache.call(this);if(this.tileCache.canExpireCache())return!0;for(var e in this.tileCacheForProjection)if(this.tileCacheForProjection[e].canExpireCache())return!0;return!1},e.prototype.expireCache=function(e,n){if(Vu){var r=this.getTileCacheForProjection(e);for(var o in this.tileCache.expireCache(this.tileCache==r?n:{}),this.tileCacheForProjection){var i=this.tileCacheForProjection[o];i.expireCache(i==r?n:{})}}else t.prototype.expireCache.call(this,e,n)},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.getGutterForProjection=function(t){return Vu&&this.getProjection()&&t&&!Wr(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getKey=function(){return t.prototype.getKey.call(this)+(this.contextOptions_?"\n"+JSON.stringify(this.contextOptions_):"")},e.prototype.getOpaque=function(e){return!(Vu&&this.getProjection()&&e&&!Wr(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(e){if(!Vu)return t.prototype.getTileGridForProjection.call(this,e);var n=this.getProjection();if(!this.tileGrid||n&&!Wr(n,e)){var r=Object(S["c"])(e);return r in this.tileGridForProjection||(this.tileGridForProjection[r]=Tp(e)),this.tileGridForProjection[r]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(e){if(!Vu)return t.prototype.getTileCacheForProjection.call(this,e);var n=this.getProjection();if(!n||Wr(n,e))return this.tileCache;var r=Object(S["c"])(e);return r in this.tileCacheForProjection||(this.tileCacheForProjection[r]=new wp(this.tileCache.highWaterMark)),this.tileCacheForProjection[r]},e.prototype.createTile_=function(t,e,n,r,o,i){var a=[t,e,n],s=this.getTileCoordForTileUrlFunction(a,o),u=s?this.tileUrlFunction(s,r,o):void 0,l=new this.tileClass(a,void 0!==u?Jn.IDLE:Jn.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=i,l.addEventListener(ce["a"].CHANGE,this.handleTileChange.bind(this)),l},e.prototype.getTile=function(t,e,n,r,o){var i=this.getProjection();if(Vu&&i&&o&&!Wr(i,o)){var a=this.getTileCacheForProjection(o),s=[t,e,n],u=void 0,l=yp(s);a.containsKey(l)&&(u=a.get(l));var c=this.getKey();if(u&&u.key==c)return u;var h=this.getTileGridForProjection(i),p=this.getTileGridForProjection(o),f=this.getTileCoordForTileUrlFunction(s,o),d=new hp(i,h,o,p,s,f,this.getTilePixelRatio(r),this.getGutter(),function(t,e,n,r){return this.getTileInternal(t,e,n,r,i)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.contextOptions_);return d.key=c,u?(d.interimTile=u,d.refreshInterimChain(),a.replace(l,d)):a.set(l,d),d}return this.getTileInternal(t,e,n,r,i||o)},e.prototype.getTileInternal=function(t,e,n,r,o){var i=null,a=gp(t,e,n),s=this.getKey();if(this.tileCache.containsKey(a)){if(i=this.tileCache.get(a),i.key!=s){var u=i;i=this.createTile_(t,e,n,r,o,s),u.getState()==Jn.IDLE?i.interimTile=u.interimTile:i.interimTile=u,i.refreshInterimChain(),this.tileCache.replace(a,i)}}else i=this.createTile_(t,e,n,r,o,s),this.tileCache.set(a,i);return i},e.prototype.setRenderReprojectionEdges=function(t){if(Vu&&this.renderReprojectionEdges_!=t){for(var e in this.renderReprojectionEdges_=t,this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){if(Vu){var n=Yr(t);if(n){var r=Object(S["c"])(n);r in this.tileGridForProjection||(this.tileGridForProjection[r]=e)}}},e}(zp);function Zp(t,e){t.getImage().src=e}var Hp=Wp,Kp=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qp=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.projection?r.projection:"EPSG:3857",i=void 0!==r.tileGrid?r.tileGrid:Ip({extent:Np(o),maxResolution:r.maxResolution,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize});return n=t.call(this,{attributions:r.attributions,cacheSize:r.cacheSize,crossOrigin:r.crossOrigin,imageSmoothing:r.imageSmoothing,opaque:r.opaque,projection:o,reprojectionErrorThreshold:r.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:r.tileLoadFunction,tilePixelRatio:r.tilePixelRatio,tileUrlFunction:r.tileUrlFunction,url:r.url,urls:r.urls,wrapX:void 0===r.wrapX||r.wrapX,transition:r.transition,attributionsCollapsible:r.attributionsCollapsible,zDirection:r.zDirection})||this,n}return Kp(e,t),e}(Hp),Jp=qp,$p={name:"ol-source-xyz",setup:function(t){var e=Object(O["inject"])("tileLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new Jp(r)}));return Object(O["watch"])(o,(function(){e.value.setSource(o.value)})),Object(O["watch"])(e,(function(){e.value.setSource(o.value)})),Object(O["onMounted"])((function(){e.value.setSource(o.value)})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),{layer:e,source:o}},props:{url:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String},maxZoom:{type:Number,default:28},minZoom:{type:Number,default:0},opaque:{type:Boolean},projection:{type:String,default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tileSize:{type:Array,default:function(){return[256,256]}},tilePixelRatio:{type:Number,default:1},tileKey:{type:String},transition:{type:Number}}};$p.render=Vh;var Qp=$p;function tf(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var ef=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),nf='&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.',rf=function(t){function e(e){var n,r=this,o=e||{};n=void 0!==o.attributions?o.attributions:[nf];var i=void 0!==o.crossOrigin?o.crossOrigin:"anonymous",a=void 0!==o.url?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return r=t.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:i,imageSmoothing:o.imageSmoothing,maxZoom:void 0!==o.maxZoom?o.maxZoom:19,opaque:void 0===o.opaque||o.opaque,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:a,wrapX:o.wrapX,zDirection:o.zDirection})||this,r}return ef(e,t),e}(Jp),of=rf,af={name:"ol-source-osm",setup:function(t){var e=Object(O["inject"])("tileLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new of(r)}));return Object(O["watch"])(o,(function(){e.value.setSource(o.value)})),Object(O["watch"])(e,(function(){e.value.setSource(o.value)})),Object(O["onMounted"])((function(){e.value.setSource(o.value)})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),{layer:e,source:o}},props:{attributions:{type:String},cacheSize:{type:Number,default:2048},crossOrigin:{type:String,default:"anonymous"},imageSmoothing:{type:Boolean,default:!0},minZoom:{type:Number,default:0},maxZoom:{type:Number,default:19},opaque:{type:Boolean,default:!0},reprojectionErrorThreshold:{type:Number,default:.5},transition:{type:Number,default:250},url:{type:String,default:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png"},wrapX:{type:Boolean,default:!0}}};af.render=tf;var sf=af;function uf(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var lf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),cf=function(t){function e(e,n,r,o,i,a,s){var u=this,l=e.getExtent(),c=n.getExtent(),h=c?Et(r,c):r,p=vt(h),f=ap(e,n,p,o),d=Uu,g=new ep(e,n,h,l,f*d,o),y=g.calculateSourceExtent(),v=a(y,f,i),_=v?mu.IDLE:mu.EMPTY,m=v?v.getPixelRatio():1;return u=t.call(this,r,o,m,_)||this,u.targetProj_=n,u.maxSourceExtent_=l,u.triangulation_=g,u.targetResolution_=o,u.targetExtent_=r,u.sourceImage_=v,u.sourcePixelRatio_=m,u.contextOptions_=s,u.canvas_=null,u.sourceListenerKey_=null,u}return lf(e,t),e.prototype.disposeInternal=function(){this.state==mu.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==mu.LOADED){var e=Rt(this.targetExtent_)/this.targetResolution_,n=bt(this.targetExtent_)/this.targetResolution_;this.canvas_=up(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.contextOptions_)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==mu.IDLE){this.state=mu.LOADING,this.changed();var t=this.sourceImage_.getState();t==mu.LOADED||t==mu.ERROR?this.reproject_():(this.sourceListenerKey_=Object(fe["a"])(this.sourceImage_,ce["a"].CHANGE,(function(t){var e=this.sourceImage_.getState();e!=mu.LOADED&&e!=mu.ERROR||(this.unlistenSource_(),this.reproject_())}),this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){Object(fe["c"])(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(Cc),hf=cf,pf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),ff={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},df=function(t){function e(e,n){var r=t.call(this,e)||this;return r.image=n,r}return pf(e,t),e}(je["a"]),gf=function(t){function e(e){var n=t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state})||this;return n.on,n.once,n.un,n.resolutions_=void 0!==e.resolutions?e.resolutions:null,n.reprojectedImage_=null,n.reprojectedRevision_=0,n.contextOptions_=!1===e.imageSmoothing?np:void 0,n}return pf(e,t),e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getContextOptions=function(){return this.contextOptions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=Object(ao["h"])(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,r){var o=this.getProjection();if(Vu&&o&&r&&!Wr(o,r)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Wr(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==e&&it(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new hf(o,r,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,o)}.bind(this),this.contextOptions_),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return o&&(r=o),this.getImageInternal(t,e,n,r)},e.prototype.getImageInternal=function(t,e,n,r){return Object(S["b"])()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case mu.LOADING:this.loading=!0,this.dispatchEvent(new df(ff.IMAGELOADSTART,e));break;case mu.LOADED:this.loading=!1,this.dispatchEvent(new df(ff.IMAGELOADEND,e));break;case mu.ERROR:this.loading=!1,this.dispatchEvent(new df(ff.IMAGELOADERROR,e));break;default:}},e}(vh);function yf(t,e){t.getImage().src=e}var vf=gf,_f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),mf=function(t){function e(e){var n=this,r=void 0!==e.crossOrigin?e.crossOrigin:null,o=void 0!==e.imageLoadFunction?e.imageLoadFunction:yf;return n=t.call(this,{attributions:e.attributions,imageSmoothing:e.imageSmoothing,projection:Yr(e.projection)})||this,n.url_=e.url,n.imageExtent_=e.imageExtent,n.image_=new Ic(n.imageExtent_,void 0,1,n.url_,r,o),n.imageSize_=e.imageSize?e.imageSize:null,n.image_.addEventListener(ce["a"].CHANGE,n.handleImageChange.bind(n)),n}return _f(e,t),e.prototype.getImageExtent=function(){return this.imageExtent_},e.prototype.getImageInternal=function(t,e,n,r){return Pt(t,this.image_.getExtent())?this.image_:null},e.prototype.getUrl=function(){return this.url_},e.prototype.handleImageChange=function(e){if(this.image_.getState()==mu.LOADED){var n=this.image_.getExtent(),r=this.image_.getImage(),o=void 0,i=void 0;this.imageSize_?(o=this.imageSize_[0],i=this.imageSize_[1]):(o=r.width,i=r.height);var a=Rt(n),s=bt(n),u=a/o,l=s/i,c=o,h=i;if(u>l?c=Math.round(a/l):h=Math.round(s/u),c!==o||h!==i){var p=Object(Ke["a"])(c,h);Object(ae["a"])(p,this.getContextOptions());var f=p.canvas;p.drawImage(r,0,0,o,i,0,0,f.width,f.height),this.image_.setImage(f)}}t.prototype.handleImageChange.call(this,e)},e}(vf),Of=mf,bf={name:"ol-source-image-static",setup:function(t){var e=Object(O["inject"])("imageLayer"),n=As(t),r=n.properties,o=function(){return new Of(Ns(Ns({},r),{},{projection:"string"==typeof r.projection?r.projection:new hr(Ns({},r.projection))}))},i=o();return Object(O["watch"])(r,(function(){e.setSource(null),i=o(),e.setSource(i)})),Object(O["onMounted"])((function(){e.setSource(i)})),Object(O["onUnmounted"])((function(){e.setSource(null)})),{layer:e,source:i}},props:{attributions:{type:String},crossOrigin:{type:String},imageExtent:{type:Array},projection:{type:[String,Object]},imageSmoothing:{type:Boolean,default:!0},imageSize:{type:Array},url:{type:String}}};bf.render=uf;var wf=bf;function Ef(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Sf={KVP:"KVP",REST:"REST"};function xf(t,e){var n=[];Object.keys(e).forEach((function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))}));var r=n.join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+r}var Cf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Tf=function(t){function e(e){var n=t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})||this;return n.matrixIds_=e.matrixIds,n}return Cf(e,t),e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(Cp),Rf=Tf;var Pf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),If=function(t){function e(e){var n=this,r=void 0!==e.requestEncoding?e.requestEncoding:Sf.KVP,o=e.tileGrid,i=e.urls;return void 0===i&&void 0!==e.url&&(i=Yp(e.url)),n=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,imageSmoothing:e.imageSmoothing,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,urls:i,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition,zDirection:e.zDirection})||this,n.version_=void 0!==e.version?e.version:"1.0.0",n.format_=void 0!==e.format?e.format:"image/jpeg",n.dimensions_=void 0!==e.dimensions?e.dimensions:{},n.layer_=e.layer,n.matrixSet_=e.matrixSet,n.style_=e.style,n.requestEncoding_=r,n.setKey(n.getKeyForDimensions_()),i&&i.length>0&&(n.tileUrlFunction=Bp(i.map(n.createFromWMTSTemplate.bind(n)))),n}return Pf(e,t),e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(Bp(t.map(this.createFromWMTSTemplate.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){Object(ae["a"])(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e.prototype.createFromWMTSTemplate=function(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==Sf.KVP&&Object(ae["a"])(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==Sf.KVP?xf(t,n):t.replace(/\{(\w+?)\}/g,(function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t}));var r=this.tileGrid,o=this.dimensions_;return function(n,i,a){if(n){var s={TileMatrix:r.getMatrixId(n[0]),TileCol:n[1],TileRow:n[2]};Object(ae["a"])(s,o);var u=t;return u=e==Sf.KVP?xf(u,s):u.replace(/\{(\w+?)\}/g,(function(t,e){return s[e]})),u}}},e}(Hp),Lf=If;var Mf={name:"ol-source-wmts",setup:function(t){var e=Object(O["inject"])("tileLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return Yr(r.projection).getExtent()})),i=Object(O["computed"])((function(){return Ct(o.value)})),a=Object(O["computed"])((function(){return Rt(o.value)/256})),s=Object(O["computed"])((function(){for(var t=new Array(14),e=new Array(14),n=0;n<14;++n)t[n]=a.value/Math.pow(2,n),e[n]=n;return new Rf({origin:i.value,resolutions:t,matrixIds:e})})),u=Object(O["computed"])((function(){return new Lf(Ns(Ns({},r),{},{projection:"string"==typeof r.projection?r.projection:new hr(Ns({},r.projection)),tileGrid:s.value}))}));return Object(O["watch"])(u,(function(){e.value.setSource(u.value)})),Object(O["watch"])(e,(function(){e.value.setSource(u.value)})),Object(O["onMounted"])((function(){e.value.setSource(u.value)})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),{tileLayer:e,source:u}},props:{attributions:{type:String},cacheSize:{type:Number},crossOrigin:{type:String},imageSmoothing:{type:Boolean,default:!0},projection:{type:[String,Object],default:"EPSG:3857"},reprojectionErrorThreshold:{type:Number,default:.5},tilePixelRatio:{type:Number,default:1},format:{type:String,default:"image/jpeg"},version:{type:String,default:"1.0.0"},matrixSet:{type:String},dimensions:{type:Object},url:{type:String},urls:{type:Array},wrapX:{type:Boolean,default:!1},transition:{type:Number},layer:{type:String},style:{type:String}}};Mf.render=Ef;var Nf=Mf;function Af(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var jf={name:"ol-source-vector",setup:function(t){var e=Object(O["inject"])("vectorLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new Ph(r)})),i=function(){e.value.setSource(null),e.value.setSource(o.value),e.value.changed()};return Object(O["watch"])(r,(function(){i()})),Object(O["watch"])(e,(function(){i()})),Object(O["onMounted"])((function(){e.value.setSource(o.value)})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),Object(O["provide"])("vectorSource",o),{layer:e,source:o}},props:{attributions:{type:[String,Array]},features:{type:Array,default:function(){return[]}},format:{type:Object},loader:{type:Function},overlaps:{type:Boolean,default:!0},projection:{type:String,default:"EPSG:3857"},strategy:{type:Function},url:{type:[String,Function]},useSpatialIndex:{type:Boolean,default:!0},wrapX:{type:Boolean,default:!0}}};jf.render=Af;var Ff=jf;function Gf(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var Df={name:"ol-source-cluster",setup:function(t){var e=Object(O["inject"])("vectorLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){var t=new Mh(r);return t})),i=function(){e.value.setSource(null),e.value.setSource(o.value),e.value.changed()};return Object(O["watch"])(r,(function(){i()})),Object(O["watch"])(e,(function(){i()})),Object(O["onMounted"])((function(){e.value.setSource(o.value),e.value.changed()})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),Object(O["provide"])("vectorLayer",o),{layer:e,source:o}},props:{attributions:{type:[String,Array]},distance:{type:Number,default:20},geometryFunction:{type:Function,default:function(t){return t.getGeometry()}},wrapX:{type:Boolean,default:!0}}};Df.render=Gf;var kf=Df;function Bf(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}function Yf(t,e,n,r){var o=document.createElement("script"),i="olc_"+Object(S["c"])(e);function a(){delete window[i],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(-1==t.indexOf("?")?"?":"&")+(r||"callback")+"="+i;var s=setTimeout((function(){a(),n&&n()}),1e4);window[i]=function(t){clearTimeout(s),a(),e(t)},document.getElementsByTagName("head")[0].appendChild(o)}var Uf=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Vf(t){var e,n,r=t[0],o=new Array(r),i=1<<r-1;for(e=0;e<r;++e)n=48,t[1]&i&&(n+=1),t[2]&i&&(n+=2),o[e]=String.fromCharCode(n),i>>=1;return o.join("")}var zf='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>',Xf=function(t){function e(e){var n=this,r=void 0!==e.hidpi&&e.hidpi;n=t.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",imageSmoothing:e.imageSmoothing,opaque:!0,projection:Yr("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:pe.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:r?2:1,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,zDirection:e.zDirection})||this,n.hidpi_=r,n.culture_=void 0!==e.culture?e.culture:"en-us",n.maxZoom_=void 0!==e.maxZoom?e.maxZoom:-1,n.apiKey_=e.key,n.imagerySet_=e.imagerySet;var o="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+n.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+n.apiKey_+"&c="+n.culture_;return Yf(o,n.handleImageryMetadataResponse.bind(n),void 0,"jsonp"),n}return Uf(e,t),e.prototype.getApiKey=function(){return this.apiKey_},e.prototype.getImagerySet=function(){return this.imagerySet_},e.prototype.handleImageryMetadataResponse=function(t){if(200==t.statusCode&&"OK"==t.statusDescription&&"ValidCredentials"==t.authenticationResultCode&&1==t.resourceSets.length&&1==t.resourceSets[0].resources.length){var e=t.resourceSets[0].resources[0],n=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,r=this.getProjection(),o=Np(r),i=this.hidpi_?2:1,a=e.imageWidth==e.imageHeight?e.imageWidth/i:[e.imageWidth/i,e.imageHeight/i],s=Ip({extent:o,minZoom:e.zoomMin,maxZoom:n,tileSize:a});this.tileGrid=s;var u=this.culture_,l=this.hidpi_;if(this.tileUrlFunction=Bp(e.imageUrlSubdomains.map((function(t){var n=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",u);return function(t,e,o){if(t){dp(t[0],t[1],t[2],n);var i=r;return l&&(i+="&dpi=d1&device=mobile"),i.replace("{quadkey}",Vf(n))}}}))),e.imageryProviders){var c=Zr(Yr("EPSG:4326"),this.getProjection());this.setAttributions(function(t){var n=[],r=t.viewState,o=this.getTileGrid(),i=o.getZForResolution(r.resolution,this.zDirection),a=o.getTileCoordForCoordAndZ(r.center,i),s=a[0];return e.imageryProviders.map((function(e){for(var r=!1,o=e.coverageAreas,i=0,a=o.length;i<a;++i){var u=o[i];if(s>=u.zoomMin&&s<=u.zoomMax){var l=u.bbox,h=[l[1],l[0],l[3],l[2]],p=At(h,c);if(Pt(p,t.extent)){r=!0;break}}}r&&n.push(e.attribution)})),n.push(zf),n}.bind(this))}this.setState(pe.READY)}else this.setState(pe.ERROR)},e}(Hp),Wf=Xf,Zf={name:"ol-source-bingmaps",setup:function(t){var e=Object(O["inject"])("tileLayer"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new Wf(Ns(Ns({},r),{},{key:r.apiKey}))}));return Object(O["watch"])(o,(function(){e.value.setSource(o.value)})),Object(O["watch"])(e,(function(){e.value.setSource(o.value)})),Object(O["onMounted"])((function(){e.value.setSource(o.value)})),Object(O["onUnmounted"])((function(){e.value.setSource(null)})),{layer:e,source:o}},props:{cacheSize:{type:Number},hidpi:{type:Boolean,default:!1},culture:{type:String,default:"en-us"},apiKey:{type:String},imagerySet:{type:String},imageSmoothing:{type:Boolean,default:!0},maxZoom:{type:Number,default:21},reprojectionErrorThreshold:{type:Number,default:.5},tileLoadFunction:{type:Function,default:function(t,e){return t.getImage().src=e}},wrapX:{type:Boolean,default:!0},transition:{type:Number}}};Zf.render=Bf;var Hf=Zf;function Kf(t){Kf.installed||(Kf.installed=!0,t.component(Qp.name,Qp),t.component(sf.name,sf),t.component(wf.name,wf),t.component(Nf.name,Nf),t.component(Ff.name,Ff),t.component(kf.name,kf),t.component(Hf.name,Hf))}var qf=Kf;function Jf(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var $f=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qf=["fullscreenchange","webkitfullscreenchange","MSFullscreenChange"],td={ENTERFULLSCREEN:"enterfullscreen",LEAVEFULLSCREEN:"leavefullscreen"},ed=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this,n.on,n.once,n.un,n.cssClassName_=void 0!==r.className?r.className:"ol-full-screen",n.activeClassName_=void 0!==r.activeClassName?r.activeClassName.split(" "):[n.cssClassName_+"-true"],n.inactiveClassName_=void 0!==r.inactiveClassName?r.inactiveClassName.split(" "):[n.cssClassName_+"-false"];var o=void 0!==r.label?r.label:"⤢";n.labelNode_="string"===typeof o?document.createTextNode(o):o;var i=void 0!==r.labelActive?r.labelActive:"×";n.labelActiveNode_="string"===typeof i?document.createTextNode(i):i,n.button_=document.createElement("button");var a=r.tipLabel?r.tipLabel:"Toggle full-screen";n.setClassName_(n.button_,rd()),n.button_.setAttribute("type","button"),n.button_.title=a,n.button_.appendChild(n.labelNode_),n.button_.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n),!1);var s=n.cssClassName_+" "+Ye+" "+Ve+" "+(nd()?"":Ue),u=n.element;return u.className=s,u.appendChild(n.button_),n.keys_=void 0!==r.keys&&r.keys,n.source_=r.source,n}return $f(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleFullScreen_()},e.prototype.handleFullScreen_=function(){if(nd()){var t=this.getMap();if(t)if(rd())ad();else{var e=void 0;e=this.source_?"string"===typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?id(e):od(e)}}},e.prototype.handleFullScreenChange_=function(){var t=this.getMap();rd()?(this.setClassName_(this.button_,!0),Object(Ke["g"])(this.labelActiveNode_,this.labelNode_),this.dispatchEvent(td.ENTERFULLSCREEN)):(this.setClassName_(this.button_,!1),Object(Ke["g"])(this.labelNode_,this.labelActiveNode_),this.dispatchEvent(td.LEAVEFULLSCREEN)),t&&t.updateSize()},e.prototype.setClassName_=function(t,e){var n,r,o,i=this.activeClassName_,a=this.inactiveClassName_,s=e?i:a;(n=t.classList).remove.apply(n,i),(r=t.classList).remove.apply(r,a),(o=t.classList).add.apply(o,s)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e)for(var n=0,r=Qf.length;n<r;++n)this.listenerKeys.push(Object(fe["a"])(document,Qf[n],this.handleFullScreenChange_,this))},e}(ta["default"]);function nd(){var t=document.body;return!!(t["webkitRequestFullscreen"]||t["msRequestFullscreen"]&&document["msFullscreenEnabled"]||t.requestFullscreen&&document.fullscreenEnabled)}function rd(){return!!(document["webkitIsFullScreen"]||document["msFullscreenElement"]||document.fullscreenElement)}function od(t){t.requestFullscreen?t.requestFullscreen():t["msRequestFullscreen"]?t["msRequestFullscreen"]():t["webkitRequestFullscreen"]&&t["webkitRequestFullscreen"]()}function id(t){t["webkitRequestFullscreen"]?t["webkitRequestFullscreen"]():od(t)}function ad(){document.exitFullscreen?document.exitFullscreen():document["msExitFullscreen"]?document["msExitFullscreen"]():document["webkitExitFullscreen"]&&document["webkitExitFullscreen"]()}var sd=ed;function ud(t,e){var n=Object(O["inject"])("map"),r=As(e),o=r.properties,i=Object(O["computed"])((function(){return new t(Ns({},o))}));return Object(O["watch"])(i,(function(t,e){n.removeControl(e),n.addControl(t),n.changed()})),Object(O["onMounted"])((function(){n.addControl(i.value),n.changed()})),Object(O["onUnmounted"])((function(){n.removeControl(i.value),n.changed()})),{map:n,control:i}}var ld={name:"ol-fullscreen-control",setup:function(t){var e=ud(sd,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-full-screen"},label:{type:String,default:"⤢"},labelActive:{type:String,default:"×"},activeClassName:{type:String,default:"ol-full-screen-true"},inactiveClassName:{type:String,default:"ol-full-screen-false"},tipLabel:{type:String,default:"Toggle full-screen"},keys:{type:Boolean,default:!1},target:{type:Object,default:void 0},source:{type:Object,default:void 0}}};ld.render=Jf;var cd=ld;function hd(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var pd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),fd="projection",dd="coordinateFormat",gd=function(t){function e(e){var n=this,r=e||{},o=document.createElement("div");o.className=void 0!==r.className?r.className:"ol-mouse-position",n=t.call(this,{element:o,render:r.render,target:r.target})||this,n.on,n.once,n.un,n.addChangeListener(fd,n.handleProjectionChanged_),r.coordinateFormat&&n.setCoordinateFormat(r.coordinateFormat),r.projection&&n.setProjection(r.projection);var i=!0,a="&#160;";return"undefinedHTML"in r?(void 0!==r.undefinedHTML&&(a=r.undefinedHTML),i=!!a):"placeholder"in r&&(!1===r.placeholder?i=!1:a=String(r.placeholder)),n.placeholder_=a,n.renderOnMouseOut_=i,n.renderedHTML_=o.innerHTML,n.mapProjection_=null,n.transform_=null,n}return pd(e,t),e.prototype.handleProjectionChanged_=function(){this.transform_=null},e.prototype.getCoordinateFormat=function(){return this.get(dd)},e.prototype.getProjection=function(){return this.get(fd)},e.prototype.handleMouseMove=function(t){var e=this.getMap();this.updateHTML_(e.getEventPixel(t))},e.prototype.handleMouseOut=function(t){this.updateHTML_(null)},e.prototype.setMap=function(e){if(t.prototype.setMap.call(this,e),e){var n=e.getViewport();this.listenerKeys.push(Object(fe["a"])(n,Un.POINTERMOVE,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push(Object(fe["a"])(n,Un.POINTEROUT,this.handleMouseOut,this)),this.updateHTML_(null)}},e.prototype.setCoordinateFormat=function(t){this.set(dd,t)},e.prototype.setProjection=function(t){this.set(fd,Yr(t))},e.prototype.updateHTML_=function(t){var e=this.placeholder_;if(t&&this.mapProjection_){if(!this.transform_){var n=this.getProjection();this.transform_=n?Zr(this.mapProjection_,n):Dr}var r=this.getMap(),o=r.getCoordinateFromPixelInternal(t);if(o){var i=$r();i&&(this.transform_=Zr(this.mapProjection_,i)),this.transform_(o,o);var a=this.getCoordinateFormat();e=a?a(o):o.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},e.prototype.render=function(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null},e}(ta["default"]),yd=gd,vd={name:"ol-mouseposition-control",setup:function(t){var e=ud(yd,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-mouse-position"},coordinateFormat:{type:String},projection:{type:String},render:{type:Function},target:{type:HTMLElement},undefinedHTML:{type:String,default:"&#160;"}}};vd.render=hd;var _d=vd;function md(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Od={name:"ol-attribution-control",setup:function(t){var e=ud(ra,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-attribution"},target:{type:HTMLElement},collapsible:{type:Boolean},collapsed:{type:Boolean,default:!0},tipLabel:{type:String,default:"Attributions"},label:{type:String,default:"i"},expandClassName:{type:String,default:"ol-attribution-expand"},collapseLabel:{type:String,default:"»"},collapseClassName:{type:String,default:"ol-attribution-collapse"},render:{type:Function}}};Od.render=md;var bd=Od;function wd(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var Ed=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sd=.75,xd=.1,Cd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Ed(e,t),e.prototype.createRenderer=function(){return new Sn(this)},e}(Qi),Td=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,n.boundHandleRotationChanged_=n.handleRotationChanged_.bind(n),n.collapsed_=void 0===r.collapsed||r.collapsed,n.collapsible_=void 0===r.collapsible||r.collapsible,n.collapsible_||(n.collapsed_=!1),n.rotateWithView_=void 0!==r.rotateWithView&&r.rotateWithView,n.viewExtent_=void 0;var o=void 0!==r.className?r.className:"ol-overviewmap",i=void 0!==r.tipLabel?r.tipLabel:"Overview map",a=void 0!==r.collapseLabel?r.collapseLabel:"«";"string"===typeof a?(n.collapseLabel_=document.createElement("span"),n.collapseLabel_.textContent=a):n.collapseLabel_=a;var s=void 0!==r.label?r.label:"»";"string"===typeof s?(n.label_=document.createElement("span"),n.label_.textContent=s):n.label_=s;var u=n.collapsible_&&!n.collapsed_?n.collapseLabel_:n.label_,l=document.createElement("button");l.setAttribute("type","button"),l.title=i,l.appendChild(u),l.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n),!1),n.ovmapDiv_=document.createElement("div"),n.ovmapDiv_.className="ol-overviewmap-map",n.view_=r.view,n.ovmap_=new Cd({view:r.view});var c=n.ovmap_;r.layers&&r.layers.forEach((function(t){c.addLayer(t)}));var h=document.createElement("div");h.className="ol-overviewmap-box",h.style.boxSizing="border-box",n.boxOverlay_=new tu({position:[0,0],positioning:qs.CENTER_CENTER,element:h}),n.ovmap_.addOverlay(n.boxOverlay_);var p=o+" "+Ye+" "+Ve+(n.collapsed_&&n.collapsible_?" "+ze:"")+(n.collapsible_?"":" ol-uncollapsible"),f=n.element;f.className=p,f.appendChild(n.ovmapDiv_),f.appendChild(l);var d=n,g=n.boxOverlay_,y=n.boxOverlay_.getElement(),v=function(t){return{clientX:t.clientX,clientY:t.clientY}},_=function(t){var e=v(t),n=c.getEventCoordinateInternal(e);g.setPosition(n)},m=function(t){var e=c.getEventCoordinateInternal(t);d.getMap().getView().setCenterInternal(e),window.removeEventListener("mousemove",_),window.removeEventListener("mouseup",m)};return y.addEventListener("mousedown",(function(){window.addEventListener("mousemove",_),window.addEventListener("mouseup",m)})),n}return Ed(e,t),e.prototype.setMap=function(e){var n=this.getMap();if(e!==n){if(n){var r=n.getView();r&&this.unbindView_(r),this.ovmap_.setTarget(null)}if(t.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push(Object(fe["a"])(e,Ae["a"].PROPERTYCHANGE,this.handleMapPropertyChange_,this));var o=e.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_())),this.ovmap_.isRendered()||this.updateBoxAfterOvmapIsRendered_()}}},e.prototype.handleMapPropertyChange_=function(t){if(t.key===Zn.VIEW){var e=t.oldValue;e&&this.unbindView_(e);var n=this.getMap().getView();this.bindView_(n)}else this.ovmap_.isRendered()||t.key!==Zn.TARGET&&t.key!==Zn.SIZE||this.ovmap_.updateSize()},e.prototype.bindView_=function(t){if(!this.view_){var e=new Wi({projection:t.getProjection()});this.ovmap_.setView(e)}t.addChangeListener(sr.ROTATION,this.boundHandleRotationChanged_),this.handleRotationChanged_()},e.prototype.unbindView_=function(t){t.removeChangeListener(sr.ROTATION,this.boundHandleRotationChanged_)},e.prototype.handleRotationChanged_=function(){this.rotateWithView_&&this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},e.prototype.validateExtent_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView(),o=r.calculateExtentInternal(n);if(!this.viewExtent_||!it(o,this.viewExtent_)){this.viewExtent_=o;var i=e.getSize(),a=e.getView(),s=a.calculateExtentInternal(i),u=e.getPixelFromCoordinateInternal(Ct(o)),l=e.getPixelFromCoordinateInternal(yt(o)),c=Math.abs(u[0]-l[0]),h=Math.abs(u[1]-l[1]),p=i[0],f=i[1];c<p*xd||h<f*xd||c>p*Sd||h>f*Sd?this.resetExtent_():K(s,o)||this.recenter_()}}},e.prototype.resetExtent_=function(){if(0!==Sd&&0!==xd){var t=this.getMap(),e=this.ovmap_,n=t.getSize(),r=t.getView(),o=r.calculateExtentInternal(n),i=e.getView(),a=Math.log(Sd/xd)/Math.LN2,s=1/(Math.pow(2,a/2)*xd);Mt(o,s),i.fitInternal(Ai(o))}},e.prototype.recenter_=function(){var t=this.getMap(),e=this.ovmap_,n=t.getView(),r=e.getView();r.setCenterInternal(n.getCenterInternal())},e.prototype.updateBox_=function(){var t=this.getMap(),e=this.ovmap_;if(t.isRendered()&&e.isRendered()){var n=t.getSize(),r=t.getView(),o=e.getView(),i=this.rotateWithView_?0:-r.getRotation(),a=this.boxOverlay_,s=this.boxOverlay_.getElement(),u=r.getCenterInternal(),l=r.getResolution(),c=o.getResolution(),h=n[0]*l/c,p=n[1]*l/c;if(a.setPosition(u),s){s.style.width=h+"px",s.style.height=p+"px";var f="rotate("+i+"rad)";s.style.transform=f}}},e.prototype.updateBoxAfterOvmapIsRendered_=function(){this.ovmapPostrenderKey_||(this.ovmapPostrenderKey_=Object(fe["b"])(this.ovmap_,Wn["a"].POSTRENDER,(function(t){delete this.ovmapPostrenderKey_,this.updateBox_()}),this))},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(ze),this.collapsed_?Object(Ke["g"])(this.collapseLabel_,this.label_):Object(Ke["g"])(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var t=this.ovmap_;if(!this.collapsed_){if(t.isRendered())return this.viewExtent_=void 0,void t.render();t.updateSize(),this.resetExtent_(),this.updateBoxAfterOvmapIsRendered_()}},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.setRotateWithView=function(t){this.rotateWithView_!==t&&(this.rotateWithView_=t,0!==this.getMap().getView().getRotation()&&(this.rotateWithView_?this.handleRotationChanged_():this.ovmap_.getView().setRotation(0),this.viewExtent_=void 0,this.validateExtent_(),this.updateBox_()))},e.prototype.getOverviewMap=function(){return this.ovmap_},e.prototype.render=function(t){this.validateExtent_(),this.updateBox_()},e}(ta["default"]),Rd=Td,Pd={name:"ol-overviewmap-control",setup:function(t){var e=Object(O["inject"])("map"),n=ud(Rd,t),r=n.control;return Object(O["onMounted"])((function(){r.value.setMap(e)})),Object(O["onUnmounted"])((function(){r.value.setMap(null)})),Object(O["provide"])("overviewMap",r),{control:r}},props:{className:{type:String,default:"ol-overviewmap"},collapsed:{type:Boolean,default:!0},collapseLabel:{type:String,default:"«"},collapsible:{type:Boolean,default:!0},label:{type:String,default:"»"},render:{type:Function},rotateWithView:{type:Boolean,default:!1},target:{type:HTMLElement},tipLabel:{type:String,default:"Overview map"}}};Pd.render=wd;var Id=Pd;function Ld(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Md=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Nd="units",Ad={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"},jd=[1,2,5],Fd=25.4/.28,Gd=function(t){function e(e){var n=this,r=e||{},o=void 0!==r.className?r.className:r.bar?"ol-scale-bar":"ol-scale-line";return n=t.call(this,{element:document.createElement("div"),render:r.render,target:r.target})||this,n.on,n.once,n.un,n.innerElement_=document.createElement("div"),n.innerElement_.className=o+"-inner",n.element.className=o+" "+Ye,n.element.appendChild(n.innerElement_),n.viewState_=null,n.minWidth_=void 0!==r.minWidth?r.minWidth:64,n.renderedVisible_=!1,n.renderedWidth_=void 0,n.renderedHTML_="",n.addChangeListener(Nd,n.handleUnitsChanged_),n.setUnits(r.units||Ad.METRIC),n.scaleBar_=r.bar||!1,n.scaleBarSteps_=r.steps||4,n.scaleBarText_=r.text||!1,n.dpi_=r.dpi||void 0,n}return Md(e,t),e.prototype.getUnits=function(){return this.get(Nd)},e.prototype.handleUnitsChanged_=function(){this.updateElement_()},e.prototype.setUnits=function(t){this.set(Nd,t)},e.prototype.setDpi=function(t){this.dpi_=t},e.prototype.updateElement_=function(){var t=this.viewState_;if(t){var e=t.center,n=t.projection,r=this.getUnits(),o=r==Ad.DEGREES?ir.DEGREES:ir.METERS,i=Ur(n,t.resolution,e,o),a=this.minWidth_*(this.dpi_||Fd)/Fd,s=a*i,u="";if(r==Ad.DEGREES){var l=or[ir.DEGREES];s*=l,s<l/60?(u="″",i*=3600):s<l?(u="′",i*=60):u="°"}else r==Ad.IMPERIAL?s<.9144?(u="in",i/=.0254):s<1609.344?(u="ft",i/=.3048):(u="mi",i/=1609.344):r==Ad.NAUTICAL?(i/=1852,u="nm"):r==Ad.METRIC?s<.001?(u="μm",i*=1e6):s<1?(u="mm",i*=1e3):s<1e3?u="m":(u="km",i/=1e3):r==Ad.US?s<.9144?(u="in",i*=39.37):s<1609.344?(u="ft",i/=.30480061):(u="mi",i/=1609.3472):P(!1,33);var c,h,p,f,d=3*Math.floor(Math.log(a*i)/Math.log(10));while(1){p=Math.floor(d/3);var g=Math.pow(10,p);if(c=jd[(d%3+3)%3]*g,h=Math.round(c/i),isNaN(h))return this.element.style.display="none",void(this.renderedVisible_=!1);if(h>=a)break;++d}f=this.scaleBar_?this.createScaleBar(h,c,u):c.toFixed(p<0?-p:0)+" "+u,this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=h&&(this.innerElement_.style.width=h+"px",this.renderedWidth_=h),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},e.prototype.createScaleBar=function(t,e,n){for(var r,o="1 : "+Math.round(this.getScaleForResolution()).toLocaleString(),i=[],a=t/this.scaleBarSteps_,s="#ffffff",u=0;u<this.scaleBarSteps_;u++)0===u&&i.push(this.createMarker("absolute",u)),i.push('<div><div class="ol-scale-singlebar" style="width: '+a+"px;background-color: "+s+';"></div>'+this.createMarker("relative",u)+(u%2===0||2===this.scaleBarSteps_?this.createStepText(u,t,!1,e,n):"")+"</div>"),u===this.scaleBarSteps_-1&&i.push(this.createStepText(u+1,t,!0,e,n)),s="#ffffff"===s?"#000000":"#ffffff";r=this.scaleBarText_?'<div class="ol-scale-text" style="width: '+t+'px;">'+o+"</div>":"";var l='<div style="display: flex;">'+r+i.join("")+"</div>";return l},e.prototype.createMarker=function(t,e){var n="absolute"===t?3:-10;return'<div class="ol-scale-step-marker" style="position: '+t+";top: "+n+'px;"></div>'},e.prototype.createStepText=function(t,e,n,r,o){var i=0===t?0:Math.round(r/this.scaleBarSteps_*t*100)/100,a=i+(0===t?"":" "+o),s=0===t?-3:e/this.scaleBarSteps_*-1,u=0===t?0:e/this.scaleBarSteps_*2;return'<div class="ol-scale-step-text" style="margin-left: '+s+"px;text-align: "+(0===t?"left":"center")+"; min-width: "+u+"px;left: "+(n?e+"px":"unset")+';">'+a+"</div>"},e.prototype.getScaleForResolution=function(){var t=Ur(this.viewState_.projection,this.viewState_.resolution,this.viewState_.center),e=this.dpi_||Fd,n=this.viewState_.projection.getMetersPerUnit(),r=1e3/25.4;return parseFloat(t.toString())*n*r*e},e.prototype.render=function(t){var e=t.frameState;this.viewState_=e?e.viewState:null,this.updateElement_()},e}(ta["default"]),Dd=Gd,kd={name:"ol-scaleline-control",setup:function(t){var e=ud(Dd,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-scale-line"},minWidth:{type:Number,default:64},render:{type:Function},target:{type:HTMLElement},units:{type:String,default:"metric"},bar:{type:Boolean,default:!1},steps:{type:Number,default:4},text:{type:Boolean,default:!1},dpi:{type:Number,default:void 0}}};kd.render=Ld;var Bd=kd;function Yd(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Ud={name:"ol-zoom-control",setup:function(t){var e=ud(la,t),n=e.control;return{control:n}},props:{duration:{type:Number,default:250},className:{type:String,default:"ol-zoom"},zoomInClassName:{type:String,default:"ol-zoom-in"},zoomOutClassName:{type:String,default:"ol-zoom-out"},zoomInLabel:{type:String,default:"+"},zoomOutLabel:{type:String,default:"-"},zoomInTipLabel:{type:String,default:"Zoom in"},zoomOutTipLabel:{type:String,default:"Zoom Out"},delta:{type:Number,default:1},target:{type:HTMLElement}}};Ud.render=Yd;var Vd=Ud;function zd(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Xd=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Wd={VERTICAL:0,HORIZONTAL:1},Zd=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),render:r.render})||this,n.dragListenerKeys_=[],n.currentResolution_=void 0,n.direction_=Wd.VERTICAL,n.dragging_,n.heightLimit_=0,n.widthLimit_=0,n.startX_,n.startY_,n.thumbSize_=null,n.sliderInitialized_=!1,n.duration_=void 0!==r.duration?r.duration:200;var o=void 0!==r.className?r.className:"ol-zoomslider",i=document.createElement("button");i.setAttribute("type","button"),i.className=o+"-thumb "+Ye;var a=n.element;return a.className=o+" "+Ye+" "+Ve,a.appendChild(i),a.addEventListener(Un.POINTERDOWN,n.handleDraggerStart_.bind(n),!1),a.addEventListener(Un.POINTERMOVE,n.handleDraggerDrag_.bind(n),!1),a.addEventListener(Un.POINTERUP,n.handleDraggerEnd_.bind(n),!1),a.addEventListener(ce["a"].CLICK,n.handleContainerClick_.bind(n),!1),i.addEventListener(ce["a"].CLICK,je["b"],!1),n}return Xd(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),e&&e.render()},e.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,n=t.offsetHeight;if(0===e&&0===n)return this.sliderInitialized_=!1;var r=getComputedStyle(t);e-=parseFloat(r["paddingRight"])+parseFloat(r["paddingLeft"]),n-=parseFloat(r["paddingTop"])+parseFloat(r["paddingBottom"]);var o=t.firstElementChild,i=getComputedStyle(o),a=o.offsetWidth+parseFloat(i["marginRight"])+parseFloat(i["marginLeft"]),s=o.offsetHeight+parseFloat(i["marginTop"])+parseFloat(i["marginBottom"]);return this.thumbSize_=[a,s],e>n?(this.direction_=Wd.HORIZONTAL,this.widthLimit_=e-a):(this.direction_=Wd.VERTICAL,this.heightLimit_=n-s),this.sliderInitialized_=!0},e.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),n=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(n),o=e.getConstrainedZoom(e.getZoomForResolution(r));e.animateInternal({zoom:o,duration:this.duration_,easing:_o})},e.prototype.handleDraggerStart_=function(t){if(!this.dragging_&&t.target===this.element.firstElementChild){var e=this.element.firstElementChild;if(this.getMap().getView().beginInteraction(),this.startX_=t.clientX-parseFloat(e.style.left),this.startY_=t.clientY-parseFloat(e.style.top),this.dragging_=!0,0===this.dragListenerKeys_.length){var n=this.handleDraggerDrag_,r=this.handleDraggerEnd_,o=this.getMap().getOwnerDocument();this.dragListenerKeys_.push(Object(fe["a"])(o,Un.POINTERMOVE,n,this),Object(fe["a"])(o,Un.POINTERUP,r,this))}}},e.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=t.clientX-this.startX_,n=t.clientY-this.startY_,r=this.getRelativePosition_(e,n);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_)}},e.prototype.handleDraggerEnd_=function(t){if(this.dragging_){var e=this.getMap().getView();e.endInteraction(),this.dragging_=!1,this.startX_=void 0,this.startY_=void 0,this.dragListenerKeys_.forEach(fe["c"]),this.dragListenerKeys_.length=0}},e.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),n=this.element.firstElementChild;this.direction_==Wd.HORIZONTAL?n.style.left=this.widthLimit_*e+"px":n.style.top=this.heightLimit_*e+"px"},e.prototype.getRelativePosition_=function(t,e){var n;return n=this.direction_===Wd.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,Ft(n,0,1)},e.prototype.getResolutionForPosition_=function(t){var e=this.getMap().getView().getResolutionForValueFunction();return e(1-t)},e.prototype.getPositionForResolution_=function(t){var e=this.getMap().getView().getValueForResolutionFunction();return Ft(1-e(t),0,1)},e.prototype.render=function(t){if(t.frameState&&(this.sliderInitialized_||this.initSlider_())){var e=t.frameState.viewState.resolution;this.currentResolution_=e,this.setThumbPosition_(e)}},e}(ta["default"]),Hd=Zd,Kd={name:"ol-zoomslider-control",setup:function(t){var e=ud(Hd,t),n=e.control;return{control:n}},props:{duration:{type:Number,default:200},className:{type:String,default:"ol-zoomslider"},render:{type:Function}}};Kd.render=zd;var qd=Kd;function Jd(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var $d=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qd=function(t){function e(e){var n=this,r=e||{};n=t.call(this,{element:document.createElement("div"),target:r.target})||this,n.extent=r.extent?r.extent:null;var o=void 0!==r.className?r.className:"ol-zoom-extent",i=void 0!==r.label?r.label:"E",a=void 0!==r.tipLabel?r.tipLabel:"Fit to extent",s=document.createElement("button");s.setAttribute("type","button"),s.title=a,s.appendChild("string"===typeof i?document.createTextNode(i):i),s.addEventListener(ce["a"].CLICK,n.handleClick_.bind(n),!1);var u=o+" "+Ye+" "+Ve,l=n.element;return l.className=u,l.appendChild(s),n}return $d(e,t),e.prototype.handleClick_=function(t){t.preventDefault(),this.handleZoomToExtent()},e.prototype.handleZoomToExtent=function(){var t=this.getMap(),e=t.getView(),n=this.extent?this.extent:e.getProjection().getExtent();e.fitInternal(Ai(n))},e}(ta["default"]),tg=Qd,eg={name:"ol-zoomtoextent-control",setup:function(t){var e=ud(tg,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-zoom-extent"},target:{type:HTMLElement},label:{type:String,default:"E"},tipLabel:{type:String,default:"Fit to extent"},extent:{type:Array}}};eg.render=Jd;var ng=eg;function rg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var og={name:"ol-rotate-control",setup:function(t){var e=ud(aa,t),n=e.control;return{control:n}},props:{className:{type:String,default:"ol-rotate"},label:{type:String,default:"⇧"},tipLabel:{type:String,default:"Reset rotation"},compassClassName:{type:String,default:"ol-compass"},duration:{type:Number,default:250},autoHide:{type:Boolean,default:!1},render:{type:Function},resetNorth:{type:Function},target:{type:HTMLElement}}};og.render=rg;var ig=og;function ag(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var sg=n("658f"),ug=n.n(sg),lg={name:"ol-context-menu",setup:function(t){var e=ud(ug.a,t),n=e.control;return{control:n}},props:{eventType:{type:String,default:"contextmenu"},defaultItems:{type:Boolean,default:!0},width:{type:Number,default:150},items:{type:Array,default:function(){return[]}}}};lg.render=ag;var cg=lg;function hg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var pg=function(t){t=t||{};var e=document.createElement("button"),n=document.createElement("div");n.className=(t.className||"ol-swipe")+" ol-unselectable ol-control",n.appendChild(e),n.addEventListener("mousedown",this.move.bind(this)),n.addEventListener("touchstart",this.move.bind(this)),ta["default"].call(this,{element:n}),this.precomposeRight_=this.precomposeRight.bind(this),this.precomposeLeft_=this.precomposeLeft.bind(this),this.postcompose_=this.postcompose.bind(this),this.layers=[],t.layers&&this.addLayer(t.layers,!1),t.rightLayers&&this.addLayer(t.rightLayers,!0),this.on("propertychange",function(){this.getMap()&&this.getMap().renderSync(),"horizontal"===this.get("orientation")?(this.element.style.top=100*this.get("position")+"%",this.element.style.left=""):("vertical"!==this.get("orientation")&&this.set("orientation","vertical"),this.element.style.left=100*this.get("position")+"%",this.element.style.top=""),this.element.classList.remove("horizontal","vertical"),this.element.classList.add(this.get("orientation"))}.bind(this)),this.set("position",t.position||.5),this.set("orientation",t.orientation||"vertical")};Ah(pg,ta["default"]),pg.prototype.setMap=function(t){var e,n;if(this.getMap()){for(e=0;e<this.layers.length;e++)n=this.layers[e],n.right?n.layer.un(["precompose","prerender"],this.precomposeRight_):n.layer.un(["precompose","prerender"],this.precomposeLeft_),n.layer.un(["postcompose","postrender"],this.postcompose_);this.getMap().renderSync()}if(ta["default"].prototype.setMap.call(this,t),t){for(this._listener=[],e=0;e<this.layers.length;e++)n=this.layers[e],n.right?n.layer.on(["precompose","prerender"],this.precomposeRight_):n.layer.on(["precompose","prerender"],this.precomposeLeft_),n.layer.on(["postcompose","postrender"],this.postcompose_);t.renderSync()}},pg.prototype.isLayer_=function(t){for(var e=0;e<this.layers.length;e++)if(this.layers[e].layer===t)return e;return-1},pg.prototype.addLayer=function(t,e){t instanceof Array||(t=[t]);for(var n=0;n<t.length;n++){var r=t[n];this.isLayer_(r)<0&&(this.layers.push({layer:r,right:e}),this.getMap()&&(e?r.on(["precompose","prerender"],this.precomposeRight_):r.on(["precompose","prerender"],this.precomposeLeft_),r.on(["postcompose","postrender"],this.postcompose_),this.getMap().renderSync()))}},pg.prototype.removeLayer=function(t){t instanceof Array||(t=[t]);for(var e=0;e<t.length;e++){var n=this.isLayer_(t[e]);n>=0&&this.getMap()&&(this.layers[n].right?t[e].un(["precompose","prerender"],this.precomposeRight_):t[e].un(["precompose","prerender"],this.precomposeLeft_),t[e].un(["postcompose","postrender"],this.postcompose_),this.layers.splice(n,1),this.getMap().renderSync())}},pg.prototype.move=function(t){var e,n=this;switch(t.type){case"touchcancel":case"touchend":case"mouseup":n.isMoving=!1,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(t){document.removeEventListener(t,n.move)}));break;case"mousedown":case"touchstart":n.isMoving=!0,["mouseup","mousemove","touchend","touchcancel","touchmove"].forEach((function(t){document.addEventListener(t,n.move.bind(n))}));case"mousemove":case"touchmove":if(n.isMoving)if("vertical"===n.get("orientation")){var r=t.pageX||t.touches&&t.touches.length&&t.touches[0].pageX||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageX;if(!r)break;r-=n.getMap().getTargetElement().getBoundingClientRect().left+window.pageXOffset-document.documentElement.clientLeft,e=n.getMap().getSize()[0],e=Math.min(Math.max(0,1-(e-r)/e),1),n.set("position",e)}else{var o=t.pageY||t.touches&&t.touches.length&&t.touches[0].pageY||t.changedTouches&&t.changedTouches.length&&t.changedTouches[0].pageY;if(!o)break;o-=n.getMap().getTargetElement().getBoundingClientRect().top+window.pageYOffset-document.documentElement.clientTop,e=n.getMap().getSize()[1],e=Math.min(Math.max(0,1-(e-o)/e),1),n.set("position",e)}break;default:break}},pg.prototype._drawRect=function(t,e){var n=t.inversePixelTransform;if(n){var r=[[e[0][0],e[0][1]],[e[0][0],e[1][1]],[e[1][0],e[1][1]],[e[1][0],e[0][1]],[e[0][0],e[0][1]]];r.forEach((function(e,r){e=[e[0]*n[0]-e[1]*n[1]+n[4],-e[0]*n[2]+e[1]*n[3]+n[5]],r?t.context.lineTo(e[0],e[1]):t.context.moveTo(e[0],e[1])}))}else{var o=t.frameState.pixelRatio;t.context.rect(e[0][0]*o,e[0][1]*o,e[1][0]*o,e[1][1]*o)}},pg.prototype.precomposeLeft=function(t){var e=t.context,n=t.frameState.size;e.save(),e.beginPath();var r=[[0,0],[n[0],n[1]]];"vertical"===this.get("orientation")?r[1]=[n[0]*this.get("position"),n[1]]:r[1]=[n[0],n[1]*this.get("position")],this._drawRect(t,r),e.clip()},pg.prototype.precomposeRight=function(t){var e=t.context,n=t.frameState.size;e.save(),e.beginPath();var r=[[0,0],[n[0],n[1]]];"vertical"===this.get("orientation")?r[0]=[n[0]*this.get("position"),0]:r[0]=[0,n[1]*this.get("position")],this._drawRect(t,r),e.clip()},pg.prototype.postcompose=function(t){t.target.getClassName&&"ol-layer"!==t.target.getClassName()&&t.target.get("declutter")?setTimeout((function(){t.context.restore()}),0):t.context.restore()};var fg=pg,dg={name:"ol-swipe-control",setup:function(t){var e=ud(fg,t),n=e.control,r=Object(O["toRefs"])(t),o=r.layerList;return o.value.forEach((function(t,e){n.value.addLayer(t,1==e)})),{control:n}},props:{layerList:{type:Array},className:{type:String,default:"ol-swipe"},position:{type:Number,default:.5},orientation:{type:String,default:"vertical"}}};dg.render=hg;var gg=dg;function yg(t){yg.installed||(yg.installed=!0,t.component(cd.name,cd),t.component(_d.name,_d),t.component(bd.name,bd),t.component(Id.name,Id),t.component(Bd.name,Bd),t.component(Vd.name,Vd),t.component(qd.name,qd),t.component(ng.name,ng),t.component(ig.name,ig),t.component(cg.name,cg),t.component(gg.name,gg))}var vg=yg;function _g(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}n("4ae1");function mg(t,e){return mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},mg(t,e)}function Og(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function bg(t,e,n){return bg=Og()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var o=Function.bind.apply(t,r),i=new o;return n&&mg(i,n.prototype),i},bg.apply(null,arguments)}function wg(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eg(t){if(Array.isArray(t))return wg(t)}n("e01a"),n("d3b7"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("a630");function Sg(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a");function xg(t,e){if(t){if("string"===typeof t)return wg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wg(t,e):void 0}}function Cg(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Tg(t){return Eg(t)||Sg(t)||xg(t)||Cg()}n("07ac");function Rg(t,e){var n=Object(O["inject"])("feature"),r=As(e),o=r.properties,i=Object(O["computed"])((function(){return bg(t,Tg(Object.values(o)))}));return Object(O["watch"])(o,(function(){n.value.setGeometry(i.value),n.value.changed()})),Object(O["watch"])(n,(function(){n.value.setGeometry(i.value)})),Object(O["onMounted"])((function(){n.value.setGeometry(i.value)})),Object(O["onUnmounted"])((function(){n.value.setGeometry(null)})),{geometry:i}}var Pg={name:"ol-geom-point",setup:function(t){var e=Rg(hi,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};Pg.render=_g;var Ig=Pg;function Lg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}function Mg(t,e,n,r,o,i,a){var s,u,l=(n-e)/r;if(1===l)s=e;else if(2===l)s=e,u=o;else if(0!==l){for(var c=t[e],h=t[e+1],p=0,f=[0],d=e+r;d<n;d+=r){var g=t[d],y=t[d+1];p+=Math.sqrt((g-c)*(g-c)+(y-h)*(y-h)),f.push(p),c=g,h=y}var v=o*p,_=Object(ao["a"])(f,v);_<0?(u=(v-f[-_-2])/(f[-_-1]-f[-_-2]),s=e+(-_-2)*r):s=e+_*r}var m=a>1?a:2,O=i||new Array(m);for(d=0;d<m;++d)O[d]=void 0===s?NaN:void 0===u?t[s+d]:Xt(t[s+d],t[s+r+d],u);return O}function Ng(t,e,n,r,o,i){if(n==e)return null;var a;if(o<t[e+r-1])return i?(a=t.slice(e,e+r),a[r-1]=o,a):null;if(t[n-1]<o)return i?(a=t.slice(n-r,n),a[r-1]=o,a):null;if(o==t[e+r-1])return t.slice(e,e+r);var s=e/r,u=n/r;while(s<u){var l=s+u>>1;o<t[(l+1)*r-1]?u=l:s=l+1}var c=t[s*r-1];if(o==c)return t.slice((s-1)*r,(s-1)*r+r);var h=t[(s+1)*r-1],p=(o-c)/(h-c);a=[];for(var f=0;f<r-1;++f)a.push(Xt(t[(s-1)*r+f],t[s*r+f],p));return a.push(o),a}function Ag(t,e,n,r,o,i,a){if(a)return Ng(t,e,n[n.length-1],r,o,i);var s;if(o<t[r-1])return i?(s=t.slice(0,r),s[r-1]=o,s):null;if(t[t.length-1]<o)return i?(s=t.slice(t.length-r),s[r-1]=o,s):null;for(var u=0,l=n.length;u<l;++u){var c=n[u];if(e!=c){if(o<t[e+r-1])return null;if(o<=t[c-1])return Ng(t,e,c,r,o,!1);e=c}}return null}var jg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fg=function(t){function e(e,n){var r=t.call(this)||this;return r.flatMidpoint_=null,r.flatMidpointRevision_=-1,r.maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?r.setCoordinates(e,n):r.setFlatCoordinates(n,e),r}return jg(e,t),e.prototype.appendCoordinate=function(t){this.flatCoordinates?Object(ao["c"])(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<Z(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Do(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Yo(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.forEachSegment=function(t){return _i(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=wo.XYM&&this.layout!=wo.XYZM)return null;var n=void 0!==e&&e;return Ng(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Mg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)},e.prototype.getLength=function(){return rc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Ho(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,wo.XY)},e.prototype.getType=function(){return nr.LINE_STRING},e.prototype.intersectsExtent=function(t){return mi(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Fo),Gg=Fg,Dg={name:"ol-geom-line-string",setup:function(t){var e=Rg(Gg,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};Dg.render=Lg;var kg=Dg;function Bg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Yg={name:"ol-geom-polygon",setup:function(t){var e=Rg(Mi,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};Yg.render=Bg;var Ug=Yg;function Vg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var zg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Xg=function(t){function e(e,n){var r=t.call(this)||this;return n&&!Array.isArray(e[0])?r.setFlatCoordinates(n,e):r.setCoordinates(e,n),r}return zg(e,t),e.prototype.appendPoint=function(t){this.flatCoordinates?Object(ao["c"])(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<Z(this.getExtent(),t,e))return r;for(var o=this.flatCoordinates,i=this.stride,a=0,s=o.length;a<s;a+=i){var u=Bt(t,e,o[a],o[a+1]);if(u<r){r=u;for(var l=0;l<i;++l)n[l]=o[a+l];n.length=i}}return r},e.prototype.getCoordinates=function(){return ti(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new hi(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,r=[],o=0,i=t.length;o<i;o+=n){var a=new hi(t.slice(o,o+n),e);r.push(a)}return r},e.prototype.getType=function(){return nr.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,r=0,o=e.length;r<o;r+=n){var i=e[r],a=e[r+1];if(q(t,i,a))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Xo(this.flatCoordinates,0,t,this.stride),this.changed()},e}(Fo),Wg=Xg,Zg={name:"ol-geom-multi-point",setup:function(t){var e=Rg(Wg,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};Zg.render=Vg;var Hg=Zg;function Kg(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var qg=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jg=function(t){function e(e,n,r){var o=t.call(this)||this;if(o.ends_=[],o.maxDelta_=-1,o.maxDeltaRevision_=-1,Array.isArray(e[0]))o.setCoordinates(e,n);else if(void 0!==n&&r)o.setFlatCoordinates(n,e),o.ends_=r;else{for(var i=o.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(i=h.getLayout()),Object(ao["c"])(s,h.getFlatCoordinates()),u.push(s.length)}o.setFlatCoordinates(i,s),o.ends_=u}return o}return qg(e,t),e.prototype.appendLineString=function(t){this.flatCoordinates?Object(ao["c"])(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){return r<Z(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(ko(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Uo(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,r))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=wo.XYM&&this.layout!=wo.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,o=void 0!==n&&n;return Ag(this.flatCoordinates,0,this.ends_,this.stride,t,r,o)},e.prototype.getCoordinates=function(){return ei(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Gg(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,r=[],o=0,i=0,a=e.length;i<a;++i){var s=e[i],u=new Gg(t.slice(o,s),n);r.push(u),o=s}return r},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,r=this.ends_,o=this.stride,i=0,a=r.length;i<a;++i){var s=r[i],u=Mg(e,n,s,o,.5);Object(ao["c"])(t,u),n=s}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Ko(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,r),new e(n,wo.XY,r)},e.prototype.getType=function(){return nr.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return Oi(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=Wo(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(Fo),$g=Jg,Qg={name:"ol-geom-multi-line-string",setup:function(t){var e=Rg($g,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};Qg.render=Kg;var ty=Qg;function ey(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}function ny(t,e,n,r){for(var o=[],i=$(),a=0,s=n.length;a<s;++a){var u=n[a];i=rt(t,e,u[0],r),o.push((i[0]+i[2])/2,(i[1]+i[3])/2),e=u[u.length-1]}return o}var ry=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),oy=function(t){function e(e,n,r){var o=t.call(this)||this;if(o.endss_=[],o.flatInteriorPointsRevision_=-1,o.flatInteriorPoints_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,!r&&!Array.isArray(e[0])){for(var i=o.getLayout(),a=e,s=[],u=[],l=0,c=a.length;l<c;++l){var h=a[l];0===l&&(i=h.getLayout());for(var p=s.length,f=h.getEnds(),d=0,g=f.length;d<g;++d)f[d]+=p;Object(ao["c"])(s,h.getFlatCoordinates()),u.push(f)}n=i,e=s,r=u}return void 0!==n&&r?(o.setFlatCoordinates(n,e),o.endss_=r):o.setCoordinates(e,n),o}return ry(e,t),e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;Object(ao["c"])(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var r=0,o=e.length;r<o;++r)e[r]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),r=0;r<t;++r)n[r]=this.endss_[r].slice();var o=new e(this.flatCoordinates.slice(),this.layout,n);return o.applyProperties(this),o},e.prototype.closestPointXY=function(t,e,n,r){return r<Z(this.getExtent(),t,e)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(Bo(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Vo(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,r))},e.prototype.containsXY=function(t,e){return gi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return ii(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),Pi(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,ni(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=ny(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=vi(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new Wg(this.getFlatInteriorPoints().slice(),wo.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;Ti(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Pi(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],r=[];return n.length=Qo(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,r),new e(n,wo.XY,r)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var r=this.endss_[t].slice(),o=r[r.length-1];if(0!==e)for(var i=0,a=r.length;i<a;++i)r[i]-=e;return new Mi(this.flatCoordinates.slice(e,o),this.layout,r)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,r=[],o=0,i=0,a=n.length;i<a;++i){var s=n[i].slice(),u=s[s.length-1];if(0!==o)for(var l=0,c=s.length;l<c;++l)s[l]-=o;var h=new Mi(e.slice(o,u),t,s);r.push(h),o=u}return r},e.prototype.getType=function(){return nr.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return Ei(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=Zo(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var r=n[n.length-1];this.flatCoordinates.length=0===r.length?0:r[r.length-1]}this.changed()},e}(Fo),iy=oy,ay={name:"ol-geom-multi-polygon",setup:function(t){var e=Rg(iy,t),n=e.geometry;return{geometry:n}},props:{coordinates:{type:Array},opt_layout:{type:String,default:"XY"}}};ay.render=ey;var sy=ay;function uy(t){uy.installed||(uy.installed=!0,t.component(Ig.name,Ig),t.component(kg.name,kg),t.component(Ug.name,Ug),t.component(Hg.name,Hg),t.component(ty.name,ty),t.component(sy.name,sy))}var ly=uy;function cy(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var hy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),py=function(t){function e(e,n,r){var o=t.call(this)||this;if(void 0!==r&&void 0===n)o.setFlatCoordinates(r,e);else{var i=n||0;o.setCenterAndRadius(e,i,r)}return o}return hy(e,t),e.prototype.clone=function(){var t=new e(this.flatCoordinates.slice(),void 0,this.layout);return t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){var o=this.flatCoordinates,i=t-o[0],a=e-o[1],s=i*i+a*a;if(s<r){if(0===s)for(var u=0;u<this.stride;++u)n[u]=o[u];else{var l=this.getRadius()/Math.sqrt(s);n[0]=o[0]+l*i,n[1]=o[1]+l*a;for(u=2;u<this.stride;++u)n[u]=o[u]}return n.length=this.stride,s}return r},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,r=t-n[0],o=e-n[1];return r*r+o*o<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return Q(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return nr.CIRCLE},e.prototype.intersectsExtent=function(t){var e=this.getExtent();if(Pt(t,e)){var n=this.getCenter();return t[0]<=n[0]&&t[2]>=n[0]||(t[1]<=n[1]&&t[3]>=n[1]||ft(t,this.intersectsCoordinate.bind(this)))}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],r=t.slice();r[e]=r[0]+n;for(var o=1;o<e;++o)r[e+o]=t[o];this.setFlatCoordinates(this.layout,r),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var r=this.flatCoordinates,o=zo(r,0,t,this.stride);r[o++]=r[0]+e;for(var i=1,a=this.stride;i<a;++i)r[o++]=r[i];r.length=o,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e.prototype.rotate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(So(n,0,n.length,r,t,e,n)),this.changed()},e.prototype.translate=function(t,e){var n=this.getCenter(),r=this.getStride();this.setCenter(Co(n,0,n.length,r,t,e,n)),this.changed()},e}(Fo);py.prototype.transform;var fy=py,dy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gy={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},yy={DRAWSTART:"drawstart",DRAWEND:"drawend",DRAWABORT:"drawabort"},vy=function(t){function e(e,n){var r=t.call(this,e)||this;return r.feature=n,r}return dy(e,t),e}(je["a"]),_y=function(t){function e(e){var n=this,r=e;r.stopDown||(r.stopDown=E["a"]),n=t.call(this,r)||this,n.on,n.once,n.un,n.shouldHandle_=!1,n.downPx_=null,n.downTimeout_,n.lastDragTime_,n.pointerType_,n.freehand_=!1,n.source_=e.source?e.source:null,n.features_=e.features?e.features:null,n.snapTolerance_=e.snapTolerance?e.snapTolerance:12,n.type_=e.type,n.mode_=Oy(n.type_),n.stopClick_=!!e.stopClick,n.minPoints_=e.minPoints?e.minPoints:n.mode_===gy.POLYGON?3:2,n.maxPoints_=n.mode_===gy.CIRCLE?2:e.maxPoints?e.maxPoints:1/0,n.finishCondition_=e.finishCondition?e.finishCondition:E["b"];var o=e.geometryFunction;if(!o){var i,a=n.mode_;if(a===gy.CIRCLE)o=function(t,e,n){var r=e||new fy([NaN,NaN]),o=to(t[0],n),i=xe(o,to(t[t.length-1],n));r.setCenterAndRadius(o,Math.sqrt(i));var a=$r();return a&&r.transform(n,a),r};else a===gy.POINT?i=hi:a===gy.LINE_STRING?i=Gg:a===gy.POLYGON&&(i=Mi),o=function(t,e,n){return e?a===gy.POLYGON?t[0].length?e.setCoordinates([t[0].concat([t[0][0]])]):e.setCoordinates([]):e.setCoordinates(t):e=new i(t),e}}return n.geometryFunction_=o,n.dragVertexDelay_=void 0!==e.dragVertexDelay?e.dragVertexDelay:500,n.finishCoordinate_=null,n.sketchFeature_=null,n.sketchPoint_=null,n.sketchCoords_=null,n.sketchLine_=null,n.sketchLineCoords_=null,n.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36,n.overlay_=new uh({source:new Ph({useSpatialIndex:!1,wrapX:!!e.wrapX&&e.wrapX}),style:e.style?e.style:my(),updateWhileInteracting:!0}),n.geometryName_=e.geometryName,n.condition_=e.condition?e.condition:Ga,n.freehandCondition_,e.freehand?n.freehandCondition_=Ia:n.freehandCondition_=e.freehandCondition?e.freehandCondition:ka,n.addChangeListener(ha.ACTIVE,n.updateState_),n}return dy(e,t),e.prototype.setMap=function(e){t.prototype.setMap.call(this,e),this.updateState_()},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleEvent=function(e){e.originalEvent.type===ce["a"].CONTEXTMENU&&e.originalEvent.preventDefault(),this.freehand_=this.mode_!==gy.POINT&&this.freehandCondition_(e);var n=e.type===Yn.POINTERMOVE,r=!0;if(!this.freehand_&&this.lastDragTime_&&e.type===Yn.POINTERDRAG){var o=Date.now();o-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,n=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&e.type===Yn.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e.coordinate),r=!1):this.freehand_&&e.type===Yn.POINTERDOWN?r=!1:n&&this.getPointerCount()<2?(r=e.type===Yn.POINTERMOVE,r&&this.freehand_?(this.handlePointerMove_(e),this.shouldHandle_&&e.originalEvent.preventDefault()):("mouse"===e.originalEvent.pointerType||e.type===Yn.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e)):e.type===Yn.DBLCLICK&&(r=!1),t.prototype.handleEvent.call(this,e)&&r},e.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t.coordinate),!0):this.condition_(t)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new Bn(Yn.POINTERMOVE,t.map,t.originalEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0):(this.lastDragTime_=void 0,!1)},e.prototype.handleUpEvent=function(t){var e=!0;if(0===this.getPointerCount())if(this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t),this.shouldHandle_){var n=!this.finishCoordinate_;n&&this.startDrawing_(t.coordinate),!n&&this.freehand_?this.finishDrawing():this.freehand_||n&&this.mode_!==gy.POINT||(this.atFinish_(t.pixel)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t.coordinate)),e=!1}else this.freehand_&&this.abortDrawing();return!e&&this.stopClick_&&t.preventDefault(),e},e.prototype.handlePointerMove_=function(t){if(this.pointerType_=t.originalEvent.pointerType,this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,n=t.pixel,r=e[0]-n[0],o=e[1]-n[1],i=r*r+o*o;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return}this.finishCoordinate_?this.modifyDrawing_(t.coordinate):this.createOrUpdateSketchPoint_(t.coordinate.slice())},e.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var n=!1,r=[this.finishCoordinate_],o=this.mode_;if(o===gy.POINT)e=!0;else if(o===gy.CIRCLE)e=2===this.sketchCoords_.length;else if(o===gy.LINE_STRING)n=this.sketchCoords_.length>this.minPoints_;else if(o===gy.POLYGON){var i=this.sketchCoords_;n=i[0].length>this.minPoints_,r=[i[0][0],i[0][i[0].length-2]]}if(n)for(var a=this.getMap(),s=0,u=r.length;s<u;s++){var l=r[s],c=a.getPixelFromCoordinate(l),h=t[0]-c[0],p=t[1]-c[1],f=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(h*h+p*p)<=f,e){this.finishCoordinate_=l;break}}}return e},e.prototype.createOrUpdateSketchPoint_=function(t){if(this.sketchPoint_){var e=this.sketchPoint_.getGeometry();e.setCoordinates(t)}else this.sketchPoint_=new Xs(new hi(t)),this.updateSketchFeatures_()},e.prototype.createOrUpdateCustomSketchLine_=function(t){this.sketchLine_||(this.sketchLine_=new Xs);var e=t.getLinearRing(0),n=this.sketchLine_.getGeometry();n?(n.setFlatCoordinates(e.getLayout(),e.getFlatCoordinates()),n.changed()):(n=new Gg(e.getFlatCoordinates(),e.getLayout()),this.sketchLine_.setGeometry(n))},e.prototype.startDrawing_=function(t){var e=this.getMap().getView().getProjection();this.finishCoordinate_=t,this.mode_===gy.POINT?this.sketchCoords_=t.slice():this.mode_===gy.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new Xs(new Gg(this.sketchLineCoords_)));var n=this.geometryFunction_(this.sketchCoords_,void 0,e);this.sketchFeature_=new Xs,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(n),this.updateSketchFeatures_(),this.dispatchEvent(new vy(yy.DRAWSTART,this.sketchFeature_))},e.prototype.modifyDrawing_=function(t){var e,n,r=this.getMap(),o=this.sketchFeature_.getGeometry(),i=r.getView().getProjection();if(this.mode_===gy.POINT?n=this.sketchCoords_:this.mode_===gy.POLYGON?(e=this.sketchCoords_[0],n=e[e.length-1],this.atFinish_(r.getPixelFromCoordinate(t))&&(t=this.finishCoordinate_.slice())):(e=this.sketchCoords_,n=e[e.length-1]),n[0]=t[0],n[1]=t[1],this.geometryFunction_(this.sketchCoords_,o,i),this.sketchPoint_){var a=this.sketchPoint_.getGeometry();a.setCoordinates(t)}if(o.getType()===nr.POLYGON&&this.mode_!==gy.POLYGON)this.createOrUpdateCustomSketchLine_(o);else if(this.sketchLineCoords_){var s=this.sketchLine_.getGeometry();s.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()},e.prototype.addToDrawing_=function(t){var e,n,r=this.sketchFeature_.getGeometry(),o=this.getMap().getView().getProjection(),i=this.mode_;i===gy.LINE_STRING||i===gy.CIRCLE?(this.finishCoordinate_=t.slice(),n=this.sketchCoords_,n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),this.geometryFunction_(n,r,o)):i===gy.POLYGON&&(n=this.sketchCoords_[0],n.length>=this.maxPoints_&&(this.freehand_?n.pop():e=!0),n.push(t.slice()),e&&(this.finishCoordinate_=n[0]),this.geometryFunction_(this.sketchCoords_,r,o)),this.createOrUpdateSketchPoint_(t.slice()),this.updateSketchFeatures_(),e&&this.finishDrawing()},e.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry(),n=this.getMap().getView().getProjection(),r=this.mode_;if(r===gy.LINE_STRING||r===gy.CIRCLE){if(t=this.sketchCoords_,t.splice(-2,1),t.length>=2){this.finishCoordinate_=t[t.length-2].slice();var o=this.finishCoordinate_.slice();t[t.length-1]=o,this.createOrUpdateSketchPoint_(o)}this.geometryFunction_(t,e,n),e.getType()===nr.POLYGON&&this.sketchLine_&&this.createOrUpdateCustomSketchLine_(e)}else if(r===gy.POLYGON){t=this.sketchCoords_[0],t.splice(-2,1);var i=this.sketchLine_.getGeometry();if(t.length>=2){o=t[t.length-2].slice();t[t.length-1]=o,this.createOrUpdateSketchPoint_(o)}i.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e,n)}1===t.length&&this.abortDrawing(),this.updateSketchFeatures_()}},e.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,n=t.getGeometry(),r=this.getMap().getView().getProjection();this.mode_===gy.LINE_STRING?(e.pop(),this.geometryFunction_(e,n,r)):this.mode_===gy.POLYGON&&(e[0].pop(),this.geometryFunction_(e,n,r),e=n.getCoordinates()),this.type_===nr.MULTI_POINT?t.setGeometry(new Wg([e])):this.type_===nr.MULTI_LINE_STRING?t.setGeometry(new $g([e])):this.type_===nr.MULTI_POLYGON&&t.setGeometry(new iy([e])),this.dispatchEvent(new vy(yy.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},e.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0),t},e.prototype.abortDrawing=function(){var t=this.abortDrawing_();t&&this.dispatchEvent(new vy(yy.DRAWABORT,t))},e.prototype.appendCoordinates=function(t){var e,n=this.mode_,r=!this.sketchFeature_;if(r&&this.startDrawing_(t[0]),n===gy.LINE_STRING||n===gy.CIRCLE)e=this.sketchCoords_;else{if(n!==gy.POLYGON)return;e=this.sketchCoords_&&this.sketchCoords_.length?this.sketchCoords_[0]:[]}r&&e.shift(),e.pop();for(var o=0;o<t.length;o++)this.addToDrawing_(t[o]);var i=t[t.length-1];this.addToDrawing_(i),this.modifyDrawing_(i)},e.prototype.extend=function(t){var e=t.getGeometry(),n=e;this.sketchFeature_=t,this.sketchCoords_=n.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice(),this.sketchCoords_.push(r.slice()),this.sketchPoint_=new Xs(new hi(r)),this.updateSketchFeatures_(),this.dispatchEvent(new vy(yy.DRAWSTART,this.sketchFeature_))},e.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},e.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing(),this.overlay_.setMap(e?t:null)},e}(Sa);function my(){var t=ml();return function(e,n){return t[e.getGeometry().getType()]}}function Oy(t){switch(t){case nr.POINT:case nr.MULTI_POINT:return gy.POINT;case nr.LINE_STRING:case nr.MULTI_LINE_STRING:return gy.LINE_STRING;case nr.POLYGON:case nr.MULTI_POLYGON:return gy.POLYGON;case nr.CIRCLE:return gy.CIRCLE;default:throw new Error("Invalid type: "+t)}}var by=_y,wy=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ey=0,Sy=1,xy=[0,0,0,0],Cy=[],Ty={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},Ry=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.features=n,o.mapBrowserEvent=r,o}return wy(e,t),e}(je["a"]),Py=function(t){function e(e){var n,r=t.call(this,e)||this;if(r.on,r.once,r.un,r.boundHandleFeatureChange_=r.handleFeatureChange_.bind(r),r.condition_=e.condition?e.condition:za,r.defaultDeleteCondition_=function(t){return Ca(t)&&ja(t)},r.deleteCondition_=e.deleteCondition?e.deleteCondition:r.defaultDeleteCondition_,r.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:Ia,r.vertexFeature_=null,r.vertexSegments_=null,r.lastPixel_=[0,0],r.ignoreNextSingleClick_=!1,r.featuresBeingModified_=null,r.rBush_=new fh,r.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,r.snappedToVertex_=!1,r.changingFeature_=!1,r.dragSegments_=[],r.overlay_=new uh({source:new Ph({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:Ny(),updateWhileAnimating:!0,updateWhileInteracting:!0}),r.SEGMENT_WRITERS_={Point:r.writePointGeometry_.bind(r),LineString:r.writeLineStringGeometry_.bind(r),LinearRing:r.writeLineStringGeometry_.bind(r),Polygon:r.writePolygonGeometry_.bind(r),MultiPoint:r.writeMultiPointGeometry_.bind(r),MultiLineString:r.writeMultiLineStringGeometry_.bind(r),MultiPolygon:r.writeMultiPolygonGeometry_.bind(r),Circle:r.writeCircleGeometry_.bind(r),GeometryCollection:r.writeGeometryCollectionGeometry_.bind(r)},r.source_=null,r.hitDetection_=null,e.features?n=e.features:e.source&&(r.source_=e.source,n=new In(r.source_.getFeatures()),r.source_.addEventListener(_h.ADDFEATURE,r.handleSourceAdd_.bind(r)),r.source_.addEventListener(_h.REMOVEFEATURE,r.handleSourceRemove_.bind(r))),!n)throw new Error("The modify interaction requires features, a source or a layer");return e.hitDetection&&(r.hitDetection_=e.hitDetection),r.features_=n,r.features_.forEach(r.addFeature_.bind(r)),r.features_.addEventListener(xn.ADD,r.handleFeatureAdd_.bind(r)),r.features_.addEventListener(xn.REMOVE,r.handleFeatureRemove_.bind(r)),r.lastPointerEvent_=null,r.delta_=[0,0],r.snapToPointer_=void 0===e.snapToPointer?!r.hitDetection_:e.snapToPointer,r}return wy(e,t),e.prototype.addFeature_=function(t){var e=t.getGeometry();if(e){var n=this.SEGMENT_WRITERS_[e.getType()];n&&n(t,e)}var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),t.addEventListener(ce["a"].CHANGE,this.boundHandleFeatureChange_)},e.prototype.willModifyFeatures_=function(t,e){if(!this.featuresBeingModified_){this.featuresBeingModified_=new In;for(var n=this.featuresBeingModified_.getArray(),r=0,o=e.length;r<o;++r)for(var i=e[r],a=0,s=i.length;a<s;++a){var u=i[a].feature;u&&-1===n.indexOf(u)&&this.featuresBeingModified_.push(u)}0===this.featuresBeingModified_.getLength()?this.featuresBeingModified_=null:this.dispatchEvent(new Ry(Ty.MODIFYSTART,this.featuresBeingModified_,t))}},e.prototype.removeFeature_=function(t){this.removeFeatureSegmentData_(t),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.removeEventListener(ce["a"].CHANGE,this.boundHandleFeatureChange_)},e.prototype.removeFeatureSegmentData_=function(t){var e=this.rBush_,n=[];e.forEach((function(e){t===e.feature&&n.push(e)}));for(var r=n.length-1;r>=0;--r){for(var o=n[r],i=this.dragSegments_.length-1;i>=0;--i)this.dragSegments_[i][0]===o&&this.dragSegments_.splice(i,1);e.remove(o)}},e.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),t.prototype.setActive.call(this,e)},e.prototype.setMap=function(e){this.overlay_.setMap(e),t.prototype.setMap.call(this,e)},e.prototype.getOverlay=function(){return this.overlay_},e.prototype.handleSourceAdd_=function(t){t.feature&&this.features_.push(t.feature)},e.prototype.handleSourceRemove_=function(t){t.feature&&this.features_.remove(t.feature)},e.prototype.handleFeatureAdd_=function(t){this.addFeature_(t.element)},e.prototype.handleFeatureChange_=function(t){if(!this.changingFeature_){var e=t.target;this.removeFeature_(e),this.addFeature_(e)}},e.prototype.handleFeatureRemove_=function(t){var e=t.element;this.removeFeature_(e)},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,geometry:e,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r){var i=n[r],a={feature:t,geometry:e,depth:[r],index:r,segment:[i,i]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length-1;r<o;++r){var i=n.slice(r,r+2),a={feature:t,geometry:e,index:r,segment:i};this.rBush_.insert(V(i),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert(V(u),l)}},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),l={feature:t,geometry:e,depth:[r],index:a,segment:u};this.rBush_.insert(V(u),l)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length;a<s;++a)for(var u=i[a],l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2),p={feature:t,geometry:e,depth:[a,r],index:l,segment:h};this.rBush_.insert(V(h),p)}},e.prototype.writeCircleGeometry_=function(t,e){var n=e.getCenter(),r={feature:t,geometry:e,index:Ey,segment:[n,n]},o={feature:t,geometry:e,index:Sy,segment:[n,n]},i=[r,o];r.featureSegments=i,o.featureSegments=i,this.rBush_.insert(et(n),r);var a=e,s=$r();if(s&&this.getMap()){var u=this.getMap().getView().getProjection();a=a.clone().transform(s,u),a=ji(a).transform(u,s)}this.rBush_.insert(a.getExtent(),o)},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var o=n[r],i=this.SEGMENT_WRITERS_[o.getType()];i(t,o)}},e.prototype.createOrUpdateVertexFeature_=function(t,e,n){var r=this.vertexFeature_;if(r){var o=r.getGeometry();o.setCoordinates(t)}else r=new Xs(new hi(t)),this.vertexFeature_=r,this.overlay_.getSource().addFeature(r);return r.set("features",e),r.set("geometries",n),r},e.prototype.handleEvent=function(e){return!e.originalEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=Yn.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(n=!(e.type!=Yn.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==Yn.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),t.prototype.handleEvent.call(this,e)&&!n);var n},e.prototype.handleDragEvent=function(t){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(t,this.dragSegments_);for(var e=[t.coordinate[0]+this.delta_[0],t.coordinate[1]+this.delta_[1]],n=[],r=[],o=0,i=this.dragSegments_.length;o<i;++o){var a=this.dragSegments_[o],s=a[0],u=s.feature;-1===n.indexOf(u)&&n.push(u);var l=s.geometry;-1===r.indexOf(l)&&r.push(l);var c=s.depth,h=void 0,p=s.segment,f=a[1];while(e.length<l.getStride())e.push(p[f][e.length]);switch(l.getType()){case nr.POINT:h=e,p[0]=e,p[1]=e;break;case nr.MULTI_POINT:h=l.getCoordinates(),h[s.index]=e,p[0]=e,p[1]=e;break;case nr.LINE_STRING:h=l.getCoordinates(),h[s.index+f]=e,p[f]=e;break;case nr.MULTI_LINE_STRING:h=l.getCoordinates(),h[c[0]][s.index+f]=e,p[f]=e;break;case nr.POLYGON:h=l.getCoordinates(),h[c[0]][s.index+f]=e,p[f]=e;break;case nr.MULTI_POLYGON:h=l.getCoordinates(),h[c[1]][c[0]][s.index+f]=e,p[f]=e;break;case nr.CIRCLE:if(p[0]=e,p[1]=e,s.index===Ey)this.changingFeature_=!0,l.setCenter(e),this.changingFeature_=!1;else{this.changingFeature_=!0;var d=t.map.getView().getProjection(),g=Ce(to(l.getCenter(),d),to(e,d)),y=$r();if(y){var v=l.clone().transform(y,d);v.setRadius(g),g=v.transform(d,y).getRadius()}l.setRadius(g),this.changingFeature_=!1}break;default:}h&&this.setGeometryCoordinates_(l,h)}this.createOrUpdateVertexFeature_(e,n,r)},e.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;var e=t.coordinate;this.handlePointerAtPixel_(t.pixel,t.map,e),this.dragSegments_.length=0,this.featuresBeingModified_=null;var n=this.vertexFeature_;if(n){var r=t.map.getView().getProjection(),o=[],i=n.getGeometry().getCoordinates(),a=V([i]),s=this.rBush_.getInExtent(a),u={};s.sort(Iy);for(var l=0,c=s.length;l<c;++l){var h=s[l],p=h.segment,f=Object(S["c"])(h.geometry),d=h.depth;if(d&&(f+="-"+d.join("-")),u[f]||(u[f]=new Array(2)),h.geometry.getType()!==nr.CIRCLE||h.index!==Sy)if(!we(p[0],i)||u[f][0])if(!we(p[1],i)||u[f][1])Object(S["c"])(p)in this.vertexSegments_&&!u[f][0]&&!u[f][1]&&this.insertVertexCondition_(t)&&o.push(h);else{if((h.geometry.getType()===nr.LINE_STRING||h.geometry.getType()===nr.MULTI_LINE_STRING)&&u[f][0]&&0===u[f][0].index)continue;this.dragSegments_.push([h,1]),u[f][1]=h}else this.dragSegments_.push([h,0]),u[f][0]=h;else{var g=My(e,h,r);we(g,i)&&!u[f][0]&&(this.dragSegments_.push([h,0]),u[f][0]=h)}}o.length&&this.willModifyFeatures_(t,[o]);for(var y=o.length-1;y>=0;--y)this.insertVertex_(o[y],i)}return!!this.vertexFeature_},e.prototype.handleUpEvent=function(t){for(var e=this.dragSegments_.length-1;e>=0;--e){var n=this.dragSegments_[e][0],r=n.geometry;if(r.getType()===nr.CIRCLE){var o=r.getCenter(),i=n.featureSegments[0],a=n.featureSegments[1];i.segment[0]=o,i.segment[1]=o,a.segment[0]=o,a.segment[1]=o,this.rBush_.update(et(o),i);var s=r,u=$r();if(u){var l=t.map.getView().getProjection();s=s.clone().transform(u,l),s=ji(s).transform(l,u)}this.rBush_.update(s.getExtent(),a)}else this.rBush_.update(V(n.segment),n)}return this.featuresBeingModified_&&(this.dispatchEvent(new Ry(Ty.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null),!1},e.prototype.handlePointerMove_=function(t){this.lastPixel_=t.pixel,this.handlePointerAtPixel_(t.pixel,t.map,t.coordinate)},e.prototype.handlePointerAtPixel_=function(t,e,n){var r,o,i=this,a=n||e.getCoordinateFromPixel(t),s=e.getView().getProjection(),u=function(t,e){return Ly(a,t,s)-Ly(a,e,s)};if(this.hitDetection_){var l="object"===typeof this.hitDetection_?function(t){return t===i.hitDetection_}:void 0;e.forEachFeatureAtPixel(t,(function(t,e,n){if(n=n||t.getGeometry(),n.getType()===nr.POINT&&Object(ao["f"])(i.features_.getArray(),t)){o=n;var a=n.getFlatCoordinates().slice(0,2);r=[{feature:t,geometry:n,segment:[a,a]}]}return!0}),{layerFilter:l})}if(!r){var c=no(et(a,xy),s),h=e.getView().getResolution()*this.pixelTolerance_,p=eo(X(c,h,xy),s);r=this.rBush_.getInExtent(p)}if(r&&r.length>0){var f=r.sort(u)[0],d=f.segment,g=My(a,f,s),y=e.getPixelFromCoordinate(g),v=Ce(t,y);if(o||v<=this.pixelTolerance_){var _={};if(_[Object(S["c"])(d)]=!0,this.snapToPointer_||(this.delta_[0]=g[0]-a[0],this.delta_[1]=g[1]-a[1]),f.geometry.getType()===nr.CIRCLE&&f.index===Sy)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g,[f.feature],[f.geometry]);else{var m=e.getPixelFromCoordinate(d[0]),O=e.getPixelFromCoordinate(d[1]),b=xe(y,m),w=xe(y,O);v=Math.sqrt(Math.min(b,w)),this.snappedToVertex_=v<=this.pixelTolerance_,this.snappedToVertex_&&(g=b>w?d[1]:d[0]),this.createOrUpdateVertexFeature_(g,[f.feature],[f.geometry]);var E={};E[Object(S["c"])(f.geometry)]=!0;for(var x=1,C=r.length;x<C;++x){var T=r[x].segment;if(!(we(d[0],T[0])&&we(d[1],T[1])||we(d[0],T[1])&&we(d[1],T[0])))break;var R=Object(S["c"])(r[x].geometry);R in E||(E[R]=!0,_[Object(S["c"])(T)]=!0)}}return void(this.vertexSegments_=_)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},e.prototype.insertVertex_=function(t,e){var n,r=t.segment,o=t.feature,i=t.geometry,a=t.depth,s=t.index;while(e.length<i.getStride())e.push(0);switch(i.getType()){case nr.MULTI_LINE_STRING:n=i.getCoordinates(),n[a[0]].splice(s+1,0,e);break;case nr.POLYGON:n=i.getCoordinates(),n[a[0]].splice(s+1,0,e);break;case nr.MULTI_POLYGON:n=i.getCoordinates(),n[a[1]][a[0]].splice(s+1,0,e);break;case nr.LINE_STRING:n=i.getCoordinates(),n.splice(s+1,0,e);break;default:return}this.setGeometryCoordinates_(i,n);var u=this.rBush_;u.remove(t),this.updateSegmentIndices_(i,s,a,1);var l={segment:[r[0],e],feature:o,geometry:i,depth:a,index:s};u.insert(V(l.segment),l),this.dragSegments_.push([l,1]);var c={segment:[e,r[1]],feature:o,geometry:i,depth:a,index:s+1};u.insert(V(c.segment),c),this.dragSegments_.push([c,0]),this.ignoreNextSingleClick_=!0},e.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=Yn.POINTERDRAG){var t=this.lastPointerEvent_;this.willModifyFeatures_(t,this.dragSegments_);var e=this.removeVertex_();return this.dispatchEvent(new Ry(Ty.MODIFYEND,this.featuresBeingModified_,t)),this.featuresBeingModified_=null,e}return!1},e.prototype.removeVertex_=function(){var t,e,n,r,o,i,a,s,u,l,c,h=this.dragSegments_,p={},f=!1;for(o=h.length-1;o>=0;--o)n=h[o],l=n[0],c=Object(S["c"])(l.feature),l.depth&&(c+="-"+l.depth.join("-")),c in p||(p[c]={}),0===n[1]?(p[c].right=l,p[c].index=l.index):1==n[1]&&(p[c].left=l,p[c].index=l.index+1);for(c in p){switch(u=p[c].right,a=p[c].left,i=p[c].index,s=i-1,l=void 0!==a?a:u,s<0&&(s=0),r=l.geometry,e=r.getCoordinates(),t=e,f=!1,r.getType()){case nr.MULTI_LINE_STRING:e[l.depth[0]].length>2&&(e[l.depth[0]].splice(i,1),f=!0);break;case nr.LINE_STRING:e.length>2&&(e.splice(i,1),f=!0);break;case nr.MULTI_POLYGON:t=t[l.depth[1]];case nr.POLYGON:t=t[l.depth[0]],t.length>4&&(i==t.length-1&&(i=0),t.splice(i,1),f=!0,0===i&&(t.pop(),t.push(t[0]),s=t.length-1));break;default:}if(f){this.setGeometryCoordinates_(r,e);var d=[];if(void 0!==a&&(this.rBush_.remove(a),d.push(a.segment[0])),void 0!==u&&(this.rBush_.remove(u),d.push(u.segment[1])),void 0!==a&&void 0!==u){var g={depth:l.depth,feature:l.feature,geometry:l.geometry,index:s,segment:d};this.rBush_.insert(V(g.segment),g)}this.updateSegmentIndices_(r,i,l.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),h.length=0}}return f},e.prototype.setGeometryCoordinates_=function(t,e){this.changingFeature_=!0,t.setCoordinates(e),this.changingFeature_=!1},e.prototype.updateSegmentIndices_=function(t,e,n,r){this.rBush_.forEachInExtent(t.getExtent(),(function(o){o.geometry===t&&(void 0===n||void 0===o.depth||Object(ao["b"])(o.depth,n))&&o.index>e&&(o.index+=r)}))},e}(Sa);function Iy(t,e){return t.index-e.index}function Ly(t,e,n){var r=e.geometry;if(r.getType()===nr.CIRCLE){var o=r;if(e.index===Sy){var i=$r();i&&(o=o.clone().transform(i,n));var a=xe(o.getCenter(),to(t,n)),s=Math.sqrt(a)-o.getRadius();return s*s}}var u=to(t,n);return Cy[0]=to(e.segment[0],n),Cy[1]=to(e.segment[1],n),Te(u,Cy)}function My(t,e,n){var r=e.geometry;if(r.getType()===nr.CIRCLE&&e.index===Sy){var o=r,i=$r();return i&&(o=o.clone().transform(i,n)),Qr(o.getClosestPoint(to(t,n)),n)}var a=to(t,n);return Cy[0]=to(e.segment[0],n),Cy[1]=to(e.segment[1],n),Qr(be(a,Cy),n)}function Ny(){var t=ml();return function(e,n){return t[nr.POINT]}}var Ay=Py,jy={name:"ol-style",setup:function(t){var e=Object(O["inject"])("stylable",null),n=As(t),r=n.properties,o=Object(O["computed"])((function(){return new bl(r)})),i=function(t){if(e instanceof by||e instanceof Ay)return e.getOverlay().setStyle(t),void e.value.dispatchEvent("styleChanged");try{e.value.setStyle(t),e.value.changed(),e.value.dispatchEvent("styleChanged")}catch(n){e.value.style_=t,e.value.values_.style=t,e.value.changed(),e.value.dispatchEvent("styleChanged")}},a=Object(O["computed"])((function(){return function(t){return null!=r.overrideStyleFunction&&r.overrideStyleFunction(t,o.value),o.value}}));return Object(O["watch"])(r,(function(){null==r.overrideStyleFunction?i(o.value):i(a.value)})),Object(O["onMounted"])((function(){null==r.overrideStyleFunction?i(o.value):i(a.value)})),Object(O["onUnmounted"])((function(){i(null)})),Object(O["provide"])("style",o),Object(O["provide"])("styledObj",e),{style:o}},props:{zIndex:{type:Number},overrideStyleFunction:{type:Function}}};jy.render=cy;var Fy=jy;function Gy(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var Dy={name:"ol-style-circle",setup:function(t){var e=Object(O["inject"])("style",null),n=Object(O["inject"])("styledObj",null),r=As(t),o=r.properties,i=function(t){return new cl(Ns(Ns({},t),{},{fill:new pl,stroke:new dl}))},a=Object(O["computed"])((function(){return i(o)})),s=function(){e.value.setImage(null),e.value.setImage(a.value),n.value.changed()};Object(O["watch"])(o,(function(){s()})),Object(O["watch"])(e,(function(){s()})),Object(O["onMounted"])((function(){e.value.setImage(a.value)})),Object(O["onUnmounted"])((function(){e.value.setImage(null)})),Object(O["provide"])("circle",a),Object(O["provide"])("styledObj",n)},props:{radius:{type:Number},scale:{type:Number}}};Dy.render=Gy;var ky=Dy;function By(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Yy={name:"ol-style-stroke",setup:function(t){var e=Object(O["inject"])("style",null),n=Object(O["inject"])("circle",null),r=Object(O["inject"])("styledObj",null),o=As(t),i=o.properties;if(null!=e&&null==n){var a=new dl(i);e.value.setStroke(a);var s=function(){e.value.setStroke(null),a=new dl(i),e.value.setStroke(a)};Object(O["watch"])(i,(function(){s()})),Object(O["watch"])(e,(function(){s()})),Object(O["onMounted"])((function(){e.value.setStroke(a)})),Object(O["onUnmounted"])((function(){e.value.setStroke(null)}))}else if(null!=n){var u=function(t){n.value.getStroke().setColor(t.color),n.value.getStroke().setLineCap(t.lineCap),n.value.getStroke().setLineDash(t.lineDash),n.value.getStroke().setLineDashOffset(t.lineDashOffset),n.value.getStroke().setLineJoin(t.lineJoin),n.value.getStroke().setMiterLimit(t.miterLimit),n.value.getStroke().setWidth(t.width),n.value.setRadius(n.value.getRadius());try{r.value.changed()}catch(e){r.changed()}};u(i),Object(O["watch"])(i,(function(t){u(t)})),Object(O["watch"])(n,(function(){u(i)}))}},props:{color:{type:String},lineCap:{type:String,default:"round"},lineJoin:{type:String,default:"round"},lineDash:{type:Array},lineDashOffset:{type:Number,default:0},miterLimit:{type:Number,default:10},width:{type:Number,default:1}}};Yy.render=By;var Uy=Yy;function Vy(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var zy={name:"ol-style-fill",setup:function(t){var e=Object(O["inject"])("style",null),n=Object(O["inject"])("circle",null),r=Object(O["inject"])("styledObj",null),o=As(t),i=o.properties;if(null!=e&&null==n){var a=new pl(i);e.value.setFill(a);var s=function(){e.value.setFill(null),a=new pl(i),e.value.setFill(a)};Object(O["watch"])(i,(function(){s()})),Object(O["watch"])(e,(function(){s()})),Object(O["onMounted"])((function(){e.value.setFill(a)})),Object(O["onUnmounted"])((function(){e.value.setFill(null)}))}else if(null!=n){var u=function(t){n.value.getFill().setColor(t),n.value.setRadius(n.value.getRadius());try{r.value.changed()}catch(e){r.changed()}};u(i.color),Object(O["watch"])(i,(function(){u(i.color)})),Object(O["watch"])(n,(function(){u(i.color)}))}},props:{color:{type:String}}};zy.render=Vy;var Xy=zy;function Wy(t,e,n,r,o,i){return Object(O["createCommentVNode"])("",!0)}var Zy={name:"ol-style-icon",setup:function(t){var e=Object(O["inject"])("style",null),n=Object(O["inject"])("styledObj",null),r=As(t),o=r.properties,i=Object(O["computed"])((function(){var t=new Gc(o);return t.load(),t})),a=function(){e.value.setImage(null),e.value.setImage(i.value),n.value.changed()};Object(O["watch"])(o,(function(){a()})),Object(O["watch"])(e,(function(){a()})),Object(O["onMounted"])((function(){e.value.setImage(i.value)})),Object(O["onUnmounted"])((function(){e.value.setImage(null)}))},props:{anchor:{type:Array},anchorOrigin:{type:String,default:"top-left"},anchorXUnits:{type:String,default:"fraction"},color:{type:String},crossOrigin:{type:String},img:{type:[HTMLImageElement,HTMLCanvasElement]},offset:{type:Array,default:function(){return[0,0]}},displacement:{type:Array,default:function(){return[0,0]}},offsetOrigin:{type:String,default:"top-left"},opacity:{type:Number,default:1},scale:{type:Number,default:1},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},size:{type:Array},imgSize:{type:Array},src:{type:String}}};Zy.render=Wy;var Hy=Zy;function Ky(t,e,n,r,o,i){return Object(O["openBlock"])(),Object(O["createBlock"])("div",null,[Object(O["renderSlot"])(t.$slots,"default")])}var qy="#333",Jy=function(){function t(t){var e=t||{};this.font_=e.font,this.rotation_=e.rotation,this.rotateWithView_=e.rotateWithView,this.scale_=e.scale,this.scaleArray_=Ki(void 0!==e.scale?e.scale:1),this.text_=e.text,this.textAlign_=e.textAlign,this.textBaseline_=e.textBaseline,this.fill_=void 0!==e.fill?e.fill:new pl({color:qy}),this.maxAngle_=void 0!==e.maxAngle?e.maxAngle:Math.PI/4,this.placement_=void 0!==e.placement?e.placement:Wl.POINT,this.overflow_=!!e.overflow,this.stroke_=void 0!==e.stroke?e.stroke:null,this.offsetX_=void 0!==e.offsetX?e.offsetX:0,this.offsetY_=void 0!==e.offsetY?e.offsetY:0,this.backgroundFill_=e.backgroundFill?e.backgroundFill:null,this.backgroundStroke_=e.backgroundStroke?e.backgroundStroke:null,this.padding_=void 0===e.padding?null:e.padding}return t.prototype.clone=function(){var e=this.getScale();return new t({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()})},t.prototype.getOverflow=function(){return this.overflow_},t.prototype.getFont=function(){return this.font_},t.prototype.getMaxAngle=function(){return this.maxAngle_},t.prototype.getPlacement=function(){return this.placement_},t.prototype.getOffsetX=function(){return this.offsetX_},t.prototype.getOffsetY=function(){return this.offsetY_},t.prototype.getFill=function(){return this.fill_},t.prototype.getRotateWithView=function(){return this.rotateWithView_},t.prototype.getRotation=function(){return this.rotation_},t.prototype.getScale=function(){return this.scale_},t.prototype.getScaleArray=function(){return this.scaleArray_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.getText=function(){return this.text_},t.prototype.getTextAlign=function(){return this.textAlign_},t.prototype.getTextBaseline=function(){return this.textBaseline_},t.prototype.getBackgroundFill=function(){return this.backgroundFill_},t.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},t.prototype.getPadding=function(){return this.padding_},t.prototype.setOverflow=function(t){this.overflow_=t},t.prototype.setFont=function(t){this.font_=t},t.prototype.setMaxAngle=function(t){this.maxAngle_=t},t.prototype.setOffsetX=function(t){this.offsetX_=t},t.prototype.setOffsetY=function(t){this.offsetY_=t},t.prototype.setPlacement=function(t){this.placement_=t},t.prototype.setRotateWithView=function(t){this.rotateWithView_=t},t.prototype.setFill=function(t){this.fill_=t},t.prototype.setRotation=function(t){this.rotation_=t},t.prototype.setScale=function(t){this.scale_=t,this.scaleArray_=Ki(void 0!==t?t:1)},t.prototype.setStroke=function(t){this.stroke_=t},t.prototype.setText=function(t){this.text_=t},t.prototype.setTextAlign=function(t){this.textAlign_=t},t.prototype.setTextBaseline=function(t){this.textBaseline_=t},t.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},t.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},t.prototype.setPadding=function(t){this.padding_=t},t}(),$y=Jy,Qy={name:"ol-style-text",setup:function(t){var e=Object(O["inject"])("style",null),n=Object(O["inject"])("styledObj",null),r=As(t),o=r.properties,i=function(t){return new $y(Ns(Ns({},t),{},{fill:new pl,stroke:new dl}))},a=Object(O["computed"])((function(){return i(o)})),s=function(){e.value.setText(null),e.value.setText(a.value),n.value.changed()};Object(O["watch"])(o,(function(){s()})),Object(O["watch"])(e,(function(){s()})),Object(O["onMounted"])((function(){e.value.setText(a.value)})),Object(O["onUnmounted"])((function(){e.value.setText(null)})),Object(O["provide"])("style",a),Object(O["provide"])("styledObj",n)},props:{font:{type:String},maxAngle:{type:Number,default:Math.PI/4},offsetX:{type:Number,default:0},offsetY:{type:Number,default:0},overflow:{type:Boolean,default:!1},placement:{type:String,default:"point"},scale:{type:Number},rotateWithView:{type:Boolean,default:!1},rotation:{type:Number,default:0},text:{type:String},textAlign:{type:String},textBaseline:{type:String,default:"middle"},padding:{type:Array,default:function(){return[0,0,0,0]}}}};Qy.render=Ky;var tv=Qy;function ev(t){ev.installed||(ev.installed=!0,t.component(Fy.name,Fy),t.component(ky.name,ky),t.component(Uy.name,Uy),t.component(Xy.name,Xy),t.component(Hy.name,Hy),t.component(tv.name,tv))}var nv=ev;function rv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var ov=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),iv={SELECT:"select"},av=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.selected=n,i.deselected=r,i.mapBrowserEvent=o,i}return ov(e,t),e}(je["a"]),sv={},uv=function(t){function e(e){var n=t.call(this)||this;n.on,n.once,n.un;var r,o=e||{};if(n.boundAddFeature_=n.addFeature_.bind(n),n.boundRemoveFeature_=n.removeFeature_.bind(n),n.condition_=o.condition?o.condition:ja,n.addCondition_=o.addCondition?o.addCondition:Na,n.removeCondition_=o.removeCondition?o.removeCondition:Na,n.toggleCondition_=o.toggleCondition?o.toggleCondition:ka,n.multi_=!!o.multi&&o.multi,n.filter_=o.filter?o.filter:E["b"],n.hitTolerance_=o.hitTolerance?o.hitTolerance:0,n.style_=void 0!==o.style?o.style:lv(),n.features_=o.features||new In,o.layers)if("function"===typeof o.layers)r=o.layers;else{var i=o.layers;r=function(t){return Object(ao["f"])(i,t)}}else r=E["b"];return n.layerFilter_=r,n.featureLayerAssociation_={},n}return ov(e,t),e.prototype.addFeatureLayerAssociation_=function(t,e){this.featureLayerAssociation_[Object(S["c"])(t)]=e},e.prototype.getFeatures=function(){return this.features_},e.prototype.getHitTolerance=function(){return this.hitTolerance_},e.prototype.getLayer=function(t){return this.featureLayerAssociation_[Object(S["c"])(t)]},e.prototype.setHitTolerance=function(t){this.hitTolerance_=t},e.prototype.setMap=function(e){var n=this.getMap();n&&this.style_&&this.features_.forEach(this.restorePreviousStyle_.bind(this)),t.prototype.setMap.call(this,e),e?(this.features_.addEventListener(xn.ADD,this.boundAddFeature_),this.features_.addEventListener(xn.REMOVE,this.boundRemoveFeature_),this.style_&&this.features_.forEach(this.applySelectedStyle_.bind(this))):(this.features_.removeEventListener(xn.ADD,this.boundAddFeature_),this.features_.removeEventListener(xn.REMOVE,this.boundRemoveFeature_))},e.prototype.addFeature_=function(t){var e=t.element;this.style_&&this.applySelectedStyle_(e)},e.prototype.removeFeature_=function(t){var e=t.element;this.style_&&this.restorePreviousStyle_(e)},e.prototype.getStyle=function(){return this.style_},e.prototype.applySelectedStyle_=function(t){var e=Object(S["c"])(t);e in sv||(sv[e]=t.getStyle()),t.setStyle(this.style_)},e.prototype.restorePreviousStyle_=function(t){for(var n=this.getMap().getInteractions().getArray(),r=n.length-1;r>=0;--r){var o=n[r];if(o!==this&&o instanceof e&&o.getStyle()&&-1!==o.getFeatures().getArray().lastIndexOf(t))return void t.setStyle(o.getStyle())}var i=Object(S["c"])(t);t.setStyle(sv[i]),delete sv[i]},e.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[Object(S["c"])(t)]},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=this.addCondition_(t),n=this.removeCondition_(t),r=this.toggleCondition_(t),o=!e&&!n&&!r,i=t.map,a=this.getFeatures(),s=[],u=[];if(o){Object(ae["b"])(this.featureLayerAssociation_),i.forEachFeatureAtPixel(t.pixel,function(t,e){if(this.filter_(t,e))return u.push(t),this.addFeatureLayerAssociation_(t,e),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var l=a.getLength()-1;l>=0;--l){var c=a.item(l),h=u.indexOf(c);h>-1?u.splice(h,1):(a.remove(c),s.push(c))}0!==u.length&&a.extend(u)}else{i.forEachFeatureAtPixel(t.pixel,function(t,o){if(this.filter_(t,o))return!e&&!r||Object(ao["f"])(a.getArray(),t)?(n||r)&&Object(ao["f"])(a.getArray(),t)&&(s.push(t),this.removeFeatureLayerAssociation_(t)):(u.push(t),this.addFeatureLayerAssociation_(t,o)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var p=s.length-1;p>=0;--p)a.remove(s[p]);a.extend(u)}return(u.length>0||s.length>0)&&this.dispatchEvent(new av(iv.SELECT,u,s,t)),!0},e}(ya);function lv(){var t=ml();return Object(ao["c"])(t[nr.POLYGON],t[nr.LINE_STRING]),Object(ao["c"])(t[nr.GEOMETRY_COLLECTION],t[nr.LINE_STRING]),function(e){return e.getGeometry()?t[e.getGeometry().getType()]:null}}var cv=uv,hv={name:"ol-interaction-select",emits:["select"],setup:function(t,e){var n=e.emit,r=Object(O["inject"])("map"),o=As(t),i=o.properties,a=Object(O["computed"])((function(){var t=new cv(Ns(Ns({},i),{},{style:new bl}));return t.on("select",(function(t){n("select",t)})),t}));Object(O["watch"])(a,(function(t,e){r.removeInteraction(e),r.addInteraction(t),r.changed()})),Object(O["onMounted"])((function(){r.addInteraction(a.value)})),Object(O["onUnmounted"])((function(){r.removeInteraction(a.value)})),Object(O["provide"])("stylable",a)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},features:{type:[In,Object]}}};hv.render=rv;var pv=hv;function fv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var dv=function(t){t=t||{},this.pointRadius=t.pointRadius||12,this.circleMaxObjects=t.circleMaxObjects||10,this.maxObjects=t.maxObjects||60,this.spiral=!1!==t.spiral,this.animate=t.animate,this.animationDuration=t.animationDuration||500,this.selectCluster_=!1!==t.selectCluster;var e=this.overlayLayer_=new uh({source:new Ph({features:new In,wrapX:t.wrapX,useSpatialIndex:!0}),name:"Cluster overlay",updateWhileAnimating:!0,updateWhileInteracting:!0,displayInLayerSwitcher:!1,style:t.featureStyle});if(t.layers)if("function"==typeof t.layers){var n=t.layers;t.layers=function(t){return t===e||n(t)}}else t.layers.push&&t.layers.push(this.overlayLayer_);if(t.filter){var r=t.filter;t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))&&r(t,e)}}else t.filter=function(t,e){return!(!e&&t.get("selectclusterlink"))};this.filter_=t.filter,cv.call(this,t),this.on("select",this.selectCluster.bind(this))};Ah(dv,cv),dv.prototype.setMap=function(t){this.getMap()&&this.getMap().removeLayer(this.overlayLayer_),this._listener&&Object(Ou["b"])(this._listener),this._listener=null,cv.prototype.setMap.call(this,t),this.overlayLayer_.setMap(t),t&&t.getView()&&(this._listener=t.getView().on("change:resolution",this.clear.bind(this)))},dv.prototype.clear=function(){this.getFeatures().clear(),this.overlayLayer_.getSource().clear()},dv.prototype.getLayer=function(){return this.overlayLayer_},dv.prototype.selectCluster=function(t){if(t instanceof Xs&&(t={selected:[t]}),t.selected.length){var e=t.selected[0];if(!e.get("selectclusterfeature")){var n=this.overlayLayer_.getSource();n.clear();var r=e.get("features");if(r&&1!=r.length){this.selectCluster_||this.getFeatures().clear();var o,i,a,s,u,l,c,h=e.getGeometry().getCoordinates(),p=this.getMap().getView().getResolution(),f=[];if(!this.spiral||r.length<=this.circleMaxObjects)for(s=Math.min(r.length,this.circleMaxObjects),o=p*this.pointRadius*(.5+s/4),a=0;a<s;a++)i=2*Math.PI*a/s,2!=s&&4!=s||(i+=Math.PI/4),u=[h[0]+o*Math.sin(i),h[1]+o*Math.cos(i)],l=new Xs({selectclusterfeature:!0,features:[r[a]],geometry:new hi(u)}),l.setStyle(r[a].getStyle()),f.push(l),c=new Xs({selectclusterlink:!0,geometry:new Gg([h,u])}),f.push(c);else{i=0;var d=2*this.pointRadius;for(s=Math.min(this.maxObjects,r.length),a=0;a<s;a++){o=d/2+d*i/(2*Math.PI),i+=(d+.1)/o;var g=p*o*Math.sin(i),y=p*o*Math.cos(i);u=[h[0]+g,h[1]+y],l=new Xs({selectclusterfeature:!0,features:[r[a]],geometry:new hi(u)}),l.setStyle(r[a].getStyle()),f.push(l),c=new Xs({selectclusterlink:!0,geometry:new Gg([h,u])}),f.push(c)}}n.clear(),this.animate?this.animateCluster_(h,f):n.addFeatures(f)}}}else this.clear()},dv.prototype.animateCluster_=function(t,e){if(this.listenerKey_&&Object(Ou["b"])(this.listenerKey_),e.length){var n=this.overlayLayer_.getStyle(),r="function"==typeof n?n:n.length?function(){return n}:function(){return[n]},o=this.animationDuration||500,i=(new Date).getTime();this.listenerKey_=this.overlayLayer_.on(["postcompose","postrender"],s.bind(this));var a=new Xs(new hi(this.getMap().getView().getCenter()));a.setStyle(new bl({image:new cl({})})),this.overlayLayer_.getSource().addFeature(a)}function s(n){for(var a,s=n.vectorContext||Fh(n),u=n.frameState.pixelRatio,l=this.getMap().getView().getResolution(),c=_o((n.frameState.time-i)/o),h=0;a=e[h];h++)if(a.get("features")){var p=a.getGeometry().getCoordinates();p[0]=t[0]+c*(p[0]-t[0]),p[1]=t[1]+c*(p[1]-t[1]);for(var f=new hi(p),d=r(a,l),g=0;g<d.length;g++){var y,v=!Is.prototype.getFeaturesAtPixel&&d[g].getImage();v&&(y=v.getScale(),v.setScale(u)),s.setStyle?(s.setStyle(d[g]),s.drawGeometry(f)):(s.setImageStyle(v),s.drawPointGeometry(f)),v&&v.setScale(y)}}if(c>1)return Object(Ou["b"])(this.listenerKey_),this.overlayLayer_.getSource().addFeatures(e),void this.overlayLayer_.changed();n.frameState.animate=!0}},dv.prototype.getClusterExtent=function(t){if(!t.get("features"))return null;var e=$();return t.get("features").forEach((function(t){e=st(e,t.getGeometry().getExtent())})),e[0]===e[2]&&e[1]===e[3]?null:e};var gv=dv,yv={name:"ol-interaction-clusterselect",emits:["select"],setup:function(t,e){var n=e.emit,r=Object(O["inject"])("map"),o=As(t),i=o.properties,a=Object(O["computed"])((function(){var t=new gv(Ns(Ns({},i),{},{style:new bl}));return t.on("select",(function(t){n("select",t)})),t}));Object(O["watch"])(a,(function(t,e){r.removeInteraction(e),r.addInteraction(t),r.changed()})),Object(O["onMounted"])((function(){r.addInteraction(a.value)})),Object(O["onUnmounted"])((function(){r.removeInteraction(a.value)})),Object(O["provide"])("stylable",a)},props:{multi:{type:Boolean,default:!1},condition:{type:Function},filter:{type:Function},pointRadius:{type:Number,default:7},animate:{type:Boolean,default:!0},featureStyle:{type:Function},style:{type:Function}}};yv.render=fv;var vv=yv;function _v(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var mv={name:"ol-interaction-draw",emits:["drawstart","drawend"],setup:function(t,e){var n=e.emit,r=Object(O["inject"])("map"),o=Object(O["inject"])("vectorSource"),i=Object(O["toRefs"])(t),a=i.type,s=i.clickTolerance,u=i.dragVertexDelay,l=i.snapTolerance,c=i.stopClick,h=i.maxPoints,p=i.minPoints,f=i.finishCondition,d=i.geometryFunction,g=i.geometryName,y=i.condition,v=i.freehand,_=i.freehandCondition,m=i.wrapX,b=function(){var t=new by({source:o.value,type:a.value,clickTolerance:s.value,dragVertexDelay:u.value,snapTolerance:l.value,stopClick:c.value,maxPoints:h.value,minPoints:p.value,finishCondition:f.value,geometryFunction:d.value,geometryName:g.value,condition:y.value,freehand:v.value,freehandCondition:_.value,wrapX:m.value});return t.on("drawstart",(function(t){n("drawstart",t)})),t.on("drawend",(function(t){n("drawend",t)})),t},w=b();Object(O["watch"])([a,s,u,l,c,h,p,f,d,g,y,v,_,m],(function(){r.removeInteraction(w),w=b(),r.addInteraction(w),w.changed(),r.changed()})),Object(O["onMounted"])((function(){r.addInteraction(w)})),Object(O["onUnmounted"])((function(){r.removeInteraction(w)})),Object(O["provide"])("stylable",w)},props:{type:{type:String,required:!0},clickTolerance:{type:Number,default:6},dragVertexDelay:{type:Number,default:500},snapTolerance:{type:Number,default:12},stopClick:{type:Boolean,default:!1},maxPoints:{type:Number},minPoints:{type:Number},finishCondition:{type:Function},geometryFunction:{type:Function},geometryName:{type:String},condition:{type:Function},freehand:{type:Boolean,default:!1},freehandCondition:{type:Function},wrapX:{type:Boolean,default:!1}}};mv.render=_v;var Ov=mv;function bv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var wv=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();function Ev(t){return t.feature?t.feature:t.element?t.element:void 0}var Sv=[],xv=function(t){function e(e){var n=this,r=e||{},o=r;return o.handleDownEvent||(o.handleDownEvent=E["b"]),o.stopDown||(o.stopDown=E["a"]),n=t.call(this,o)||this,n.source_=r.source?r.source:null,n.vertex_=void 0===r.vertex||r.vertex,n.edge_=void 0===r.edge||r.edge,n.features_=r.features?r.features:null,n.featuresListenerKeys_=[],n.featureChangeListenerKeys_={},n.indexedFeaturesExtents_={},n.pendingFeatures_={},n.pixelTolerance_=void 0!==r.pixelTolerance?r.pixelTolerance:10,n.rBush_=new fh,n.SEGMENT_WRITERS_={Point:n.writePointGeometry_.bind(n),LineString:n.writeLineStringGeometry_.bind(n),LinearRing:n.writeLineStringGeometry_.bind(n),Polygon:n.writePolygonGeometry_.bind(n),MultiPoint:n.writeMultiPointGeometry_.bind(n),MultiLineString:n.writeMultiLineStringGeometry_.bind(n),MultiPolygon:n.writeMultiPolygonGeometry_.bind(n),GeometryCollection:n.writeGeometryCollectionGeometry_.bind(n),Circle:n.writeCircleGeometry_.bind(n)},n}return wv(e,t),e.prototype.addFeature=function(t,e){var n=void 0===e||e,r=Object(S["c"])(t),o=t.getGeometry();if(o){var i=this.SEGMENT_WRITERS_[o.getType()];i&&(this.indexedFeaturesExtents_[r]=o.getExtent($()),i(t,o))}n&&(this.featureChangeListenerKeys_[r]=Object(fe["a"])(t,ce["a"].CHANGE,this.handleFeatureChange_,this))},e.prototype.forEachFeatureAdd_=function(t){this.addFeature(t)},e.prototype.forEachFeatureRemove_=function(t){this.removeFeature(t)},e.prototype.getFeatures_=function(){var t;return this.features_?t=this.features_:this.source_&&(t=this.source_.getFeatures()),t},e.prototype.handleEvent=function(e){var n=this.snapTo(e.pixel,e.coordinate,e.map);return n.snapped&&(e.coordinate=n.vertex.slice(0,2),e.pixel=n.vertexPixel),t.prototype.handleEvent.call(this,e)},e.prototype.handleFeatureAdd_=function(t){var e=Ev(t);this.addFeature(e)},e.prototype.handleFeatureRemove_=function(t){var e=Ev(t);this.removeFeature(e)},e.prototype.handleFeatureChange_=function(t){var e=t.target;if(this.handlingDownUpSequence){var n=Object(S["c"])(e);n in this.pendingFeatures_||(this.pendingFeatures_[n]=e)}else this.updateFeature_(e)},e.prototype.handleUpEvent=function(t){var e=Object(ae["c"])(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},e.prototype.removeFeature=function(t,e){var n=void 0===e||e,r=Object(S["c"])(t),o=this.indexedFeaturesExtents_[r];if(o){var i=this.rBush_,a=[];i.forEachInExtent(o,(function(e){t===e.feature&&a.push(e)}));for(var s=a.length-1;s>=0;--s)i.remove(a[s])}n&&(Object(fe["c"])(this.featureChangeListenerKeys_[r]),delete this.featureChangeListenerKeys_[r])},e.prototype.setMap=function(e){var n=this.getMap(),r=this.featuresListenerKeys_,o=this.getFeatures_();n&&(r.forEach(fe["c"]),r.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),t.prototype.setMap.call(this,e),e&&(this.features_?r.push(Object(fe["a"])(this.features_,xn.ADD,this.handleFeatureAdd_,this),Object(fe["a"])(this.features_,xn.REMOVE,this.handleFeatureRemove_,this)):this.source_&&r.push(Object(fe["a"])(this.source_,_h.ADDFEATURE,this.handleFeatureAdd_,this),Object(fe["a"])(this.source_,_h.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},e.prototype.snapTo=function(t,e,n){var r=n.getCoordinateFromPixel([t[0]-this.pixelTolerance_,t[1]+this.pixelTolerance_]),o=n.getCoordinateFromPixel([t[0]+this.pixelTolerance_,t[1]-this.pixelTolerance_]),i=V([r,o]),a=this.rBush_.getInExtent(i);this.vertex_&&!this.edge_&&(a=a.filter((function(t){return t.feature.getGeometry().getType()!==nr.CIRCLE})));var s=!1,u=null,l=null;if(0===a.length)return{snapped:s,vertex:u,vertexPixel:l};for(var c,h=n.getView().getProjection(),p=to(e,h),f=1/0,d=0;d<a.length;++d){var g=a[d];Sv[0]=to(g.segment[0],h),Sv[1]=to(g.segment[1],h);var y=Te(p,Sv);y<f&&(c=g,f=y)}var v=c.segment;if(this.vertex_&&!this.edge_){var _=n.getPixelFromCoordinate(v[0]),m=n.getPixelFromCoordinate(v[1]),O=xe(t,_),b=xe(t,m),w=Math.sqrt(Math.min(O,b));w<=this.pixelTolerance_&&(s=!0,u=O>b?v[1]:v[0],l=n.getPixelFromCoordinate(u))}else if(this.edge_){var E=c.feature.getGeometry().getType()===nr.CIRCLE;if(E){var S=c.feature.getGeometry(),x=$r();x&&(S=S.clone().transform(x,h)),u=Qr(Oe(p,S),h)}else Sv[0]=to(v[0],h),Sv[1]=to(v[1],h),u=Qr(be(p,Sv),h);if(l=n.getPixelFromCoordinate(u),Ce(t,l)<=this.pixelTolerance_&&(s=!0,this.vertex_&&!E)){_=n.getPixelFromCoordinate(v[0]),m=n.getPixelFromCoordinate(v[1]),O=xe(l,_),b=xe(l,m),w=Math.sqrt(Math.min(O,b));w<=this.pixelTolerance_&&(u=O>b?v[1]:v[0],l=n.getPixelFromCoordinate(u))}}return s&&(l=[Math.round(l[0]),Math.round(l[1])]),{snapped:s,vertex:u,vertexPixel:l}},e.prototype.updateFeature_=function(t){this.removeFeature(t,!1),this.addFeature(t,!1)},e.prototype.writeCircleGeometry_=function(t,e){var n=this.getMap().getView().getProjection(),r=e,o=$r();o&&(r=r.clone().transform(o,n));var i=ji(r);o&&i.transform(n,o);for(var a=i.getCoordinates()[0],s=0,u=a.length-1;s<u;++s){var l=a.slice(s,s+2),c={feature:t,segment:l};this.rBush_.insert(V(l),c)}},e.prototype.writeGeometryCollectionGeometry_=function(t,e){for(var n=e.getGeometriesArray(),r=0;r<n.length;++r){var o=this.SEGMENT_WRITERS_[n[r].getType()];o&&o(t,n[r])}},e.prototype.writeLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length-1;r<o;++r){var i=n.slice(r,r+2),a={feature:t,segment:i};this.rBush_.insert(V(i),a)}},e.prototype.writeMultiLineStringGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),l={feature:t,segment:u};this.rBush_.insert(V(u),l)}},e.prototype.writeMultiPointGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r){var i=n[r],a={feature:t,segment:[i,i]};this.rBush_.insert(e.getExtent(),a)}},e.prototype.writeMultiPolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length;a<s;++a)for(var u=i[a],l=0,c=u.length-1;l<c;++l){var h=u.slice(l,l+2),p={feature:t,segment:h};this.rBush_.insert(V(h),p)}},e.prototype.writePointGeometry_=function(t,e){var n=e.getCoordinates(),r={feature:t,segment:[n,n]};this.rBush_.insert(e.getExtent(),r)},e.prototype.writePolygonGeometry_=function(t,e){for(var n=e.getCoordinates(),r=0,o=n.length;r<o;++r)for(var i=n[r],a=0,s=i.length-1;a<s;++a){var u=i.slice(a,a+2),l={feature:t,segment:u};this.rBush_.insert(V(u),l)}},e}(Sa),Cv=xv,Tv={name:"ol-interaction-snap",setup:function(t){var e=Object(O["inject"])("map"),n=Object(O["inject"])("vectorSource"),r=As(t),o=r.properties,i=function(){var t=new Cv(Ns(Ns({},o),{},{source:n.value}));return t},a=i();Object(O["watch"])(o,(function(){e.removeInteraction(a),a=i(),e.addInteraction(a),e.changed()})),Object(O["onMounted"])((function(){e.addInteraction(a)})),Object(O["onUnmounted"])((function(){e.removeInteraction(a)}))},props:{vertex:{type:Boolean,default:!0},edge:{type:Boolean,default:!0},pixelTolerance:{type:Number,default:10}}};Tv.render=bv;var Rv=Tv;function Pv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var Iv={name:"ol-interaction-modify",emits:["modifystart","modifyend"],setup:function(t,e){var n=e.emit,r=Object(O["inject"])("map"),o=Object(O["inject"])("vectorSource"),i=Object(O["toRefs"])(t),a=i.features,s=i.condition,u=i.deleteCondition,l=i.insertVertexCondition,c=i.pixelTolerance,h=i.wrapX,p=i.hitDetection,f=function(){var t=new Ay({source:o.value,features:a.value,condition:s.value,deleteCondition:u.value,insertVertexCondition:l.value,pixelTolerance:c.value,wrapX:h.value,hitDetection:p.value});return t.on("modifystart",(function(t){n("modifystart",t)})),t.on("modifyend",(function(t){n("modifyend",t)})),t},d=f();Object(O["watch"])([s,u,l,c,h,p],(function(){r.removeInteraction(d),d=f(),r.addInteraction(d),d.changed(),r.changed()})),Object(O["onMounted"])((function(){r.addInteraction(d)})),Object(O["onUnmounted"])((function(){r.removeInteraction(d)})),Object(O["provide"])("stylable",d)},props:{condition:{type:Function},deleteCondition:{type:Function},insertVertexCondition:{type:Function},pixelTolerance:{type:Number,default:10},wrapX:{type:Boolean,default:!1},hitDetection:{type:Boolean},features:{type:[In,Object]}}};Iv.render=Pv;var Lv=Iv;function Mv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var Nv=function(t){t||(t={});var e=this;this.selection_=new In,this.handles_=new In,this.overlayLayer_=new uh({source:new Ph({features:this.handles_,useSpatialIndex:!1,wrapX:!1}),name:"Transform overlay",displayInLayerSwitcher:!1,style:function(t){return e.style[(t.get("handle")||"default")+(t.get("constraint")||"")+(t.get("option")||"")]}}),Sa.call(this,{handleDownEvent:this.handleDownEvent_,handleDragEvent:this.handleDragEvent_,handleMoveEvent:this.handleMoveEvent_,handleUpEvent:this.handleUpEvent_}),this.features_=t.features,"function"===typeof t.filter&&(this._filter=t.filter),this.layers_=t.layers?t.layers instanceof Array?t.layers:[t.layers]:null,this._handleEvent=t.condition||function(){return!0},this.addFn_=t.addCondition||function(){return!1},this.set("translateFeature",!1!==t.translateFeature),this.set("translate",!1!==t.translate),this.set("translateBBox",!0===t.translateBBox),this.set("stretch",!1!==t.stretch),this.set("scale",!1!==t.scale),this.set("rotate",!1!==t.rotate),this.set("keepAspectRatio",t.keepAspectRatio||function(t){return t.originalEvent.shiftKey}),this.set("modifyCenter",t.modifyCenter||function(t){return t.originalEvent.metaKey||t.originalEvent.ctrlKey}),this.set("noFlip",t.noFlip||!1),this.set("selection",!1!==t.selection),this.set("hitTolerance",t.hitTolerance||0),this.set("enableRotatedTransform",t.enableRotatedTransform||!1),this.on("propertychange",(function(){this.drawSketch_()})),this.setDefaultStyle()};Ah(Nv,Sa),Nv.prototype.Cursors={default:"auto",select:"pointer",translate:"move",rotate:"move",rotate0:"move",scale:"nesw-resize",scale1:"nwse-resize",scale2:"nesw-resize",scale3:"nwse-resize",scalev:"ew-resize",scaleh1:"ns-resize",scalev2:"ew-resize",scaleh3:"ns-resize"},Nv.prototype.setMap=function(t){var e=this.getMap();if(e){var n=e.getTargetElement();e.removeLayer(this.overlayLayer_),this.previousCursor_&&n&&(n.style.cursor=this.previousCursor_),this.previousCursor_=void 0}Sa.prototype.setMap.call(this,t),this.overlayLayer_.setMap(t),null===t&&this.select(null),null!==t&&(this.isTouch=/touch/.test(t.getViewport().className),this.setDefaultStyle())},Nv.prototype.setActive=function(t){this.select(null),this.overlayLayer_.setVisible(t),Sa.prototype.setActive.call(this,t)},Nv.prototype.setDefaultStyle=function(t){t=t||{};var e=t.pointStroke||new dl({color:[255,0,0,1],width:1}),n=t.stroke||new dl({color:[255,0,0,1],width:1,lineDash:[4,4]}),r=t.fill||new pl({color:[255,0,0,.01]}),o=t.pointFill||new pl({color:[255,255,255,.8]}),i=new sl({fill:o,stroke:e,radius:this.isTouch?12:6,points:15});i.getAnchor()[0]=this.isTouch?-10:-5;var a=new sl({fill:o,stroke:e,radius:this.isTouch?16:8,points:4,angle:Math.PI/4}),s=new sl({fill:o,stroke:e,radius:this.isTouch?12:6,points:4,angle:Math.PI/4});function u(t,e,n){return[new bl({image:t,stroke:e,fill:n})]}this.style={default:u(a,n,r),translate:u(a,e,o),rotate:u(i,e,o),rotate0:u(a,e,o),scale:u(a,e,o),scale1:u(a,e,o),scale2:u(a,e,o),scale3:u(a,e,o),scalev:u(s,e,o),scaleh1:u(s,e,o),scalev2:u(s,e,o),scaleh3:u(s,e,o)},this.drawSketch_()},Nv.prototype.setStyle=function(t,e){if(e){this.style[t]=e instanceof Array?e:[e];for(var n=0;n<this.style[t].length;n++){var r=this.style[t][n].getImage();r&&("rotate"==t&&(r.getAnchor()[0]=-5),this.isTouch&&r.setScale(1.8));var o=this.style[t][n].getText();o&&("rotate"==t&&o.setOffsetX(this.isTouch?14:7),this.isTouch&&o.setScale(1.8))}this.drawSketch_()}},Nv.prototype.getFeatureAtPixel_=function(t){var e=this;return this.getMap().forEachFeatureAtPixel(t,(function(t,n){var r=!1;if(!n){if(t===e.bbox_)return!!e.get("translateBBox")&&{feature:t,handle:"translate",constraint:"",option:""};if(e.handles_.forEach((function(e){e===t&&(r=!0)})),r)return{feature:t,handle:t.get("handle"),constraint:t.get("constraint"),option:t.get("option")}}if(!e.get("selection"))return e.selection_.getArray().some((function(e){return t===e}))?{feature:t}:null;if(e._filter)return e._filter(t,n)?{feature:t}:null;if(e.layers_){for(var o=0;o<e.layers_.length;o++)if(e.layers_[o]===n)return{feature:t};return null}return e.features_?(e.features_.forEach((function(e){e===t&&(r=!0)})),r?{feature:t}:null):{feature:t}}),{hitTolerance:this.get("hitTolerance")})||{}},Nv.prototype.getGeometryRotateToZero_=function(t,e){var n=t.getGeometry(),r=this.getMap().getView().getRotation();if(0===r||!this.get("enableRotatedTransform"))return e?n.clone():n;var o=n.clone();return o.rotate(-1*r,this.getMap().getView().getCenter()),o},Nv.prototype.drawSketch_=function(t){var e,n,r;if(this.overlayLayer_.getSource().clear(),this.selection_.getLength()){var o=this.getMap().getView().getRotation(),i=this.getGeometryRotateToZero_(this.selection_.item(0)).getExtent();if(i=X(i,0),this.selection_.forEach(function(t){var e=this.getGeometryRotateToZero_(t).getExtent();st(i,e)}.bind(this)),!0===t)this.ispt_||(this.overlayLayer_.getSource().addFeature(new Xs({geometry:new hi(this.center_),handle:"rotate0"})),r=Ai(i),this.get("enableRotatedTransform")&&0!==o&&r.rotate(o,this.getMap().getView().getCenter()),n=this.bbox_=new Xs(r),this.overlayLayer_.getSource().addFeature(n));else{if(this.ispt_){var a=this.getMap().getPixelFromCoordinate([i[0],i[1]]);i=V([this.getMap().getCoordinateFromPixel([a[0]-10,a[1]-10]),this.getMap().getCoordinateFromPixel([a[0]+10,a[1]+10])])}r=Ai(i),this.get("enableRotatedTransform")&&0!==o&&r.rotate(o,this.getMap().getView().getCenter()),n=this.bbox_=new Xs(r);var s=[],u=r.getCoordinates()[0];if(!this.ispt_){if(s.push(n),!this.iscircle_&&this.get("stretch")&&this.get("scale"))for(e=0;e<u.length-1;e++)n=new Xs({geometry:new hi([(u[e][0]+u[e+1][0])/2,(u[e][1]+u[e+1][1])/2]),handle:"scale",constraint:e%2?"h":"v",option:e}),s.push(n);if(this.get("scale"))for(e=0;e<u.length-1;e++)n=new Xs({geometry:new hi(u[e]),handle:"scale",option:e}),s.push(n);this.get("translate")&&!this.get("translateFeature")&&(n=new Xs({geometry:new hi([(u[0][0]+u[2][0])/2,(u[0][1]+u[2][1])/2]),handle:"translate"}),s.push(n))}!this.iscircle_&&this.get("rotate")&&(n=new Xs({geometry:new hi(u[3]),handle:"rotate"}),s.push(n)),this.overlayLayer_.getSource().addFeatures(s)}}},Nv.prototype.select=function(t,e){if(!t)return this.selection_.clear(),void this.drawSketch_();if(t.getGeometry&&t.getGeometry()){if(e)this.selection_.push(t);else{var n=this.selection_.getArray().indexOf(t);this.selection_.removeAt(n)}this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:t,features:this.selection_})}},Nv.prototype.setSelection=function(t){this.selection_.clear(),t.forEach(function(t){this.selection_.push(t)}.bind(this)),this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",features:this.selection_})},Nv.prototype.watchFeatures_=function(){this._featureListeners&&this._featureListeners.forEach((function(t){Object(Ou["b"])(t)})),this._featureListeners=[],this.selection_.forEach(function(t){this._featureListeners.push(t.on("change",function(){this.isUpdating_||this.drawSketch_()}.bind(this)))}.bind(this))},Nv.prototype.handleDownEvent_=function(t){if(this._handleEvent(t,this.selection_)){var e=this.getFeatureAtPixel_(t.pixel),n=e.feature;if(this.selection_.getLength()&&this.selection_.getArray().indexOf(n)>=0&&(this.ispt_&&this.get("translate")||this.get("translateFeature"))&&(e.handle="translate"),e.handle){this.mode_=e.handle,this.opt_=e.option,this.constraint_=e.constraint;var r=this.getMap().getView().getRotation();this.coordinate_=t.coordinate,this.pixel_=t.pixel,this.geoms_=[],this.rotatedGeoms_=[];for(var o,i=$(),a=$(),s=0;o=this.selection_.item(s);s++)if(this.geoms_.push(o.getGeometry().clone()),i=st(i,o.getGeometry().getExtent()),this.get("enableRotatedTransform")&&0!==r){var u=this.getGeometryRotateToZero_(o,!0);this.rotatedGeoms_.push(u),a=st(a,u.getExtent())}if(this.extent_=Ai(i).getCoordinates()[0],this.get("enableRotatedTransform")&&0!==r&&(this.rotatedExtent_=Ai(a).getCoordinates()[0]),"rotate"===this.mode_){this.center_=this.getCenter()||vt(i);var l=t.map.getTargetElement();l.style.cursor=this.Cursors.rotate0,this.previousCursor_=l.style.cursor}else this.center_=vt(i);return this.angle_=Math.atan2(this.center_[1]-t.coordinate[1],this.center_[0]-t.coordinate[0]),this.dispatchEvent({type:this.mode_+"start",feature:this.selection_.item(0),features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!0}if(this.get("selection")){if(n){this.addFn_(t)||this.selection_.clear();var c=this.selection_.getArray().indexOf(n);c<0?this.selection_.push(n):this.selection_.removeAt(c)}else this.selection_.clear();return this.ispt_=1===this.selection_.getLength()&&"Point"==this.selection_.item(0).getGeometry().getType(),this.iscircle_=1===this.selection_.getLength()&&"Circle"==this.selection_.item(0).getGeometry().getType(),this.drawSketch_(),this.watchFeatures_(),this.dispatchEvent({type:"select",feature:n,features:this.selection_,pixel:t.pixel,coordinate:t.coordinate}),!1}}},Nv.prototype.getFeatures=function(){return this.selection_},Nv.prototype.getCenter=function(){return this.get("center")},Nv.prototype.setCenter=function(t){return this.set("center",t)},Nv.prototype.handleDragEvent_=function(t){if(this._handleEvent(t,this.features_)){var e,n,r,o=this.getMap().getView().getRotation(),i=[this.coordinate_[0],this.coordinate_[1]],a=[t.coordinate[0],t.coordinate[1]];switch(this.isUpdating_=!0,this.mode_){case"rotate":var s=Math.atan2(this.center_[1]-a[1],this.center_[0]-a[0]);if(!this.ispt)for(e=0,n;n=this.selection_.item(e);e++)r=this.geoms_[e].clone(),r.rotate(s-this.angle_,this.center_),"Circle"==r.getType()&&r.setCenterAndRadius(r.getCenter(),r.getRadius()),n.setGeometry(r);this.drawSketch_(!0),this.dispatchEvent({type:"rotating",feature:this.selection_.item(0),features:this.selection_,angle:s-this.angle_,pixel:t.pixel,coordinate:t.coordinate});break;case"translate":var u=a[0]-i[0],l=a[1]-i[1];for(e=0,n;n=this.selection_.item(e);e++)n.getGeometry().translate(u,l);this.handles_.forEach((function(t){t.getGeometry().translate(u,l)})),this.coordinate_=t.coordinate,this.dispatchEvent({type:"translating",feature:this.selection_.item(0),features:this.selection_,delta:[u,l],pixel:t.pixel,coordinate:t.coordinate});break;case"scale":var c=this.center_;if(this.get("modifyCenter")(t)){var h=this.extent_;this.get("enableRotatedTransform")&&0!==o&&(h=this.rotatedExtent_),c=h[(Number(this.opt_)+2)%4]}var p=this.coordinate_,f=t.coordinate;if(this.get("enableRotatedTransform")&&0!==o){var d=new hi(this.coordinate_);d.rotate(-1*o,c),p=d.getCoordinates();var g=new hi(t.coordinate);g.rotate(-1*o,c),f=g.getCoordinates()}var y=(f[0]-c[0])/(p[0]-c[0]),v=(f[1]-c[1])/(p[1]-c[1]);if(this.get("enableRotatedTransform")&&0!==o){var _=new hi(c);_.rotate(-1*o,this.getMap().getView().getCenter()),c=_.getCoordinates()}for(this.get("noFlip")&&(y<0&&(y=-y),v<0&&(v=-v)),this.constraint_?"h"==this.constraint_?y=1:v=1:this.get("keepAspectRatio")(t)&&(y=v=Math.min(y,v)),e=0,n;n=this.selection_.item(e);e++)r=0!==o&&this.get("enableRotatedTransform")?this.rotatedGeoms_[e].clone():this.geoms_[e].clone(),r.applyTransform((function(t,e,n){if(n<2)return e;for(var o=0;o<t.length;o+=n)1!=y&&(e[o]=c[0]+(t[o]-c[0])*y),1!=v&&(e[o+1]=c[1]+(t[o+1]-c[1])*v);return"Circle"==r.getType()&&r.setCenterAndRadius(r.getCenter(),r.getRadius()),e})),this.get("enableRotatedTransform")&&0!==o&&r.rotate(o,this.getMap().getView().getCenter()),n.setGeometry(r);this.drawSketch_(),this.dispatchEvent({type:"scaling",feature:this.selection_.item(0),features:this.selection_,scale:[y,v],pixel:t.pixel,coordinate:t.coordinate});break;default:break}this.isUpdating_=!1}},Nv.prototype.handleMoveEvent_=function(t){if(this._handleEvent(t,this.features_)&&!this.mode_){var e=this.getFeatureAtPixel_(t.pixel),n=t.map.getTargetElement();if(e.feature){var r=e.handle?this.Cursors[(e.handle||"default")+(e.constraint||"")+(e.option||"")]:this.Cursors.select;void 0===this.previousCursor_&&(this.previousCursor_=n.style.cursor),n.style.cursor=r}else void 0!==this.previousCursor_&&(n.style.cursor=this.previousCursor_),this.previousCursor_=void 0}},Nv.prototype.handleUpEvent_=function(t){if("rotate"===this.mode_){var e=t.map.getTargetElement();e.style.cursor=this.Cursors.default,this.previousCursor_=void 0}return this.dispatchEvent({type:this.mode_+"end",feature:this.selection_.item(0),features:this.selection_,oldgeom:this.geoms_[0],oldgeoms:this.geoms_}),this.drawSketch_(),this.mode_=null,!1},Nv.prototype.getFeatures=function(){return this.selection_};var Av=Nv,jv={name:"ol-interaction-transform",setup:function(t){var e=Object(O["inject"])("map"),n=As(t),r=n.properties,o=Object(O["computed"])((function(){var t=new Av(Ns({},r));return t}));Object(O["watch"])(o,(function(t,n){e.removeInteraction(n),e.addInteraction(t),e.changed()})),Object(O["onMounted"])((function(){e.addInteraction(o.value)})),Object(O["onUnmounted"])((function(){e.removeInteraction(o.value)})),Object(O["provide"])("stylable",o)},props:{enableRotatedTransform:{type:Boolean,default:!1},condition:{type:Function},addCondition:{type:Function},filter:{type:Function},layers:{type:Array},hitTolerance:{type:Number,default:2},translateFeature:{type:Boolean,default:!0},scale:{type:Boolean,default:!0},rotate:{type:Boolean,default:!0},keepAspectRatio:{type:Boolean,default:!1},translate:{type:Boolean,default:!0},stretch:{type:Boolean,default:!0}}};jv.render=Mv;var Fv=jv;function Gv(t){Gv.installed||(Gv.installed=!0,t.component(pv.name,pv),t.component(vv.name,vv),t.component(Ov.name,Ov),t.component(Rv.name,Rv),t.component(Lv.name,Lv),t.component(Fv.name,Fv))}var Dv=Gv;function kv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var Bv={setup:function(){var t=Object(O["inject"])("map"),e=Object(O["inject"])("vectorLayer");return{map:t,vectorLayer:e}},props:{duration:{type:Number,default:1e3},revers:{type:Boolean,default:!1},repeat:{type:Number,default:0},fade:{type:Function},easing:{type:Function,default:_o}}};Bv.render=kv;var Yv=Bv;function Uv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}n("d81d");var Vv=function(t){t=t||{},this.duration_="number"==typeof t.duration?t.duration>=0?t.duration:0:1e3,this.fade_="function"==typeof t.fade?t.fade:null,this.repeat_=Number(t.repeat);var e="function"==typeof t.easing?t.easing:Oo;t.revers?this.easing_=function(t){return 1-e(t)}:this.easing_=e,this.hiddenStyle=t.hiddenStyle,oe["a"].call(this)};Ah(Vv,oe["a"]),Vv.hiddenStyle=new bl({image:new cl({}),stroke:new dl({color:"transparent"})}),Vv.prototype.drawGeom_=function(t,e,n){this.fade_&&(t.context.globalAlpha=this.fade_(1-t.elapsed));for(var r=t.style,o=0;o<r.length;o++)try{var i=t.vectorContext||Fh(t);i.setStyle(r[o]),r[o].getZIndex()<0?i.drawGeometry(n||e):i.drawGeometry(e)}catch(t){}},Vv.prototype.animate=function(){return!1},Is.prototype.animateFeature=function(t,e){var n=this._featureAnimationLayer;n||(n=this._featureAnimationLayer=new uh({source:new Ph}),n.setMap(this)),n.getSource().addFeature(t);var r=e.on("animationend",(function(e){e.feature===t&&(n.getSource().removeFeature(t),Object(Ou["b"])(r))}));n.animateFeature(t,e)},le.prototype.animateFeature=function(t,e,n){var r,o=this,i=t.getStyle(),a=i||(this.getStyleFunction?this.getStyleFunction()(t):null);a||(a=[]),a instanceof Array||(a=[a]);var s={vectorContext:null,frameState:null,start:0,time:0,elapsed:0,extent:!1,feature:t,geom:t.getGeometry(),typeGeom:t.getGeometry().getType(),bbox:t.getGeometry().getExtent(),coord:vt(t.getGeometry().getExtent()),style:a};e instanceof Array||(e=[e]);for(var u=e.length-1;u>=0;u--)0===e[u].duration_&&e.splice(u,1);var l=0,c=0,h=n&&this.getFilters?this.getFilters():[];function p(n){s.type=n.type;try{s.vectorContext=n.vectorContext||Fh(n)}catch(n){}if(s.frameState=n.frameState,s.inversePixelTransform=n.inversePixelTransform,s.extent||(s.extent=n.frameState.extent,s.start=n.frameState.time,s.context=n.context),s.time=n.frameState.time-s.start,s.elapsed=s.time/e[c].duration_,s.elapsed>1&&(s.elapsed=1),n.context.save(),h.forEach((function(t){t.get("active")&&t.precompose(n)})),this.getOpacity&&(n.context.globalAlpha=this.getOpacity()),e[c].animate(s)){var r={type:"animating",step:c,start:s.start,time:s.time,elapsed:s.elapsed,rotation:s.rotation||0,geom:s.geom,coordinate:s.coord,feature:t};e[c].dispatchEvent(r),o.dispatchEvent(r)}else l++,l<e[c].repeat_?s.extent=!1:c<e.length-1?(e[c].dispatchEvent({type:"animationend",feature:t}),c++,l=0,s.extent=!1):f();h.forEach((function(t){t.get("active")&&t.postcompose(n)})),n.context.restore(),n.frameState.animate=!0}function f(n){Object(Ou["b"])(r),r=null,t.setStyle(i);var a={type:"animationend",feature:t};if(n)for(var s in n)n.hasOwnProperty(s)&&(a[s]=n[s]);e[c].dispatchEvent(a),o.dispatchEvent(a)}function d(n){if(e.length&&!r){r=o.on(["postcompose","postrender"],p.bind(o)),o.renderSync?o.renderSync():o.changed(),t.setStyle(e[c].hiddenStyle||Vv.hiddenStyle);var i={type:"animationstart",feature:t};if(n)for(var a in n)n.hasOwnProperty(a)&&(i[a]=n[a]);e[c].dispatchEvent(i),o.dispatchEvent(i)}}return d(),{start:d,stop:f,isPlaying:function(){return!!r}}};var zv=Vv,Xv=function(t){t=t||{},this.speed_=t.speed||0,zv.call(this,t),this.side_=t.side||"top"};Ah(Xv,zv),Xv.prototype.animate=function(t){if(!t.time){var e=t.frameState.viewState.rotation,n=t.frameState.size[1]*t.frameState.viewState.resolution;"top"!=this.side_&&(n*=-1),this.dx=-Math.sin(e)*n,this.dy=Math.cos(e)*n,this.speed_&&(this.duration_=n/this.speed_/t.frameState.viewState.resolution)}var r=t.geom.clone();return r.translate(this.dx*(1-this.easing_(t.elapsed)),this.dy*(1-this.easing_(t.elapsed))),this.drawGeom_(t,r,t.geom),t.time<=this.duration_};var Wv=Xv;function Zv(t,e){var n=Yv.setup(),r=n.map,o=n.vectorLayer,i=As(e),a=i.properties,s=Object(O["computed"])((function(){var e=new t(Ns({},a));return e}));return Object(O["provide"])("animation",s),{map:r,vectorLayer:o,animation:s,properties:a}}var Hv={name:"ol-animation-drop",extends:Yv,setup:function(t){var e=Zv(Wv,t),n=e.map,r=e.vectorLayer,o=e.properties;return{map:n,vectorLayer:r,properties:o}},props:{side:{type:Number,default:0},speed:{type:Number,default:0}}};Hv.render=Uv;var Kv=Hv;function qv(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var Jv=function(t){t=t||{},zv.call(this,t),this.amplitude_=t.amplitude||40,this.bounce_=-Math.PI*(t.bounce||6),this.horizontal_=t.horizontal};Ah(Jv,zv),Jv.prototype.animate=function(t){var e=t.geom.clone(),n=t.geom.clone(),r=this.easing_(t.elapsed);return r=Math.sin(this.bounce_*r)*this.amplitude_*(1-r)*t.frameState.viewState.resolution,this.horizontal_?(e.translate(r,0),n.translate(r,0)):e.translate(0,r),this.drawGeom_(t,e,n),t.time<=this.duration_};var $v=Jv,Qv={name:"ol-animation-shake",extends:Yv,setup:function(t){var e=Zv($v,t),n=e.map,r=e.vectorLayer,o=e.properties,i=e.animation;return{map:n,vectorLayer:r,properties:o,animation:i}},props:{bounce:{type:Number,default:6},amplitude:{type:Number,default:40},horizontal:{type:Boolean,default:!1}}};Qv.render=qv;var t_=Qv;function e_(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var n_=function(t){t=t||{},zv.call(this,t),this.set("zoomout",t.zoomOut)};Ah(n_,zv);var r_=function(t){t=t||{},t.zoomOut=!0,n_.call(this,t)};Ah(r_,n_),n_.prototype.animate=function(t){var e=this.easing_(t.elapsed);if(e){this.get("zoomout")&&(e=1/e);var n,r,o=t.style,i=[];for(n=0;n<o.length;n++)r=o[n].getImage(),r&&(i[n]=r.getScale(),"postrender"===t.type?r.setScale(i[n]*e/t.frameState.pixelRatio):r.setScale(i[n]*e));for(this.drawGeom_(t,t.geom),n=0;n<o.length;n++)r=o[n].getImage(),r&&r.setScale(i[n])}return t.time<=this.duration_};var o_=n_,i_={name:"ol-animation-zoom",extends:Yv,setup:function(t){var e=Zv(o_,t),n=e.map,r=e.vectorLayer,o=e.properties;return{map:n,vectorLayer:r,properties:o}},props:{zoomOut:{type:Boolean,default:!1}}};i_.render=e_;var a_=i_;function s_(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var u_=function(t){zv.call(this,t)};Ah(u_,zv),u_.prototype.animate=function(t){var e=this.easing_(t.elapsed);if(e){t.context.save();var n=t.frameState.pixelRatio;t.context.globalAlpha=e,t.context.scale(e,1/e);var r=t.frameState.coordinateToPixelTransform,o=(1/e-1)*n*(r[0]*t.coord[0]+r[1]*t.coord[1]+r[4]),i=(e-1)*n*(r[2]*t.coord[0]+r[3]*t.coord[1]+r[5]);t.context.translate(o,i),this.drawGeom_(t,t.geom),t.context.restore()}return t.time<=this.duration_};var l_=u_,c_={name:"ol-animation-teleport",extends:Yv,setup:function(t){var e=Zv(l_,t),n=e.map,r=e.vectorLayer,o=e.properties;return{map:n,vectorLayer:r,properties:o}},props:{}};c_.render=s_;var h_=c_;function p_(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var f_=function(t){t=t||{},this.speed_=t.speed||0,zv.call(this,t)};Ah(f_,zv),f_.prototype.animate=function(t){return t.context.globalAlpha=this.easing_(t.elapsed),this.drawGeom_(t,t.geom),t.time<=this.duration_};var d_=f_,g_={name:"ol-animation-fade",extends:Yv,setup:function(t){var e=Zv(d_,t),n=e.map,r=e.vectorLayer,o=e.properties;return{map:n,vectorLayer:r,properties:o}}};g_.render=p_;var y_=g_;function v_(t,e,n,r,o,i){return Object(O["renderSlot"])(t.$slots,"default")}var __=function(t){t=t||{},this.speed_=t.speed||0,zv.call(this,t),this.side_=t.side||"left"};Ah(__,zv),__.prototype.animate=function(t){t.time||("left"==this.side_?this.dx=t.extent[0]-t.bbox[2]:this.dx=t.extent[2]-t.bbox[0],this.speed_&&(this.duration_=Math.abs(this.dx)/this.speed_/t.frameState.viewState.resolution));var e=t.geom.clone();return e.translate(this.dx*(1-this.easing_(t.elapsed)),0),this.drawGeom_(t,e),t.time<=this.duration_};var m_=__,O_={name:"ol-animation-slide",extends:Yv,setup:function(t){var e=Zv(m_,t),n=e.map,r=e.vectorLayer,o=e.properties;return{map:n,vectorLayer:r,properties:o}},props:{speed:{type:Number,default:0}}};O_.render=v_;var b_=O_;function w_(t){w_.installed||(w_.installed=!0,t.component(Yv.name,Yv),t.component(Kv.name,Kv),t.component(t_.name,t_),t.component(a_.name,a_),t.component(h_.name,h_),t.component(y_.name,y_),t.component(b_.name,b_))}var E_=w_,S_=(n("5bc0"),n("dbd0"),n("872d"),n("7d05"),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),x_=function(t){function e(e){var n=t.call(this)||this;return n.geometries_=e||null,n.changeEventsKeys_=[],n.listenGeometriesChange_(),n}return S_(e,t),e.prototype.unlistenGeometriesChange_=function(){this.changeEventsKeys_.forEach(fe["c"]),this.changeEventsKeys_.length=0},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)this.changeEventsKeys_.push(Object(fe["a"])(this.geometries_[t],ce["a"].CHANGE,this.changed,this))},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t.applyProperties(this),t},e.prototype.closestPointXY=function(t,e,n,r){if(r<Z(this.getExtent(),t,e))return r;for(var o=this.geometries_,i=0,a=o.length;i<a;++i)r=o[i].closestPointXY(t,e,n,r);return r},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)if(n[r].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){tt(t);for(var e=this.geometries_,n=0,r=e.length;n<r;++n)st(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return C_(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getGeometriesArrayRecursive=function(){for(var t=[],e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].getType()===this.getType()?t=t.concat(e[n].getGeometriesArrayRecursive()):t.push(e[n]);return t},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;for(var n=[],r=this.geometries_,o=!1,i=0,a=r.length;i<a;++i){var s=r[i],u=s.getSimplifiedGeometry(t);n.push(u),u!==s&&(o=!0)}if(o){var l=new e(null);return l.setGeometriesArray(n),l}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return nr.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var r=n;r||(r=vt(this.getExtent()));for(var o=this.geometries_,i=0,a=o.length;i<a;++i)o[i].scale(t,e,r);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(C_(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,r=e.length;n<r;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,r=0,o=n.length;r<o;++r)n[r].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(Io);function C_(t){for(var e=[],n=0,r=t.length;n<r;++n)e.push(t[n].clone());return e}var T_=x_,R_=function(){function t(){this.dataProjection=void 0,this.defaultFeatureProjection=void 0}return t.prototype.getReadOptions=function(t,e){var n;if(e){var r=e.dataProjection?Yr(e.dataProjection):this.readProjection(t);e.extent&&r&&r.getUnits()===ir.TILE_PIXELS&&(r=Yr(r),r.setWorldExtent(e.extent)),n={dataProjection:r,featureProjection:e.featureProjection}}return this.adaptOptions(n)},t.prototype.adaptOptions=function(t){return Object(ae["a"])({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},t.prototype.getType=function(){return Object(S["b"])()},t.prototype.readFeature=function(t,e){return Object(S["b"])()},t.prototype.readFeatures=function(t,e){return Object(S["b"])()},t.prototype.readGeometry=function(t,e){return Object(S["b"])()},t.prototype.readProjection=function(t){return Object(S["b"])()},t.prototype.writeFeature=function(t,e){return Object(S["b"])()},t.prototype.writeFeatures=function(t,e){return Object(S["b"])()},t.prototype.writeGeometry=function(t,e){return Object(S["b"])()},t}(),P_=R_;function I_(t,e,n){var r,o=n?Yr(n.featureProjection):null,i=n?Yr(n.dataProjection):null;if(r=o&&i&&!Wr(o,i)?(e?t.clone():t).transform(e?o:i,e?i:o):t,e&&n&&void 0!==n.decimals){var a=Math.pow(10,n.decimals),s=function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*a)/a;return t};r===t&&(r=t.clone()),r.applyTransform(s)}return r}function L_(t,e){var n=e?Yr(e.featureProjection):null,r=e?Yr(e.dataProjection):null;return n&&r&&!Wr(n,r)?qr(t,r,n):t}var M_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),N_=function(t){function e(){return t.call(this)||this}return M_(e,t),e.prototype.getType=function(){return wh.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(A_(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(A_(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return Object(S["b"])()},e.prototype.readFeaturesFromObject=function(t,e){return Object(S["b"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(A_(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return Object(S["b"])()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(A_(t))},e.prototype.readProjectionFromObject=function(t){return Object(S["b"])()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return Object(S["b"])()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return Object(S["b"])()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return Object(S["b"])()},e}(P_);function A_(t){if("string"===typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}var j_=N_,F_=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),G_={};G_[nr.POINT]=U_,G_[nr.LINE_STRING]=V_,G_[nr.POLYGON]=H_,G_[nr.MULTI_POINT]=W_,G_[nr.MULTI_LINE_STRING]=z_,G_[nr.MULTI_POLYGON]=Z_;var D_={};D_[nr.POINT]=K_,D_[nr.LINE_STRING]=J_,D_[nr.POLYGON]=$_,D_[nr.MULTI_POINT]=tm,D_[nr.MULTI_LINE_STRING]=Q_,D_[nr.MULTI_POLYGON]=em;var k_=function(t){function e(e){var n=this,r=e||{};return n=t.call(this)||this,n.geometryName_=r.geometryName,n}return F_(e,t),e.prototype.readFeatureFromObject=function(t,e,n){var r=t,o=B_(r.geometry,e),i=new Xs;if(this.geometryName_&&i.setGeometryName(this.geometryName_),i.setGeometry(o),r.attributes){i.setProperties(r.attributes,!0);var a=r.attributes[n];void 0!==a&&i.setId(a)}return i},e.prototype.readFeaturesFromObject=function(t,e){var n=e||{};if(t["features"]){for(var r=t,o=[],i=r.features,a=0,s=i.length;a<s;++a)o.push(this.readFeatureFromObject(i[a],n,t.objectIdFieldName));return o}return[this.readFeatureFromObject(t,n)]},e.prototype.readGeometryFromObject=function(t,e){return B_(t,e)},e.prototype.readProjectionFromObject=function(t){if(t["spatialReference"]&&void 0!==t["spatialReference"]["wkid"]){var e=t["spatialReference"],n=e.wkid;return Yr("EPSG:"+n)}return null},e.prototype.writeGeometryObject=function(t,e){return nm(t,this.adaptOptions(e))},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={};if(!t.hasProperties())return n["attributes"]={},n;var r=t.getProperties(),o=t.getGeometry();if(o){n["geometry"]=nm(o,e);var i=e&&(e.dataProjection||e.featureProjection);i&&(n["geometry"]["spatialReference"]={wkid:Number(Yr(i).getCode().split(":").pop())}),delete r[t.getGeometryName()]}return Object(ae["d"])(r)?n["attributes"]={}:n["attributes"]=r,n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,o=t.length;r<o;++r)n.push(this.writeFeatureObject(t[r],e));return{features:n}},e}(j_);function B_(t,e){var n,r,o;if(!t)return null;if("number"===typeof t["x"]&&"number"===typeof t["y"])o=nr.POINT;else if(t["points"])o=nr.MULTI_POINT;else if(t["paths"]){var i=t;o=1===i.paths.length?nr.LINE_STRING:nr.MULTI_LINE_STRING}else if(t["rings"]){var a=t,s=X_(a),u=Y_(a.rings,s);1===u.length?(o=nr.POLYGON,t=Object(ae["a"])({},t,(n={},n["rings"]=u[0],n))):(o=nr.MULTI_POLYGON,t=Object(ae["a"])({},t,(r={},r["rings"]=u,r)))}var l=G_[o];return I_(l(t),!1,e)}function Y_(t,e){var n,r,o=[],i=[],a=[];for(n=0,r=t.length;n<r;++n){o.length=0,Xo(o,0,t[n],e.length);var s=xi(o,0,o.length,e.length);s?i.push([t[n]]):a.push(t[n])}while(a.length){var u=a.shift(),l=!1;for(n=i.length-1;n>=0;n--){var c=i[n][0],h=K(new ui(c).getExtent(),new ui(u).getExtent());if(h){i[n].push(u),l=!0;break}}l||i.push([u.reverse()])}return i}function U_(t){var e;return e=void 0!==t.m&&void 0!==t.z?new hi([t.x,t.y,t.z,t.m],wo.XYZM):void 0!==t.z?new hi([t.x,t.y,t.z],wo.XYZ):void 0!==t.m?new hi([t.x,t.y,t.m],wo.XYM):new hi([t.x,t.y]),e}function V_(t){var e=X_(t);return new Gg(t.paths[0],e)}function z_(t){var e=X_(t);return new $g(t.paths,e)}function X_(t){var e=wo.XY;return!0===t.hasZ&&!0===t.hasM?e=wo.XYZM:!0===t.hasZ?e=wo.XYZ:!0===t.hasM&&(e=wo.XYM),e}function W_(t){var e=X_(t);return new Wg(t.points,e)}function Z_(t){var e=X_(t);return new iy(t.rings,e)}function H_(t){var e=X_(t);return new Mi(t.rings,e)}function K_(t,e){var n,r=t.getCoordinates(),o=t.getLayout();return o===wo.XYZ?n={x:r[0],y:r[1],z:r[2]}:o===wo.XYM?n={x:r[0],y:r[1],m:r[2]}:o===wo.XYZM?n={x:r[0],y:r[1],z:r[2],m:r[3]}:o===wo.XY?n={x:r[0],y:r[1]}:P(!1,34),n}function q_(t){var e=t.getLayout();return{hasZ:e===wo.XYZ||e===wo.XYZM,hasM:e===wo.XYM||e===wo.XYZM}}function J_(t,e){var n=q_(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:[t.getCoordinates()]}}function $_(t,e){var n=q_(t);return{hasZ:n.hasZ,hasM:n.hasM,rings:t.getCoordinates(!1)}}function Q_(t,e){var n=q_(t);return{hasZ:n.hasZ,hasM:n.hasM,paths:t.getCoordinates()}}function tm(t,e){var n=q_(t);return{hasZ:n.hasZ,hasM:n.hasM,points:t.getCoordinates()}}function em(t,e){for(var n=q_(t),r=t.getCoordinates(!1),o=[],i=0;i<r.length;i++)for(var a=r[i].length-1;a>=0;a--)o.push(r[i][a]);return{hasZ:n.hasZ,hasM:n.hasM,rings:o}}function nm(t,e){var n=D_[t.getType()];return n(I_(t,!0,e),e)}var rm=k_,om=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),im=function(t){function e(e){var n=this,r=e||{};return n=t.call(this)||this,n.dataProjection=Yr(r.dataProjection?r.dataProjection:"EPSG:4326"),r.featureProjection&&(n.defaultFeatureProjection=Yr(r.featureProjection)),n.geometryName_=r.geometryName,n.extractGeometryName_=r.extractGeometryName,n}return om(e,t),e.prototype.readFeatureFromObject=function(t,e){var n=null;n="Feature"===t["type"]?t:{type:"Feature",geometry:t,properties:null};var r=am(n["geometry"],e),o=new Xs;return this.geometryName_?o.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&o.setGeometryName(n["geometry_name"]),o.setGeometry(r),"id"in n&&o.setId(n["id"]),n["properties"]&&o.setProperties(n["properties"],!0),o},e.prototype.readFeaturesFromObject=function(t,e){var n=t,r=null;if("FeatureCollection"===n["type"]){var o=t;r=[];for(var i=o["features"],a=0,s=i.length;a<s;++a)r.push(this.readFeatureFromObject(i[a],e))}else r=[this.readFeatureFromObject(t,e)];return r},e.prototype.readGeometryFromObject=function(t,e){return am(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t["crs"];return n?"name"==n["type"]?e=Yr(n["properties"]["name"]):"EPSG"===n["type"]?e=Yr("EPSG:"+n["properties"]["code"]):P(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},r=t.getId();if(void 0!==r&&(n.id=r),!t.hasProperties())return n;var o=t.getProperties(),i=t.getGeometry();return i&&(n.geometry=dm(i,e),delete o[t.getGeometryName()]),Object(ae["d"])(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],r=0,o=t.length;r<o;++r)n.push(this.writeFeatureObject(t[r],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return dm(t,this.adaptOptions(e))},e}(j_);function am(t,e){if(!t)return null;var n;switch(t["type"]){case nr.POINT:n=um(t);break;case nr.LINE_STRING:n=lm(t);break;case nr.POLYGON:n=fm(t);break;case nr.MULTI_POINT:n=hm(t);break;case nr.MULTI_LINE_STRING:n=cm(t);break;case nr.MULTI_POLYGON:n=pm(t);break;case nr.GEOMETRY_COLLECTION:n=sm(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return I_(n,!1,e)}function sm(t,e){var n=t["geometries"].map((function(t){return am(t,e)}));return new T_(n)}function um(t){return new hi(t["coordinates"])}function lm(t){return new Gg(t["coordinates"])}function cm(t){return new $g(t["coordinates"])}function hm(t){return new Wg(t["coordinates"])}function pm(t){return new iy(t["coordinates"])}function fm(t){return new Mi(t["coordinates"])}function dm(t,e){t=I_(t,!0,e);var n,r=t.getType();switch(r){case nr.POINT:n=Om(t,e);break;case nr.LINE_STRING:n=ym(t,e);break;case nr.POLYGON:n=bm(t,e);break;case nr.MULTI_POINT:n=_m(t,e);break;case nr.MULTI_LINE_STRING:n=vm(t,e);break;case nr.MULTI_POLYGON:n=mm(t,e);break;case nr.GEOMETRY_COLLECTION:n=gm(t,e);break;case nr.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+r)}return n}function gm(t,e){var n=t.getGeometriesArray().map((function(t){var n=Object(ae["a"])({},e);return delete n.featureProjection,dm(t,n)}));return{type:"GeometryCollection",geometries:n}}function ym(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function vm(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function _m(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function mm(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function Om(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function bm(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}var wm=im,Em="http://www.w3.org/2001/XMLSchema-instance";function Sm(t,e){return Hm().createElementNS(t,e)}function xm(t,e){return Cm(t,e,[]).join("")}function Cm(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var r=void 0;for(r=t.firstChild;r;r=r.nextSibling)Cm(r,e,n)}return n}function Tm(t){return"documentElement"in t}function Rm(t,e,n){return t.getAttributeNS(e,n)||""}function Pm(t){return(new DOMParser).parseFromString(t,"application/xml")}function Im(t,e){return function(n,r){var o=t.call(void 0!==e?e:this,n,r);if(void 0!==o){var i=r[r.length-1];Object(ao["c"])(i,o)}}}function Lm(t,e){return function(n,r){var o=t.call(void 0!==e?e:this,n,r);if(void 0!==o){var i=r[r.length-1];i.push(o)}}}function Mm(t,e){return function(n,r){var o=t.call(void 0!==e?e:this,n,r);void 0!==o&&(r[r.length-1]=o)}}function Nm(t,e,n){return function(r,o){var i=t.call(void 0!==n?n:this,r,o);if(void 0!==i){var a=o[o.length-1],s=void 0!==e?e:r.localName,u=void 0;s in a?u=a[s]:(u=[],a[s]=u),u.push(i)}}}function Am(t,e,n){return function(r,o){var i=t.call(void 0!==n?n:this,r,o);if(void 0!==i){var a=o[o.length-1],s=void 0!==e?e:r.localName;a[s]=i}}}function jm(t,e){return function(n,r,o){t.call(void 0!==e?e:this,n,r,o);var i=o[o.length-1],a=i.node;a.appendChild(n)}}function Fm(t,e){var n,r;return function(e,o,i){if(void 0===n){n={};var a={};a[e.localName]=t,n[e.namespaceURI]=a,r=Gm(e.localName)}Vm(n,r,o,i)}}function Gm(t,e){var n=t;return function(t,r,o){var i=r[r.length-1],a=i.node,s=n;void 0===s&&(s=o);var u=void 0!==e?e:a.namespaceURI;return Sm(u,s)}}var Dm=Gm();function km(t,e){for(var n=e.length,r=new Array(n),o=0;o<n;++o)r[o]=t[e[o]];return r}function Bm(t,e,n){var r,o,i=void 0!==n?n:{};for(r=0,o=t.length;r<o;++r)i[t[r]]=e;return i}function Ym(t,e,n,r){var o;for(o=e.firstElementChild;o;o=o.nextElementSibling){var i=t[o.namespaceURI];if(void 0!==i){var a=i[o.localName];void 0!==a&&a.call(r,o,n)}}}function Um(t,e,n,r,o){return r.push(t),Ym(e,n,r,o),r.pop()}function Vm(t,e,n,r,o,i){for(var a,s,u=(void 0!==o?o:n).length,l=0;l<u;++l)a=n[l],void 0!==a&&(s=e.call(void 0!==i?i:this,a,r,void 0!==o?o[l]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(i,s,a,r))}function zm(t,e,n,r,o,i,a){return o.push(t),Vm(e,n,r,o,i,a),o.pop()}var Xm=void 0;function Wm(){return void 0===Xm&&"undefined"!==typeof XMLSerializer&&(Xm=new XMLSerializer),Xm}var Zm=void 0;function Hm(){return void 0===Zm&&"undefined"!==typeof document&&(Zm=document.implementation.createDocument("","",null)),Zm}var Km=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),qm=function(t){function e(){var e=t.call(this)||this;return e.xmlSerializer_=Wm(),e}return Km(e,t),e.prototype.getType=function(){return wh.XML},e.prototype.readFeature=function(t,e){if(t){if("string"===typeof t){var n=Pm(t);return this.readFeatureFromDocument(n,e)}return Tm(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"===typeof t){var n=Pm(t);return this.readFeaturesFromDocument(n,e)}return Tm(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],r=t.firstChild;r;r=r.nextSibling)r.nodeType==Node.ELEMENT_NODE&&Object(ao["c"])(n,this.readFeaturesFromNode(r,e));return n},e.prototype.readFeaturesFromNode=function(t,e){return Object(S["b"])()},e.prototype.readGeometry=function(t,e){if(t){if("string"===typeof t){var n=Pm(t);return this.readGeometryFromDocument(n,e)}return Tm(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"===typeof t){var e=Pm(t);return this.readProjectionFromDocument(e)}return Tm(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeGeometryNode=function(t,e){return null},e}(P_),Jm=qm,$m=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Qm="http://www.opengis.net/gml",tO=/^[\s\xa0]*$/,eO=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.featureType=r.featureType,n.featureNS=r.featureNS,n.srsName=r.srsName,n.schemaLocation="",n.FEATURE_COLLECTION_PARSERS={},n.FEATURE_COLLECTION_PARSERS[n.namespace]={featureMember:Lm(n.readFeaturesInternal),featureMembers:Mm(n.readFeaturesInternal)},n}return $m(e,t),e.prototype.readFeaturesInternal=function(t,e){var n=t.localName,r=null;if("FeatureCollection"==n)r=Um([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==n||"featureMember"==n||"member"==n){var o=e[0],i=o["featureType"],a=o["featureNS"],s="p",u="p0";if(!i&&t.childNodes){i=[],a={};for(var l=0,c=t.childNodes.length;l<c;++l){var h=t.childNodes[l];if(1===h.nodeType){var p=h.nodeName.split(":").pop();if(-1===i.indexOf(p)){var f="",d=0,g=h.namespaceURI;for(var y in a){if(a[y]===g){f=y;break}++d}f||(f=s+d,a[f]=g),i.push(f+":"+p)}}}"featureMember"!=n&&(o["featureType"]=i,o["featureNS"]=a)}if("string"===typeof a){var v=a;a={},a[u]=v}var _={},m=Array.isArray(i)?i:[i];for(var O in a){var b={};for(l=0,c=m.length;l<c;++l){var w=-1===m[l].indexOf(":")?u:m[l].split(":")[0];w===O&&(b[m[l].split(":").pop()]="featureMembers"==n?Lm(this.readFeatureElement,this):Mm(this.readFeatureElement,this))}_[a[O]]=b}r=Um("featureMember"==n||"member"==n?void 0:[],_,t,e)}return null===r&&(r=[]),r},e.prototype.readGeometryElement=function(t,e){var n=e[0];n["srsName"]=t.firstElementChild.getAttribute("srsName"),n["srsDimension"]=t.firstElementChild.getAttribute("srsDimension");var r=Um(null,this.GEOMETRY_PARSERS,t,e,this);return r?Array.isArray(r)?L_(r,n):I_(r,!1,n):void 0},e.prototype.readFeatureElementInternal=function(t,e,n){for(var r,o={},i=t.firstElementChild;i;i=i.nextElementSibling){var a=void 0,s=i.localName;0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)?(a=xm(i,!1),tO.test(a)&&(a=void 0)):(n&&(a=this.readGeometryElement(i,e)),a?"boundedBy"!==s&&(r=s):a=this.readFeatureElementInternal(i,e,!1)),o[s]?(o[s]instanceof Array||(o[s]=[o[s]]),o[s].push(a)):o[s]=a;var u=i.attributes.length;if(u>0){o[s]={_content_:o[s]};for(var l=0;l<u;l++){var c=i.attributes[l].name;o[s][c]=i.attributes[l].value}}}if(n){var h=new Xs(o);r&&h.setGeometryName(r);var p=t.getAttribute("fid")||Rm(t,this.namespace,"id");return p&&h.setId(p),h}return o},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n)return new hi(n,wo.XYZ)},e.prototype.readMultiPoint=function(t,e){var n=Um([],this.MULTIPOINT_PARSERS,t,e,this);return n?new Wg(n):void 0},e.prototype.readMultiLineString=function(t,e){var n=Um([],this.MULTILINESTRING_PARSERS,t,e,this);if(n)return new $g(n)},e.prototype.readMultiPolygon=function(t,e){var n=Um([],this.MULTIPOLYGON_PARSERS,t,e,this);if(n)return new iy(n)},e.prototype.pointMemberParser=function(t,e){Ym(this.POINTMEMBER_PARSERS,t,e,this)},e.prototype.lineStringMemberParser=function(t,e){Ym(this.LINESTRINGMEMBER_PARSERS,t,e,this)},e.prototype.polygonMemberParser=function(t,e){Ym(this.POLYGONMEMBER_PARSERS,t,e,this)},e.prototype.readLineString=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n){var r=new Gg(n,wo.XYZ);return r}},e.prototype.readFlatLinearRing=function(t,e){var n=Um(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return n||void 0},e.prototype.readLinearRing=function(t,e){var n=this.readFlatCoordinatesFromNode(t,e);if(n)return new ui(n,wo.XYZ)},e.prototype.readPolygon=function(t,e){var n=Um([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(n&&n[0]){var r=n[0],o=[r.length],i=void 0,a=void 0;for(i=1,a=n.length;i<a;++i)Object(ao["c"])(r,n[i]),o.push(r.length);return new Mi(r,wo.XYZ,o)}},e.prototype.readFlatCoordinatesFromNode=function(t,e){return Um(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var n=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return n||null},e.prototype.readFeaturesFromNode=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};e&&Object(ae["a"])(n,this.getReadOptions(t,e));var r=this.readFeaturesInternal(t,[n]);return r||[]},e.prototype.readProjectionFromNode=function(t){return Yr(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(Jm);eO.prototype.namespace=Qm,eO.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},eO.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},eO.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},eO.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml":{pointMember:Lm(eO.prototype.pointMemberParser),pointMembers:Lm(eO.prototype.pointMemberParser)}},eO.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml":{lineStringMember:Lm(eO.prototype.lineStringMemberParser),lineStringMembers:Lm(eO.prototype.lineStringMemberParser)}},eO.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml":{polygonMember:Lm(eO.prototype.polygonMemberParser),polygonMembers:Lm(eO.prototype.polygonMemberParser)}},eO.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml":{Point:Lm(eO.prototype.readFlatCoordinatesFromNode)}},eO.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Lm(eO.prototype.readLineString)}},eO.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Lm(eO.prototype.readPolygon)}},eO.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Mm(eO.prototype.readFlatLinearRing)}};var nO=eO;function rO(t){var e=xm(t,!1);return oO(e)}function oO(t){var e=/^\s*(true|1)|(false|0)\s*$/.exec(t);return e?void 0!==e[1]||!1:void 0}function iO(t){var e=xm(t,!1),n=Date.parse(e);return isNaN(n)?void 0:n/1e3}function aO(t){var e=xm(t,!1);return sO(e)}function sO(t){var e=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t);return e?parseFloat(e[1]):void 0}function uO(t){var e=xm(t,!1);return lO(e)}function lO(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function cO(t){return xm(t,!1).trim()}function hO(t,e){yO(t,e?"1":"0")}function pO(t,e){t.appendChild(Hm().createCDATASection(e))}function fO(t,e){var n=new Date(1e3*e),r=n.getUTCFullYear()+"-"+_e(n.getUTCMonth()+1,2)+"-"+_e(n.getUTCDate(),2)+"T"+_e(n.getUTCHours(),2)+":"+_e(n.getUTCMinutes(),2)+":"+_e(n.getUTCSeconds(),2)+"Z";t.appendChild(Hm().createTextNode(r))}function dO(t,e){var n=e.toPrecision();t.appendChild(Hm().createTextNode(n))}function gO(t,e){var n=e.toString();t.appendChild(Hm().createTextNode(n))}function yO(t,e){t.appendChild(Hm().createTextNode(e))}var vO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_O=Qm+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",mO={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},OO=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,n.FEATURE_COLLECTION_PARSERS[Qm]["featureMember"]=Lm(n.readFeaturesInternal),n.schemaLocation=r.schemaLocation?r.schemaLocation:_O,n}return vO(e,t),e.prototype.readFlatCoordinates=function(t,e){var n=xm(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],o=r["srsName"],i="enu";if(o){var a=Yr(o);a&&(i=a.getAxisOrientation())}for(var s=n.trim().split(/\s+/),u=[],l=0,c=s.length;l<c;l++){var h=s[l].split(/,+/),p=parseFloat(h[0]),f=parseFloat(h[1]),d=3===h.length?parseFloat(h[2]):0;"en"===i.substr(0,2)?u.push(p,f,d):u.push(f,p,d)}return u},e.prototype.readBox=function(t,e){var n=Um([null],this.BOX_PARSERS_,t,e,this);return Q(n[1][0],n[1][1],n[1][3],n[1][4])},e.prototype.innerBoundaryIsParser=function(t,e){var n=Um(void 0,this.RING_PARSERS,t,e,this);if(n){var r=e[e.length-1];r.push(n)}},e.prototype.outerBoundaryIsParser=function(t,e){var n=Um(void 0,this.RING_PARSERS,t,e,this);if(n){var r=e[e.length-1];r[0]=n}},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var r,o=e[e.length-1],i=o["multiSurface"],a=o["surface"],s=o["multiCurve"];return Array.isArray(t)?r="Envelope":(r=t.getType(),"MultiPolygon"===r&&!0===i?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"MultiLineString"===r&&!0===s&&(r="MultiCurve")),Sm("http://www.opengis.net/gml",r)},e.prototype.writeFeatureElement=function(t,e,n){var r=e.getId();r&&t.setAttribute("fid",r);var o=n[n.length-1],i=o["featureNS"],a=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[i]={});var s=[],u=[];if(e.hasProperties()){var l=e.getProperties();for(var c in l){var h=l[c];null!==h&&(s.push(c),u.push(h),c==a||"function"===typeof h.getSimplifiedGeometry?c in o.serializers[i]||(o.serializers[i][c]=jm(this.writeGeometryElement,this)):c in o.serializers[i]||(o.serializers[i][c]=jm(yO)))}}var p=Object(ae["a"])({},o);p.node=t,zm(p,o.serializers,Gm(void 0,i),u,n,s)},e.prototype.writeCurveOrLineString=function(t,e,n){var r=n[n.length-1],o=r["srsName"];if("LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,n)}else if("Curve"===t.nodeName){var a=Sm(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,n)}},e.prototype.writeLineStringOrCurveMember=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString(r,e,n))},e.prototype.writeMultiCurveOrLineString=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"],a=r["curve"];i&&t.setAttribute("srsName",i);var s=e.getLineStrings();zm({node:t,hasZ:o,srsName:i,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeGeometryElement=function(t,e,n){var r,o=n[n.length-1],i=Object(ae["a"])({},o);i["node"]=t,r=Array.isArray(e)?L_(e,o):I_(e,!0,o),zm(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[r],n,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=Sm(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,n){for(var r=n[n.length-1],o=r["hasZ"],i=r["srsName"],a=e.getCoordinates(),s=a.length,u=new Array(s),l=0;l<s;++l){var c=a[l];u[l]=this.getCoords_(c,i,o)}yO(t,u.join(" "))},e.prototype.writeCurveSegments_=function(t,e,n){var r=Sm(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString(r,e,n)},e.prototype.writeSurfaceOrPolygon=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"];if("PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();zm({node:t,hasZ:o,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,n,void 0,this)}else if("Surface"===t.nodeName){var s=Sm(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,n)}},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1],o=r.node,i=r["exteriorWritten"];return void 0===i&&(r["exteriorWritten"]=!0),Sm(o.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,n){var r=Sm(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n)},e.prototype.writeRing=function(t,e,n){var r=Sm(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing(r,e,n)},e.prototype.getCoords_=function(t,e,n){var r="enu";e&&(r=Yr(e).getAxisOrientation());var o="en"===r.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];if(n){var i=t[2]||0;o+=","+i}return o},e.prototype.writePoint=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"];i&&t.setAttribute("srsName",i);var a=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(a);var s=e.getCoordinates(),u=this.getCoords_(s,i,o);yO(a,u)},e.prototype.writeMultiPoint=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"];i&&t.setAttribute("srsName",i);var a=e.getPoints();zm({node:t,hasZ:o,srsName:i},this.POINTMEMBER_SERIALIZERS,Gm("pointMember"),a,n,void 0,this)},e.prototype.writePointMember=function(t,e,n){var r=Sm(t.namespaceURI,"Point");t.appendChild(r),this.writePoint(r,e,n)},e.prototype.writeLinearRing=function(t,e,n){var r=n[n.length-1],o=r["srsName"];o&&t.setAttribute("srsName",o);var i=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(i),this.writeCoordinates_(i,e,n)},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"],a=r["surface"];i&&t.setAttribute("srsName",i);var s=e.getPolygons();zm({node:t,hasZ:o,srsName:i,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n))},e.prototype.writeEnvelope=function(t,e,n){var r=n[n.length-1],o=r["srsName"];o&&t.setAttribute("srsName",o);var i=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];zm({node:t},this.ENVELOPE_SERIALIZERS,Dm,a,n,i,this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1].node;return Sm("http://www.opengis.net/gml",mO[r.nodeName])},e}(nO);OO.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Mm(OO.prototype.readFlatCoordinates)}},OO.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:OO.prototype.innerBoundaryIsParser,outerBoundaryIs:OO.prototype.outerBoundaryIsParser}},OO.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Lm(OO.prototype.readFlatCoordinates)}},OO.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Mm(nO.prototype.readPoint),MultiPoint:Mm(nO.prototype.readMultiPoint),LineString:Mm(nO.prototype.readLineString),MultiLineString:Mm(nO.prototype.readMultiLineString),LinearRing:Mm(nO.prototype.readLinearRing),Polygon:Mm(nO.prototype.readPolygon),MultiPolygon:Mm(nO.prototype.readMultiPolygon),Box:Mm(OO.prototype.readBox)}},OO.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:jm(OO.prototype.writeCurveOrLineString),MultiCurve:jm(OO.prototype.writeMultiCurveOrLineString),Point:jm(OO.prototype.writePoint),MultiPoint:jm(OO.prototype.writeMultiPoint),LineString:jm(OO.prototype.writeCurveOrLineString),MultiLineString:jm(OO.prototype.writeMultiCurveOrLineString),LinearRing:jm(OO.prototype.writeLinearRing),Polygon:jm(OO.prototype.writeSurfaceOrPolygon),MultiPolygon:jm(OO.prototype.writeMultiSurfaceOrPolygon),Surface:jm(OO.prototype.writeSurfaceOrPolygon),MultiSurface:jm(OO.prototype.writeMultiSurfaceOrPolygon),Envelope:jm(OO.prototype.writeEnvelope)}},OO.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:jm(OO.prototype.writeLineStringOrCurveMember),curveMember:jm(OO.prototype.writeLineStringOrCurveMember)}},OO.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{outerBoundaryIs:jm(OO.prototype.writeRing),innerBoundaryIs:jm(OO.prototype.writeRing)}},OO.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:jm(OO.prototype.writePointMember)}},OO.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:jm(OO.prototype.writeSurfaceOrPolygonMember),polygonMember:jm(OO.prototype.writeSurfaceOrPolygonMember)}},OO.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:jm(yO),upperCorner:jm(yO)}};var bO=OO,wO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),EO=Qm+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",SO={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},xO=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,n.surface_=void 0!==r.surface&&r.surface,n.curve_=void 0!==r.curve&&r.curve,n.multiCurve_=void 0===r.multiCurve||r.multiCurve,n.multiSurface_=void 0===r.multiSurface||r.multiSurface,n.schemaLocation=r.schemaLocation?r.schemaLocation:EO,n.hasZ=void 0!==r.hasZ&&r.hasZ,n}return wO(e,t),e.prototype.readMultiCurve=function(t,e){var n=Um([],this.MULTICURVE_PARSERS,t,e,this);if(n){var r=new $g(n);return r}},e.prototype.readMultiSurface=function(t,e){var n=Um([],this.MULTISURFACE_PARSERS,t,e,this);if(n)return new iy(n)},e.prototype.curveMemberParser=function(t,e){Ym(this.CURVEMEMBER_PARSERS,t,e,this)},e.prototype.surfaceMemberParser=function(t,e){Ym(this.SURFACEMEMBER_PARSERS,t,e,this)},e.prototype.readPatch=function(t,e){return Um([null],this.PATCHES_PARSERS,t,e,this)},e.prototype.readSegment=function(t,e){return Um([null],this.SEGMENTS_PARSERS,t,e,this)},e.prototype.readPolygonPatch=function(t,e){return Um([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment=function(t,e){return Um([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser=function(t,e){var n=Um(void 0,this.RING_PARSERS,t,e,this);if(n){var r=e[e.length-1];r.push(n)}},e.prototype.exteriorParser=function(t,e){var n=Um(void 0,this.RING_PARSERS,t,e,this);if(n){var r=e[e.length-1];r[0]=n}},e.prototype.readSurface=function(t,e){var n=Um([null],this.SURFACE_PARSERS,t,e,this);if(n&&n[0]){var r=n[0],o=[r.length],i=void 0,a=void 0;for(i=1,a=n.length;i<a;++i)Object(ao["c"])(r,n[i]),o.push(r.length);return new Mi(r,wo.XYZ,o)}},e.prototype.readCurve=function(t,e){var n=Um([null],this.CURVE_PARSERS,t,e,this);if(n){var r=new Gg(n,wo.XYZ);return r}},e.prototype.readEnvelope=function(t,e){var n=Um([null],this.ENVELOPE_PARSERS,t,e,this);return Q(n[1][0],n[1][1],n[2][0],n[2][1])},e.prototype.readFlatPos=function(t,e){var n,r=xm(t,!1),o=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,i=[];while(n=o.exec(r))i.push(parseFloat(n[1])),r=r.substr(n[0].length);if(""===r){var a=e[0],s=a["srsName"],u="enu";if(s){var l=Yr(s);u=l.getAxisOrientation()}if("neu"===u){var c=void 0,h=void 0;for(c=0,h=i.length;c<h;c+=3){var p=i[c],f=i[c+1];i[c]=f,i[c+1]=p}}var d=i.length;if(2==d&&i.push(0),0!==d)return i}},e.prototype.readFlatPosList=function(t,e){var n=xm(t,!1).replace(/^\s*|\s*$/g,""),r=e[0],o=r["srsName"],i=r["srsDimension"],a="enu";if(o){var s=Yr(o);a=s.getAxisOrientation()}var u,l,c,h=n.split(/\s+/),p=2;t.getAttribute("srsDimension")?p=lO(t.getAttribute("srsDimension")):t.getAttribute("dimension")?p=lO(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?p=lO(t.parentNode.getAttribute("srsDimension")):i&&(p=lO(i));for(var f=[],d=0,g=h.length;d<g;d+=p)u=parseFloat(h[d]),l=parseFloat(h[d+1]),c=3===p?parseFloat(h[d+2]):0,"en"===a.substr(0,2)?f.push(u,l,c):f.push(l,u,c);return f},e.prototype.writePos_=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=o?"3":"2";t.setAttribute("srsDimension",i);var a=r["srsName"],s="enu";a&&(s=Yr(a).getAxisOrientation());var u,l=e.getCoordinates();if(u="en"===s.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],o){var c=l[2]||0;u+=" "+c}yO(t,u)},e.prototype.getCoords_=function(t,e,n){var r="enu";e&&(r=Yr(e).getAxisOrientation());var o="en"===r.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];if(n){var i=t[2]||0;o+=" "+i}return o},e.prototype.writePosList_=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=o?"3":"2";t.setAttribute("srsDimension",i);for(var a,s=r["srsName"],u=e.getCoordinates(),l=u.length,c=new Array(l),h=0;h<l;++h)a=u[h],c[h]=this.getCoords_(a,s,o);yO(t,c.join(" "))},e.prototype.writePoint=function(t,e,n){var r=n[n.length-1],o=r["srsName"];o&&t.setAttribute("srsName",o);var i=Sm(t.namespaceURI,"pos");t.appendChild(i),this.writePos_(i,e,n)},e.prototype.writeEnvelope=function(t,e,n){var r=n[n.length-1],o=r["srsName"];o&&t.setAttribute("srsName",o);var i=["lowerCorner","upperCorner"],a=[e[0]+" "+e[1],e[2]+" "+e[3]];zm({node:t},this.ENVELOPE_SERIALIZERS,Dm,a,n,i,this)},e.prototype.writeLinearRing=function(t,e,n){var r=n[n.length-1],o=r["srsName"];o&&t.setAttribute("srsName",o);var i=Sm(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,n)},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1],o=r.node,i=r["exteriorWritten"];return void 0===i&&(r["exteriorWritten"]=!0),Sm(o.namespaceURI,void 0!==i?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"];if("PolygonPatch"!==t.nodeName&&i&&t.setAttribute("srsName",i),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var a=e.getLinearRings();zm({node:t,hasZ:o,srsName:i},this.RING_SERIALIZERS,this.RING_NODE_FACTORY_,a,n,void 0,this)}else if("Surface"===t.nodeName){var s=Sm(t.namespaceURI,"patches");t.appendChild(s),this.writeSurfacePatches_(s,e,n)}},e.prototype.writeCurveOrLineString=function(t,e,n){var r=n[n.length-1],o=r["srsName"];if("LineStringSegment"!==t.nodeName&&o&&t.setAttribute("srsName",o),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var i=Sm(t.namespaceURI,"posList");t.appendChild(i),this.writePosList_(i,e,n)}else if("Curve"===t.nodeName){var a=Sm(t.namespaceURI,"segments");t.appendChild(a),this.writeCurveSegments_(a,e,n)}},e.prototype.writeMultiSurfaceOrPolygon=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"],a=r["surface"];i&&t.setAttribute("srsName",i);var s=e.getPolygons();zm({node:t,hasZ:o,srsName:i,surface:a},this.SURFACEORPOLYGONMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeMultiPoint=function(t,e,n){var r=n[n.length-1],o=r["srsName"],i=r["hasZ"];o&&t.setAttribute("srsName",o);var a=e.getPoints();zm({node:t,hasZ:i,srsName:o},this.POINTMEMBER_SERIALIZERS,Gm("pointMember"),a,n,void 0,this)},e.prototype.writeMultiCurveOrLineString=function(t,e,n){var r=n[n.length-1],o=r["hasZ"],i=r["srsName"],a=r["curve"];i&&t.setAttribute("srsName",i);var s=e.getLineStrings();zm({node:t,hasZ:o,srsName:i,curve:a},this.LINESTRINGORCURVEMEMBER_SERIALIZERS,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,s,n,void 0,this)},e.prototype.writeRing=function(t,e,n){var r=Sm(t.namespaceURI,"LinearRing");t.appendChild(r),this.writeLinearRing(r,e,n)},e.prototype.writeSurfaceOrPolygonMember=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n))},e.prototype.writePointMember=function(t,e,n){var r=Sm(t.namespaceURI,"Point");t.appendChild(r),this.writePoint(r,e,n)},e.prototype.writeLineStringOrCurveMember=function(t,e,n){var r=this.GEOMETRY_NODE_FACTORY_(e,n);r&&(t.appendChild(r),this.writeCurveOrLineString(r,e,n))},e.prototype.writeSurfacePatches_=function(t,e,n){var r=Sm(t.namespaceURI,"PolygonPatch");t.appendChild(r),this.writeSurfaceOrPolygon(r,e,n)},e.prototype.writeCurveSegments_=function(t,e,n){var r=Sm(t.namespaceURI,"LineStringSegment");t.appendChild(r),this.writeCurveOrLineString(r,e,n)},e.prototype.writeGeometryElement=function(t,e,n){var r,o=n[n.length-1],i=Object(ae["a"])({},o);i["node"]=t,r=Array.isArray(e)?L_(e,o):I_(e,!0,o),zm(i,this.GEOMETRY_SERIALIZERS,this.GEOMETRY_NODE_FACTORY_,[r],n,void 0,this)},e.prototype.writeFeatureElement=function(t,e,n){var r=e.getId();r&&t.setAttribute("fid",r);var o=n[n.length-1],i=o["featureNS"],a=e.getGeometryName();o.serializers||(o.serializers={},o.serializers[i]={});var s=[],u=[];if(e.hasProperties()){var l=e.getProperties();for(var c in l){var h=l[c];null!==h&&(s.push(c),u.push(h),c==a||"function"===typeof h.getSimplifiedGeometry?c in o.serializers[i]||(o.serializers[i][c]=jm(this.writeGeometryElement,this)):c in o.serializers[i]||(o.serializers[i][c]=jm(yO)))}}var p=Object(ae["a"])({},o);p.node=t,zm(p,o.serializers,Gm(void 0,i),u,n,s)},e.prototype.writeFeatureMembers_=function(t,e,n){var r=n[n.length-1],o=r["featureType"],i=r["featureNS"],a={};a[i]={},a[i][o]=jm(this.writeFeatureElement,this);var s=Object(ae["a"])({},r);s.node=t,zm(s,a,Gm(o,i),e,n)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var r=e[e.length-1].node;return Sm(this.namespace,SO[r.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var r,o=e[e.length-1],i=o["multiSurface"],a=o["surface"],s=o["curve"],u=o["multiCurve"];return Array.isArray(t)?r="Envelope":(r=t.getType(),"MultiPolygon"===r&&!0===i?r="MultiSurface":"Polygon"===r&&!0===a?r="Surface":"LineString"===r&&!0===s?r="Curve":"MultiLineString"===r&&!0===u&&(r="MultiCurve")),Sm(this.namespace,r)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var n=Sm(this.namespace,"geom"),r={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&Object(ae["a"])(r,e),this.writeGeometryElement(n,t,[r]),n},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=Sm(this.namespace,"featureMembers");n.setAttributeNS(Em,"xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&Object(ae["a"])(r,e),this.writeFeatureMembers_(n,t,[r]),n},e}(nO);xO.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Mm(xO.prototype.readFlatPos),posList:Mm(xO.prototype.readFlatPosList),coordinates:Mm(bO.prototype.readFlatCoordinates)}},xO.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:xO.prototype.interiorParser,exterior:xO.prototype.exteriorParser}},xO.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Mm(nO.prototype.readPoint),MultiPoint:Mm(nO.prototype.readMultiPoint),LineString:Mm(nO.prototype.readLineString),MultiLineString:Mm(nO.prototype.readMultiLineString),LinearRing:Mm(nO.prototype.readLinearRing),Polygon:Mm(nO.prototype.readPolygon),MultiPolygon:Mm(nO.prototype.readMultiPolygon),Surface:Mm(xO.prototype.readSurface),MultiSurface:Mm(xO.prototype.readMultiSurface),Curve:Mm(xO.prototype.readCurve),MultiCurve:Mm(xO.prototype.readMultiCurve),Envelope:Mm(xO.prototype.readEnvelope)}},xO.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml":{curveMember:Lm(xO.prototype.curveMemberParser),curveMembers:Lm(xO.prototype.curveMemberParser)}},xO.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml":{surfaceMember:Lm(xO.prototype.surfaceMemberParser),surfaceMembers:Lm(xO.prototype.surfaceMemberParser)}},xO.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml":{LineString:Lm(nO.prototype.readLineString),Curve:Lm(xO.prototype.readCurve)}},xO.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml":{Polygon:Lm(nO.prototype.readPolygon),Surface:Lm(xO.prototype.readSurface)}},xO.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml":{patches:Mm(xO.prototype.readPatch)}},xO.prototype.CURVE_PARSERS={"http://www.opengis.net/gml":{segments:Mm(xO.prototype.readSegment)}},xO.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml":{lowerCorner:Lm(xO.prototype.readFlatPosList),upperCorner:Lm(xO.prototype.readFlatPosList)}},xO.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml":{PolygonPatch:Mm(xO.prototype.readPolygonPatch)}},xO.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml":{LineStringSegment:Mm(xO.prototype.readLineStringSegment)}},xO.prototype.writeFeatures,xO.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml":{exterior:jm(xO.prototype.writeRing),interior:jm(xO.prototype.writeRing)}},xO.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml":{lowerCorner:jm(yO),upperCorner:jm(yO)}},xO.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{surfaceMember:jm(xO.prototype.writeSurfaceOrPolygonMember),polygonMember:jm(xO.prototype.writeSurfaceOrPolygonMember)}},xO.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{pointMember:jm(xO.prototype.writePointMember)}},xO.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml":{lineStringMember:jm(xO.prototype.writeLineStringOrCurveMember),curveMember:jm(xO.prototype.writeLineStringOrCurveMember)}},xO.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml":{Curve:jm(xO.prototype.writeCurveOrLineString),MultiCurve:jm(xO.prototype.writeMultiCurveOrLineString),Point:jm(xO.prototype.writePoint),MultiPoint:jm(xO.prototype.writeMultiPoint),LineString:jm(xO.prototype.writeCurveOrLineString),MultiLineString:jm(xO.prototype.writeMultiCurveOrLineString),LinearRing:jm(xO.prototype.writeLinearRing),Polygon:jm(xO.prototype.writeSurfaceOrPolygon),MultiPolygon:jm(xO.prototype.writeMultiSurfaceOrPolygon),Surface:jm(xO.prototype.writeSurfaceOrPolygon),MultiSurface:jm(xO.prototype.writeMultiSurfaceOrPolygon),Envelope:jm(xO.prototype.writeEnvelope)}};var CO=xO,TO=CO;TO.prototype.writeFeatures,TO.prototype.writeFeaturesNode;var RO=TO,PO=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),IO=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],LO="http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd",MO={rte:lb,trk:cb,wpt:hb},NO=Bm(IO,{rte:Lm(lb),trk:Lm(cb),wpt:Lm(hb)}),AO=Bm(IO,{text:Am(cO,"linkText"),type:Am(cO,"linkType")}),jO=Bm(IO,{rte:jm(db),trk:jm(gb),wpt:jm(vb)}),FO=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.dataProjection=Yr("EPSG:4326"),n.readExtensions_=r.readExtensions,n}return PO(e,t),e.prototype.handleReadExtensions_=function(t){t||(t=[]);for(var e=0,n=t.length;e<n;++e){var r=t[e];if(this.readExtensions_){var o=r.get("extensionsNode_")||null;this.readExtensions_(r,o)}r.set("extensionsNode_",void 0)}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(ao["f"])(IO,t.namespaceURI))return null;var n=MO[t.localName];if(!n)return null;var r=n(t,[this.getReadOptions(t,e)]);return r?(this.handleReadExtensions_([r]),r):null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(ao["f"])(IO,t.namespaceURI))return[];if("gpx"==t.localName){var n=Um([],NO,t,[this.getReadOptions(t,e)]);return n?(this.handleReadExtensions_(n),n):[]}return[]},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=Sm("http://www.topografix.com/GPX/1/1","gpx"),r="http://www.w3.org/2000/xmlns/";return n.setAttributeNS(r,"xmlns:xsi",Em),n.setAttributeNS(Em,"xsi:schemaLocation",LO),n.setAttribute("version","1.1"),n.setAttribute("creator","OpenLayers"),zm({node:n},jO,eb,t,[e]),n},e}(Jm),GO=Bm(IO,{name:Am(cO),cmt:Am(cO),desc:Am(cO),src:Am(cO),link:ob,number:Am(uO),extensions:ib,type:Am(cO),rtept:ab}),DO=Bm(IO,{ele:Am(aO),time:Am(iO)}),kO=Bm(IO,{name:Am(cO),cmt:Am(cO),desc:Am(cO),src:Am(cO),link:ob,number:Am(uO),type:Am(cO),extensions:ib,trkseg:ub}),BO=Bm(IO,{trkpt:sb}),YO=Bm(IO,{ele:Am(aO),time:Am(iO)}),UO=Bm(IO,{ele:Am(aO),time:Am(iO),magvar:Am(aO),geoidheight:Am(aO),name:Am(cO),cmt:Am(cO),desc:Am(cO),src:Am(cO),link:ob,sym:Am(cO),type:Am(cO),fix:Am(cO),sat:Am(uO),hdop:Am(aO),vdop:Am(aO),pdop:Am(aO),ageofdgpsdata:Am(aO),dgpsid:Am(uO),extensions:ib}),VO=["text","type"],zO=Bm(IO,{text:jm(yO),type:jm(yO)}),XO=Bm(IO,["name","cmt","desc","src","link","number","type","rtept"]),WO=Bm(IO,{name:jm(yO),cmt:jm(yO),desc:jm(yO),src:jm(yO),link:jm(pb),number:jm(gO),type:jm(yO),rtept:Fm(jm(fb))}),ZO=Bm(IO,["ele","time"]),HO=Bm(IO,["name","cmt","desc","src","link","number","type","trkseg"]),KO=Bm(IO,{name:jm(yO),cmt:jm(yO),desc:jm(yO),src:jm(yO),link:jm(pb),number:jm(gO),type:jm(yO),trkseg:Fm(jm(yb))}),qO=Gm("trkpt"),JO=Bm(IO,{trkpt:jm(fb)}),$O=Bm(IO,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]),QO=Bm(IO,{ele:jm(dO),time:jm(fO),magvar:jm(dO),geoidheight:jm(dO),name:jm(yO),cmt:jm(yO),desc:jm(yO),src:jm(yO),link:jm(pb),sym:jm(yO),type:jm(yO),fix:jm(yO),sat:jm(gO),hdop:jm(dO),vdop:jm(dO),pdop:jm(dO),ageofdgpsdata:jm(dO),dgpsid:jm(gO)}),tb={Point:"wpt",LineString:"rte",MultiLineString:"trk"};function eb(t,e,n){var r=t.getGeometry();if(r){var o=tb[r.getType()];if(o){var i=e[e.length-1].node;return Sm(i.namespaceURI,o)}}}function nb(t,e,n,r){return t.push(parseFloat(n.getAttribute("lon")),parseFloat(n.getAttribute("lat"))),"ele"in r?(t.push(r["ele"]),delete r["ele"],e.hasZ=!0):t.push(0),"time"in r?(t.push(r["time"]),delete r["time"],e.hasM=!0):t.push(0),t}function rb(t,e,n){var r=wo.XY,o=2;if(t.hasZ&&t.hasM?(r=wo.XYZM,o=4):t.hasZ?(r=wo.XYZ,o=3):t.hasM&&(r=wo.XYM,o=3),4!==o){for(var i=0,a=e.length/4;i<a;i++)e[i*o]=e[4*i],e[i*o+1]=e[4*i+1],t.hasZ&&(e[i*o+2]=e[4*i+2]),t.hasM&&(e[i*o+2]=e[4*i+3]);if(e.length=e.length/4*o,n)for(i=0,a=n.length;i<a;i++)n[i]=n[i]/4*o}return r}function ob(t,e){var n=e[e.length-1],r=t.getAttribute("href");null!==r&&(n["link"]=r),Ym(AO,t,e)}function ib(t,e){var n=e[e.length-1];n["extensionsNode_"]=t}function ab(t,e){var n=Um({},DO,t,e);if(n){var r=e[e.length-1],o=r["flatCoordinates"],i=r["layoutOptions"];nb(o,i,t,n)}}function sb(t,e){var n=Um({},YO,t,e);if(n){var r=e[e.length-1],o=r["flatCoordinates"],i=r["layoutOptions"];nb(o,i,t,n)}}function ub(t,e){var n=e[e.length-1];Ym(BO,t,e);var r=n["flatCoordinates"],o=n["ends"];o.push(r.length)}function lb(t,e){var n=e[0],r=Um({flatCoordinates:[],layoutOptions:{}},GO,t,e);if(r){var o=r["flatCoordinates"];delete r["flatCoordinates"];var i=r["layoutOptions"];delete r["layoutOptions"];var a=rb(i,o),s=new Gg(o,a);I_(s,!1,n);var u=new Xs(s);return u.setProperties(r,!0),u}}function cb(t,e){var n=e[0],r=Um({flatCoordinates:[],ends:[],layoutOptions:{}},kO,t,e);if(r){var o=r["flatCoordinates"];delete r["flatCoordinates"];var i=r["ends"];delete r["ends"];var a=r["layoutOptions"];delete r["layoutOptions"];var s=rb(a,o,i),u=new $g(o,s,i);I_(u,!1,n);var l=new Xs(u);return l.setProperties(r,!0),l}}function hb(t,e){var n=e[0],r=Um({},UO,t,e);if(r){var o={},i=nb([],o,t,r),a=rb(o,i),s=new hi(i,a);I_(s,!1,n);var u=new Xs(s);return u.setProperties(r,!0),u}}function pb(t,e,n){t.setAttribute("href",e);var r=n[n.length-1],o=r["properties"],i=[o["linkText"],o["linkType"]];zm({node:t},zO,Dm,i,n,VO)}function fb(t,e,n){var r=n[n.length-1],o=r.node,i=o.namespaceURI,a=r["properties"];t.setAttributeNS(null,"lat",String(e[1])),t.setAttributeNS(null,"lon",String(e[0]));var s=r["geometryLayout"];switch(s){case wo.XYZM:0!==e[3]&&(a["time"]=e[3]);case wo.XYZ:0!==e[2]&&(a["ele"]=e[2]);break;case wo.XYM:0!==e[2]&&(a["time"]=e[2]);break;default:}var u="rtept"==t.nodeName?ZO[i]:$O[i],l=km(a,u);zm({node:t,properties:a},QO,Dm,l,n,u)}function db(t,e,n){var r=n[0],o=e.getProperties(),i={node:t};i["properties"]=o;var a=e.getGeometry();if(a.getType()==nr.LINE_STRING){var s=I_(a,!0,r);i["geometryLayout"]=s.getLayout(),o["rtept"]=s.getCoordinates()}var u=n[n.length-1].node,l=XO[u.namespaceURI],c=km(o,l);zm(i,WO,Dm,c,n,l)}function gb(t,e,n){var r=n[0],o=e.getProperties(),i={node:t};i["properties"]=o;var a=e.getGeometry();if(a.getType()==nr.MULTI_LINE_STRING){var s=I_(a,!0,r);o["trkseg"]=s.getLineStrings()}var u=n[n.length-1].node,l=HO[u.namespaceURI],c=km(o,l);zm(i,KO,Dm,c,n,l)}function yb(t,e,n){var r={node:t};r["geometryLayout"]=e.getLayout(),r["properties"]={},zm(r,JO,qO,e.getCoordinates(),n)}function vb(t,e,n){var r=n[0],o=n[n.length-1];o["properties"]=e.getProperties();var i=e.getGeometry();if(i.getType()==nr.POINT){var a=I_(i,!0,r);o["geometryLayout"]=a.getLayout(),fb(t,a.getCoordinates(),n)}}var _b=FO,mb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Ob=function(t){function e(){return t.call(this)||this}return mb(e,t),e.prototype.getType=function(){return wh.TEXT},e.prototype.readFeature=function(t,e){return this.readFeatureFromText(bb(t),this.adaptOptions(e))},e.prototype.readFeatureFromText=function(t,e){return Object(S["b"])()},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromText(bb(t),this.adaptOptions(e))},e.prototype.readFeaturesFromText=function(t,e){return Object(S["b"])()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromText(bb(t),this.adaptOptions(e))},e.prototype.readGeometryFromText=function(t,e){return Object(S["b"])()},e.prototype.readProjection=function(t){return this.readProjectionFromText(bb(t))},e.prototype.readProjectionFromText=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){return this.writeFeatureText(t,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){return Object(S["b"])()},e.prototype.writeFeatures=function(t,e){return this.writeFeaturesText(t,this.adaptOptions(e))},e.prototype.writeFeaturesText=function(t,e){return Object(S["b"])()},e.prototype.writeGeometry=function(t,e){return this.writeGeometryText(t,this.adaptOptions(e))},e.prototype.writeGeometryText=function(t,e){return Object(S["b"])()},e}(P_);function bb(t){return"string"===typeof t?t:""}var wb=Ob,Eb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sb={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"},xb=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,Cb=/^H.([A-Z]{3}).*?:(.*)/,Tb=/^HFDTE(\d{2})(\d{2})(\d{2})/,Rb=/\r\n|\r|\n/,Pb=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.dataProjection=Yr("EPSG:4326"),n.altitudeMode_=r.altitudeMode?r.altitudeMode:Sb.NONE,n}return Eb(e,t),e.prototype.readFeatureFromText=function(t,e){var n,r,o=this.altitudeMode_,i=t.split(Rb),a={},s=[],u=2e3,l=0,c=1,h=-1;for(n=0,r=i.length;n<r;++n){var p=i[n],f=void 0;if("B"==p.charAt(0)){if(f=xb.exec(p),f){var d=parseInt(f[1],10),g=parseInt(f[2],10),y=parseInt(f[3],10),v=parseInt(f[4],10)+parseInt(f[5],10)/6e4;"S"==f[6]&&(v=-v);var _=parseInt(f[7],10)+parseInt(f[8],10)/6e4;if("W"==f[9]&&(_=-_),s.push(_,v),o!=Sb.NONE){var m=void 0;m=o==Sb.GPS?parseInt(f[11],10):o==Sb.BAROMETRIC?parseInt(f[12],10):0,s.push(m)}var O=Date.UTC(u,l,c,d,g,y);O<h&&(O=Date.UTC(u,l,c+1,d,g,y)),s.push(O/1e3),h=O}}else"H"==p.charAt(0)&&(f=Tb.exec(p),f?(c=parseInt(f[1],10),l=parseInt(f[2],10)-1,u=2e3+parseInt(f[3],10)):(f=Cb.exec(p),f&&(a[f[1]]=f[2].trim())))}if(0===s.length)return null;var b=o==Sb.NONE?wo.XYM:wo.XYZM,w=new Gg(s,b),E=new Xs(I_(w,!1,e));return E.setProperties(a,!0),E},e.prototype.readFeaturesFromText=function(t,e){var n=this.readFeatureFromText(t,e);return n?[n]:[]},e}(wb),Ib=Pb,Lb=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Mb={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},Nb={};Nb[Mb.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},Nb[Mb.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},Nb[Mb.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},Nb["none"]={none:{supports:[],formats:[],qualities:[]}};var Ab=/^https?:\/\/library\.stanford\.edu\/iiif\/image-api\/(?:1\.1\/)?compliance\.html#level[0-2]$/,jb=/^https?:\/\/iiif\.io\/api\/image\/2\/level[0-2](?:\.json)?$/,Fb=/(^https?:\/\/iiif\.io\/api\/image\/3\/level[0-2](?:\.json)?$)|(^level[0-2]$)/;function Gb(t){var e=t.getComplianceLevelSupportedFeatures();return void 0===e&&(e=Nb[Mb.VERSION1]["level0"]),{url:void 0===t.imageInfo["@id"]?void 0:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:e.supports,formats:Lb(Lb([],e.formats),[void 0===t.imageInfo.formats?[]:t.imageInfo.formats]),qualities:Lb(Lb([],e.qualities),[void 0===t.imageInfo.qualities?[]:t.imageInfo.qualities]),resolutions:t.imageInfo.scale_factors,tileSize:void 0!==t.imageInfo.tile_width?void 0!==t.imageInfo.tile_height?[t.imageInfo.tile_width,t.imageInfo.tile_height]:[t.imageInfo.tile_width,t.imageInfo.tile_width]:void 0!=t.imageInfo.tile_height?[t.imageInfo.tile_height,t.imageInfo.tile_height]:void 0}}function Db(t){var e=t.getComplianceLevelSupportedFeatures(),n=Array.isArray(t.imageInfo.profile)&&t.imageInfo.profile.length>1,r=n&&t.imageInfo.profile[1].supports?t.imageInfo.profile[1].supports:[],o=n&&t.imageInfo.profile[1].formats?t.imageInfo.profile[1].formats:[],i=n&&t.imageInfo.profile[1].qualities?t.imageInfo.profile[1].qualities:[];return{url:t.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return void 0===t.height?t.width:t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:Lb(Lb([],e.supports),r),formats:Lb(Lb([],e.formats),o),qualities:Lb(Lb([],e.qualities),i)}}function kb(t){var e=t.getComplianceLevelSupportedFeatures(),n=void 0===t.imageInfo.extraFormats?e.formats:Lb(Lb([],e.formats),t.imageInfo.extraFormats),r=void 0!==t.imageInfo.preferredFormats&&Array.isArray(t.imageInfo.preferredFormats)&&t.imageInfo.preferredFormats.length>0?t.imageInfo.preferredFormats.filter((function(t){return Object(ao["f"])(["jpg","png","gif"],t)})).reduce((function(t,e){return void 0===t&&Object(ao["f"])(n,e)?e:t}),void 0):void 0;return{url:t.imageInfo["id"],sizes:void 0===t.imageInfo.sizes?void 0:t.imageInfo.sizes.map((function(t){return[t.width,t.height]})),tileSize:void 0===t.imageInfo.tiles?void 0:[t.imageInfo.tiles.map((function(t){return t.width}))[0],t.imageInfo.tiles.map((function(t){return t.height}))[0]],resolutions:void 0===t.imageInfo.tiles?void 0:t.imageInfo.tiles.map((function(t){return t.scaleFactors}))[0],supports:void 0===t.imageInfo.extraFeatures?e.supports:Lb(Lb([],e.supports),t.imageInfo.extraFeatures),formats:n,qualities:void 0===t.imageInfo.extraQualities?e.qualities:Lb(Lb([],e.qualities),t.imageInfo.extraQualities),preferredFormat:r}}var Bb={};Bb[Mb.VERSION1]=Gb,Bb[Mb.VERSION2]=Db,Bb[Mb.VERSION3]=kb;var Yb,Ub,Vb,zb,Xb,Wb,Zb,Hb=function(){function t(t){this.setImageInfo(t)}return t.prototype.setImageInfo=function(t){this.imageInfo="string"==typeof t?JSON.parse(t):t},t.prototype.getImageApiVersion=function(){if(void 0!==this.imageInfo){var t=this.imageInfo["@context"]||"ol-no-context";"string"==typeof t&&(t=[t]);for(var e=0;e<t.length;e++)switch(t[e]){case"http://library.stanford.edu/iiif/image-api/1.1/context.json":case"http://iiif.io/api/image/1/context.json":return Mb.VERSION1;case"http://iiif.io/api/image/2/context.json":return Mb.VERSION2;case"http://iiif.io/api/image/3/context.json":return Mb.VERSION3;case"ol-no-context":if(this.getComplianceLevelEntryFromProfile(Mb.VERSION1)&&this.imageInfo.identifier)return Mb.VERSION1;break;default:}P(!1,61)}},t.prototype.getComplianceLevelEntryFromProfile=function(t){if(void 0!==this.imageInfo&&void 0!==this.imageInfo.profile)switch(void 0===t&&(t=this.getImageApiVersion()),t){case Mb.VERSION1:if(Ab.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Mb.VERSION3:if(Fb.test(this.imageInfo.profile))return this.imageInfo.profile;break;case Mb.VERSION2:if("string"===typeof this.imageInfo.profile&&jb.test(this.imageInfo.profile))return this.imageInfo.profile;if(Array.isArray(this.imageInfo.profile)&&this.imageInfo.profile.length>0&&"string"===typeof this.imageInfo.profile[0]&&jb.test(this.imageInfo.profile[0]))return this.imageInfo.profile[0];break;default:}},t.prototype.getComplianceLevelFromProfile=function(t){var e=this.getComplianceLevelEntryFromProfile(t);if(void 0!==e){var n=e.match(/level[0-2](?:\.json)?$/g);return Array.isArray(n)?n[0].replace(".json",""):void 0}},t.prototype.getComplianceLevelSupportedFeatures=function(){if(void 0!==this.imageInfo){var t=this.getImageApiVersion(),e=this.getComplianceLevelFromProfile(t);return void 0===e?Nb["none"]["none"]:Nb[t][e]}},t.prototype.getTileSourceOptions=function(t){var e=t||{},n=this.getImageApiVersion();if(void 0!==n){var r=void 0===n?void 0:Bb[n](this);if(void 0!==r)return{url:r.url,version:n,size:[this.imageInfo.width,this.imageInfo.height],sizes:r.sizes,format:void 0!==e.format&&Object(ao["f"])(r.formats,e.format)?e.format:void 0!==r.preferredFormat?r.preferredFormat:"jpg",supports:r.supports,quality:e.quality&&Object(ao["f"])(r.qualities,e.quality)?e.quality:Object(ao["f"])(r.qualities,"native")?"native":"default",resolutions:Array.isArray(r.resolutions)?r.resolutions.sort((function(t,e){return e-t})):void 0,tileSize:r.tileSize}}},t}(),Kb=Hb,qb=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Jb=["http://www.google.com/kml/ext/2.2"],$b=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Qb="http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd",tw={fraction:wc.FRACTION,pixels:wc.PIXELS,insetPixels:wc.PIXELS},ew=Bm($b,{ExtendedData:lE,Region:cE,MultiGeometry:Am(Qw,"geometry"),LineString:Am(qw,"geometry"),LinearRing:Am(Jw,"geometry"),Point:Am(tE,"geometry"),Polygon:Am(nE,"geometry"),Style:Am(oE),StyleMap:fE,address:Am(cO),description:Am(cO),name:Am(cO),open:Am(rO),phoneNumber:Am(cO),styleUrl:Am(xw),visibility:Am(rO)},Bm(Jb,{MultiTrack:Am(Uw,"geometry"),Track:Am(zw,"geometry")})),nw=Bm($b,{ExtendedData:lE,Region:cE,Link:xE,address:Am(cO),description:Am(cO),name:Am(cO),open:Am(rO),phoneNumber:Am(cO),visibility:Am(rO)}),rw=Bm($b,{href:Am(Sw)}),ow=Bm($b,{LatLonAltBox:_E,Lod:OE}),iw=Bm($b,["Document","Placemark"]),aw=Bm($b,{Document:jm(jE),Placemark:jm(cS)}),sw=null;var uw,lw=null;var cw,hw=null;var pw=null;var fw=null;var dw,gw=null;function yw(){Yb=[255,255,255,1],sw=new pl({color:Yb}),Ub=[20,2],Vb=wc.PIXELS,zb=wc.PIXELS,Xb=[64,64],Wb="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png",Zb=.5,lw=new Gc({anchor:Ub,anchorOrigin:Ec.BOTTOM_LEFT,anchorXUnits:Vb,anchorYUnits:zb,crossOrigin:"anonymous",rotation:0,scale:Zb,size:Xb,src:Wb}),uw="NO_IMAGE",hw=new dl({color:Yb,width:1}),cw=new dl({color:[51,51,51,1],width:2}),pw=new $y({font:"bold 16px Helvetica",fill:sw,stroke:cw,scale:.8}),fw=new bl({fill:sw,image:lw,text:pw,stroke:hw,zIndex:0}),gw=[fw]}function vw(t){return t}var _w=function(t){function e(e){var n=t.call(this)||this,r=e||{};return gw||yw(),n.dataProjection=Yr("EPSG:4326"),n.defaultStyle_=r.defaultStyle?r.defaultStyle:gw,n.extractStyles_=void 0===r.extractStyles||r.extractStyles,n.writeStyles_=void 0===r.writeStyles||r.writeStyles,n.sharedStyles_={},n.showPointNames_=void 0===r.showPointNames||r.showPointNames,n.crossOrigin_=void 0!==r.crossOrigin?r.crossOrigin:"anonymous",n.iconUrlFunction_=r.iconUrlFunction?r.iconUrlFunction:vw,n}return qb(e,t),e.prototype.readDocumentOrFolder_=function(t,e){var n=Bm($b,{Document:Im(this.readDocumentOrFolder_,this),Folder:Im(this.readDocumentOrFolder_,this),Placemark:Lm(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)}),r=Um([],n,t,e,this);return r||void 0},e.prototype.readPlacemark_=function(t,e){var n=Um({geometry:null},ew,t,e,this);if(n){var r=new Xs,o=t.getAttribute("id");null!==o&&r.setId(o);var i=e[0],a=n["geometry"];if(a&&I_(a,!1,i),r.setGeometry(a),delete n["geometry"],this.extractStyles_){var s=n["Style"],u=n["styleUrl"],l=Ow(s,u,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(l)}return delete n["Style"],r.setProperties(n,!0),r}},e.prototype.readSharedStyle_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=oE.call(this,t,e);if(r){var o=void 0,i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){var a=new URL("#"+n,i);o=a.href}else o="#"+n;this.sharedStyles_[o]=r}}},e.prototype.readSharedStyleMap_=function(t,e){var n=t.getAttribute("id");if(null!==n){var r=Pw.call(this,t,e);if(r){var o,i=t.baseURI;if(i&&"about:blank"!=i||(i=window.location.href),i){var a=new URL("#"+n,i);o=a.href}else o="#"+n;this.sharedStyles_[o]=r}}},e.prototype.readFeatureFromNode=function(t,e){if(!Object(ao["f"])($b,t.namespaceURI))return null;var n=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return n||null},e.prototype.readFeaturesFromNode=function(t,e){if(!Object(ao["f"])($b,t.namespaceURI))return[];var n,r=t.localName;if("Document"==r||"Folder"==r)return n=this.readDocumentOrFolder_(t,[this.getReadOptions(t,e)]),n||[];if("Placemark"==r){var o=this.readPlacemark_(t,[this.getReadOptions(t,e)]);return o?[o]:[]}if("kml"==r){n=[];for(var i=t.firstElementChild;i;i=i.nextElementSibling){var a=this.readFeaturesFromNode(i,e);a&&Object(ao["c"])(n,a)}return n}return[]},e.prototype.readName=function(t){if(t){if("string"===typeof t){var e=Pm(t);return this.readNameFromDocument(e)}return Tm(t)?this.readNameFromDocument(t):this.readNameFromNode(t)}},e.prototype.readNameFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE){var n=this.readNameFromNode(e);if(n)return n}},e.prototype.readNameFromNode=function(t){for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(Object(ao["f"])($b,e.namespaceURI)&&"name"==e.localName)return cO(e);for(e=t.firstElementChild;e;e=e.nextElementSibling){var n=e.localName;if(Object(ao["f"])($b,e.namespaceURI)&&("Document"==n||"Folder"==n||"Placemark"==n||"kml"==n)){var r=this.readNameFromNode(e);if(r)return r}}},e.prototype.readNetworkLinks=function(t){var e=[];if("string"===typeof t){var n=Pm(t);Object(ao["c"])(e,this.readNetworkLinksFromDocument(n))}else Tm(t)?Object(ao["c"])(e,this.readNetworkLinksFromDocument(t)):Object(ao["c"])(e,this.readNetworkLinksFromNode(t));return e},e.prototype.readNetworkLinksFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(ao["c"])(e,this.readNetworkLinksFromNode(n));return e},e.prototype.readNetworkLinksFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(ao["f"])($b,n.namespaceURI)&&"NetworkLink"==n.localName){var r=Um({},nw,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(ao["f"])($b,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(ao["c"])(e,this.readNetworkLinksFromNode(n))}return e},e.prototype.readRegion=function(t){var e=[];if("string"===typeof t){var n=Pm(t);Object(ao["c"])(e,this.readRegionFromDocument(n))}else Tm(t)?Object(ao["c"])(e,this.readRegionFromDocument(t)):Object(ao["c"])(e,this.readRegionFromNode(t));return e},e.prototype.readRegionFromDocument=function(t){for(var e=[],n=t.firstChild;n;n=n.nextSibling)n.nodeType==Node.ELEMENT_NODE&&Object(ao["c"])(e,this.readRegionFromNode(n));return e},e.prototype.readRegionFromNode=function(t){for(var e=[],n=t.firstElementChild;n;n=n.nextElementSibling)if(Object(ao["f"])($b,n.namespaceURI)&&"Region"==n.localName){var r=Um({},ow,n,[]);e.push(r)}for(n=t.firstElementChild;n;n=n.nextElementSibling){var o=n.localName;!Object(ao["f"])($b,n.namespaceURI)||"Document"!=o&&"Folder"!=o&&"kml"!=o||Object(ao["c"])(e,this.readRegionFromNode(n))}return e},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=Sm($b[4],"kml"),r="http://www.w3.org/2000/xmlns/";n.setAttributeNS(r,"xmlns:gx",Jb[0]),n.setAttributeNS(r,"xmlns:xsi",Em),n.setAttributeNS(Em,"xsi:schemaLocation",Qb);var o={node:n},i={};t.length>1?i["Document"]=t:1==t.length&&(i["Placemark"]=t[0]);var a=iw[n.namespaceURI],s=km(i,a);return zm(o,aw,Dm,s,[e],a,this),n},e}(Jm);function mw(t,e){var n=[0,0],r="start",o=t.getImage();if(o){var i=o.getImageSize();if(null===i&&(i=Xb),2==i.length){var a=o.getScaleArray();n[0]=a[0]*i[0]/2,n[1]=-a[1]*i[1]/2,r="left"}}var s=t.getText();s?(s=s.clone(),s.setFont(s.getFont()||pw.getFont()),s.setScale(s.getScale()||pw.getScale()),s.setFill(s.getFill()||pw.getFill()),s.setStroke(s.getStroke()||cw)):s=pw.clone(),s.setText(e),s.setOffsetX(n[0]),s.setOffsetY(n[1]),s.setTextAlign(r);var u=new bl({image:o,text:s});return u}function Ow(t,e,n,r,o){return function(i,a){var s=o,u="",l=[];if(s){var c=i.getGeometry();if(c){var h=c.getType();h===nr.GEOMETRY_COLLECTION?(l=c.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===nr.POINT||e===nr.MULTI_POINT})),s=l.length>0):s=h===nr.POINT||h===nr.MULTI_POINT}}s&&(u=i.get("name"),s=s&&!!u,s&&u.search(/&[^&]+;/)>-1&&(dw||(dw=document.createElement("textarea")),dw.innerHTML=u,u=dw.value));var p=n;if(t?p=t:e&&(p=bw(e,n,r)),s){var f=mw(p[0],u);if(l.length>0){f.setGeometry(new T_(l));var d=new bl({geometry:p[0].getGeometry(),image:null,fill:p[0].getFill(),stroke:p[0].getStroke(),text:null});return[f,d].concat(p.slice(1))}return f}return p}}function bw(t,e,n){return Array.isArray(t)?t:"string"===typeof t?bw(n[t],e,n):e}function ww(t){var e=xm(t,!1),n=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(e);if(n){var r=n[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}}function Ew(t){var e=xm(t,!1),n=[];e=e.replace(/\s*,\s*/g,",");var r,o=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?),([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|,|$)(?:([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s+|$))?\s*/i;while(r=o.exec(e)){var i=parseFloat(r[1]),a=parseFloat(r[2]),s=r[3]?parseFloat(r[3]):0;n.push(i,a,s),e=e.substr(r[0].length)}if(""===e)return n}function Sw(t){var e=xm(t,!1).trim(),n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){var r=new URL(e,n);return r.href}return e}function xw(t){var e=xm(t,!1).trim().replace(/^(?!.*#)/,"#"),n=t.baseURI;if(n&&"about:blank"!=n||(n=window.location.href),n){var r=new URL(e,n);return r.href}return e}function Cw(t){var e,n=t.getAttribute("xunits"),r=t.getAttribute("yunits");return e="insetPixels"!==n?"insetPixels"!==r?Ec.BOTTOM_LEFT:Ec.TOP_LEFT:"insetPixels"!==r?Ec.BOTTOM_RIGHT:Ec.TOP_RIGHT,{x:parseFloat(t.getAttribute("x")),xunits:tw[n],y:parseFloat(t.getAttribute("y")),yunits:tw[r],origin:e}}function Tw(t){return aO(t)}var Rw=Bm($b,{Pair:pE});function Pw(t,e){return Um(void 0,Rw,t,e,this)}var Iw=Bm($b,{Icon:Am(Ww),color:Am(ww),heading:Am(aO),hotSpot:Am(Cw),scale:Am(Tw)});function Lw(t,e){var n=Um({},Iw,t,e);if(n){var r,o,i,a,s=e[e.length-1],u="Icon"in n?n["Icon"]:{},l=!("Icon"in n)||Object.keys(u).length>0,c=u["href"];c?r=c:l&&(r=Wb);var h,p=Ec.BOTTOM_LEFT,f=n["hotSpot"];f?(o=[f.x,f.y],i=f.xunits,a=f.yunits,p=f.origin):r===Wb?(o=Ub,i=Vb,a=zb):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(r)&&(o=[.5,0],i=wc.FRACTION,a=wc.FRACTION);var d,g=u["x"],y=u["y"];void 0!==g&&void 0!==y&&(h=[g,y]);var v,_=u["w"],m=u["h"];void 0!==_&&void 0!==m&&(d=[_,m]);var O=n["heading"];void 0!==O&&(v=Vt(O));var b=n["scale"],w=n["color"];if(l){r==Wb&&(d=Xb,void 0===b&&(b=Zb));var E=new Gc({anchor:o,anchorOrigin:p,anchorXUnits:i,anchorYUnits:a,crossOrigin:this.crossOrigin_,offset:h,offsetOrigin:Ec.BOTTOM_LEFT,rotation:v,scale:b,size:d,src:this.iconUrlFunction_(r),color:w});s["imageStyle"]=E}else s["imageStyle"]=uw}}var Mw=Bm($b,{color:Am(ww),scale:Am(Tw)});function Nw(t,e){var n=Um({},Mw,t,e);if(n){var r=e[e.length-1],o=new $y({fill:new pl({color:"color"in n?n["color"]:Yb}),scale:n["scale"]});r["textStyle"]=o}}var Aw=Bm($b,{color:Am(ww),width:Am(aO)});function jw(t,e){var n=Um({},Aw,t,e);if(n){var r=e[e.length-1],o=new dl({color:"color"in n?n["color"]:Yb,width:"width"in n?n["width"]:1});r["strokeStyle"]=o}}var Fw=Bm($b,{color:Am(ww),fill:Am(rO),outline:Am(rO)});function Gw(t,e){var n=Um({},Fw,t,e);if(n){var r=e[e.length-1],o=new pl({color:"color"in n?n["color"]:Yb});r["fillStyle"]=o;var i=n["fill"];void 0!==i&&(r["fill"]=i);var a=n["outline"];void 0!==a&&(r["outline"]=a)}}var Dw=Bm($b,{coordinates:Mm(Ew)});function kw(t,e){return Um(null,Dw,t,e)}function Bw(t,e){var n=e[e.length-1],r=n.coordinates,o=xm(t,!1),i=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i,a=i.exec(o);if(a){var s=parseFloat(a[1]),u=parseFloat(a[2]),l=parseFloat(a[3]);r.push([s,u,l])}else r.push([])}var Yw=Bm(Jb,{Track:Lm(zw)});function Uw(t,e){var n=Um([],Yw,t,e);if(n)return new $g(n)}var Vw=Bm($b,{when:CE},Bm(Jb,{coord:Bw}));function zw(t,e){var n=Um({coordinates:[],whens:[]},Vw,t,e);if(n){for(var r=[],o=n.coordinates,i=n.whens,a=0,s=Math.min(o.length,i.length);a<s;++a)3==o[a].length&&r.push(o[a][0],o[a][1],o[a][2],i[a]);return new Gg(r,wo.XYZM)}}var Xw=Bm($b,{href:Am(Sw)},Bm(Jb,{x:Am(aO),y:Am(aO),w:Am(aO),h:Am(aO)}));function Ww(t,e){var n=Um({},Xw,t,e);return n||null}var Zw=Bm($b,{coordinates:Mm(Ew)});function Hw(t,e){return Um(null,Zw,t,e)}var Kw=Bm($b,{extrude:Am(rO),tessellate:Am(rO),altitudeMode:Am(cO)});function qw(t,e){var n=Um({},Kw,t,e),r=Hw(t,e);if(r){var o=new Gg(r,wo.XYZ);return o.setProperties(n,!0),o}}function Jw(t,e){var n=Um({},Kw,t,e),r=Hw(t,e);if(r){var o=new Mi(r,wo.XYZ,[r.length]);return o.setProperties(n,!0),o}}var $w=Bm($b,{LineString:Lm(qw),LinearRing:Lm(Jw),MultiGeometry:Lm(Qw),Point:Lm(tE),Polygon:Lm(nE)});function Qw(t,e){var n,r=Um([],$w,t,e);if(!r)return null;if(0===r.length)return new T_(r);for(var o,i=!0,a=r[0].getType(),s=1,u=r.length;s<u;++s)if(o=r[s],o.getType()!=a){i=!1;break}if(i){var l=void 0,c=void 0;if(a==nr.POINT){var h=r[0];l=h.getLayout(),c=h.getFlatCoordinates();for(s=1,u=r.length;s<u;++s)o=r[s],Object(ao["c"])(c,o.getFlatCoordinates());n=new Wg(c,l),iE(n,r)}else a==nr.LINE_STRING?(n=new $g(r),iE(n,r)):a==nr.POLYGON?(n=new iy(r),iE(n,r)):a==nr.GEOMETRY_COLLECTION?n=new T_(r):P(!1,37)}else n=new T_(r);return n}function tE(t,e){var n=Um({},Kw,t,e),r=Hw(t,e);if(r){var o=new hi(r,wo.XYZ);return o.setProperties(n,!0),o}}var eE=Bm($b,{innerBoundaryIs:wE,outerBoundaryIs:SE});function nE(t,e){var n=Um({},Kw,t,e),r=Um([null],eE,t,e);if(r&&r[0]){for(var o=r[0],i=[o.length],a=1,s=r.length;a<s;++a)Object(ao["c"])(o,r[a]),i.push(o.length);var u=new Mi(o,wo.XYZ,i);return u.setProperties(n,!0),u}}var rE=Bm($b,{IconStyle:Lw,LabelStyle:Nw,LineStyle:jw,PolyStyle:Gw});function oE(t,e){var n=Um({},rE,t,e,this);if(!n)return null;var r,o="fillStyle"in n?n["fillStyle"]:sw,i=n["fill"];void 0===i||i||(o=null),"imageStyle"in n?n["imageStyle"]!=uw&&(r=n["imageStyle"]):r=lw;var a="textStyle"in n?n["textStyle"]:pw,s="strokeStyle"in n?n["strokeStyle"]:hw,u=n["outline"];return void 0===u||u?[new bl({fill:o,image:r,stroke:s,text:a,zIndex:void 0})]:[new bl({geometry:function(t){var e=t.getGeometry(),n=e.getType();return n===nr.GEOMETRY_COLLECTION?new T_(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e!==nr.POLYGON&&e!==nr.MULTI_POLYGON}))):n!==nr.POLYGON&&n!==nr.MULTI_POLYGON?e:void 0},fill:o,image:r,stroke:s,text:a,zIndex:void 0}),new bl({geometry:function(t){var e=t.getGeometry(),n=e.getType();return n===nr.GEOMETRY_COLLECTION?new T_(e.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===nr.POLYGON||e===nr.MULTI_POLYGON}))):n===nr.POLYGON||n===nr.MULTI_POLYGON?e:void 0},fill:o,stroke:null,zIndex:void 0})]}function iE(t,e){var n,r,o,i=e.length,a=new Array(e.length),s=new Array(e.length),u=new Array(e.length);n=!1,r=!1,o=!1;for(var l=0;l<i;++l){var c=e[l];a[l]=c.get("extrude"),s[l]=c.get("tessellate"),u[l]=c.get("altitudeMode"),n=n||void 0!==a[l],r=r||void 0!==s[l],o=o||u[l]}n&&t.set("extrude",a),r&&t.set("tessellate",s),o&&t.set("altitudeMode",u)}var aE=Bm($b,{displayName:Am(cO),value:Am(cO)});function sE(t,e){var n=t.getAttribute("name");Ym(aE,t,e);var r=e[e.length-1];n&&r.displayName?r[n]={value:r.value,displayName:r.displayName,toString:function(){return r.value}}:null!==n?r[n]=r.value:null!==r.displayName&&(r[r.displayName]=r.value),delete r["value"]}var uE=Bm($b,{Data:sE,SchemaData:gE});function lE(t,e){Ym(uE,t,e)}function cE(t,e){Ym(ow,t,e)}var hE=Bm($b,{Style:Am(oE),key:Am(cO),styleUrl:Am(xw)});function pE(t,e){var n=Um({},hE,t,e,this);if(n){var r=n["key"];if(r&&"normal"==r){var o=n["styleUrl"];o&&(e[e.length-1]=o);var i=n["Style"];i&&(e[e.length-1]=i)}}}function fE(t,e){var n=Pw.call(this,t,e);if(n){var r=e[e.length-1];Array.isArray(n)?r["Style"]=n:"string"===typeof n?r["styleUrl"]=n:P(!1,38)}}var dE=Bm($b,{SimpleData:yE});function gE(t,e){Ym(dE,t,e)}function yE(t,e){var n=t.getAttribute("name");if(null!==n){var r=cO(t),o=e[e.length-1];o[n]=r}}var vE=Bm($b,{altitudeMode:Am(cO),minAltitude:Am(aO),maxAltitude:Am(aO),north:Am(aO),south:Am(aO),east:Am(aO),west:Am(aO)});function _E(t,e){var n=Um({},vE,t,e);if(n){var r=e[e.length-1],o=[parseFloat(n["west"]),parseFloat(n["south"]),parseFloat(n["east"]),parseFloat(n["north"])];r["extent"]=o,r["altitudeMode"]=n["altitudeMode"],r["minAltitude"]=parseFloat(n["minAltitude"]),r["maxAltitude"]=parseFloat(n["maxAltitude"])}}var mE=Bm($b,{minLodPixels:Am(aO),maxLodPixels:Am(aO),minFadeExtent:Am(aO),maxFadeExtent:Am(aO)});function OE(t,e){var n=Um({},mE,t,e);if(n){var r=e[e.length-1];r["minLodPixels"]=parseFloat(n["minLodPixels"]),r["maxLodPixels"]=parseFloat(n["maxLodPixels"]),r["minFadeExtent"]=parseFloat(n["minFadeExtent"]),r["maxFadeExtent"]=parseFloat(n["maxFadeExtent"])}}var bE=Bm($b,{LinearRing:Lm(kw)});function wE(t,e){var n=Um([],bE,t,e);if(n.length>0){var r=e[e.length-1];r.push.apply(r,n)}}var EE=Bm($b,{LinearRing:Mm(kw)});function SE(t,e){var n=Um(void 0,EE,t,e);if(n){var r=e[e.length-1];r[0]=n}}function xE(t,e){Ym(rw,t,e)}function CE(t,e){var n=e[e.length-1],r=n.whens,o=xm(t,!1),i=Date.parse(o);r.push(isNaN(i)?0:i)}function TE(t,e){for(var n=Jt(e),r=4==n.length?n[3]:1,o=[255*r,n[2],n[1],n[0]],i=0;i<4;++i){var a=Math.floor(o[i]).toString(16);o[i]=1==a.length?"0"+a:a}yO(t,o.join(""))}function RE(t,e,n){var r,o=n[n.length-1],i=o["layout"],a=o["stride"];i==wo.XY||i==wo.XYM?r=2:i==wo.XYZ||i==wo.XYZM?r=3:P(!1,34);var s=e.length,u="";if(s>0){u+=e[0];for(var l=1;l<r;++l)u+=","+e[l];for(var c=a;c<s;c+=a){u+=" "+e[c];for(l=1;l<r;++l)u+=","+e[c+l]}}yO(t,u)}var PE=Bm($b,{Data:jm(IE),value:jm(ME),displayName:jm(LE)});function IE(t,e,n){t.setAttribute("name",e.name);var r={node:t},o=e.value;"object"==typeof o?(null!==o&&o.displayName&&zm(r,PE,Dm,[o.displayName],n,["displayName"]),null!==o&&o.value&&zm(r,PE,Dm,[o.value],n,["value"])):zm(r,PE,Dm,[o],n,["value"])}function LE(t,e){pO(t,e)}function ME(t,e){yO(t,e)}var NE=Bm($b,{Placemark:jm(cS)}),AE=function(t,e,n){var r=e[e.length-1].node;return Sm(r.namespaceURI,"Placemark")};function jE(t,e,n){var r={node:t};zm(r,NE,AE,e,n,void 0,this)}var FE=Gm("Data");function GE(t,e,n){for(var r={node:t},o=e.names,i=e.values,a=o.length,s=0;s<a;s++)zm(r,PE,FE,[{name:o[s],value:i[s]}],n)}var DE=Bm($b,["href"],Bm(Jb,["x","y","w","h"])),kE=Bm($b,{href:jm(yO)},Bm(Jb,{x:jm(dO),y:jm(dO),w:jm(dO),h:jm(dO)})),BE=function(t,e,n){return Sm(Jb[0],"gx:"+n)};function YE(t,e,n){var r={node:t},o=n[n.length-1].node,i=DE[o.namespaceURI],a=km(e,i);zm(r,kE,Dm,a,n,i),i=DE[Jb[0]],a=km(e,i),zm(r,kE,BE,a,n,i)}var UE=Bm($b,["scale","heading","Icon","color","hotSpot"]),VE=Bm($b,{Icon:jm(YE),color:jm(TE),heading:jm(dO),hotSpot:jm(xS),scale:jm(bS)});function zE(t,e,n){var r={node:t},o={},i=e.getSrc(),a=e.getSize(),s=e.getImageSize(),u={href:i};if(a){u["w"]=a[0],u["h"]=a[1];var l=e.getAnchor(),c=e.getOrigin();if(c&&s&&0!==c[0]&&c[1]!==a[1]&&(u["x"]=c[0],u["y"]=s[1]-(c[1]+a[1])),l&&(l[0]!==a[0]/2||l[1]!==a[1]/2)){var h={x:l[0],xunits:wc.PIXELS,y:a[1]-l[1],yunits:wc.PIXELS};o["hotSpot"]=h}}o["Icon"]=u;var p=e.getScale();1!==p&&(o["scale"]=p);var f=e.getRotation();0!==f&&(o["heading"]=f);var d=e.getColor();d&&(o["color"]=d);var g=n[n.length-1].node,y=UE[g.namespaceURI],v=km(o,y);zm(r,VE,Dm,v,n,y)}var XE=Bm($b,["color","scale"]),WE=Bm($b,{color:jm(TE),scale:jm(bS)});function ZE(t,e,n){var r={node:t},o={},i=e.getFill();i&&(o["color"]=i.getColor());var a=e.getScale();a&&1!==a&&(o["scale"]=a);var s=n[n.length-1].node,u=XE[s.namespaceURI],l=km(o,u);zm(r,WE,Dm,l,n,u)}var HE=Bm($b,["color","width"]),KE=Bm($b,{color:jm(TE),width:jm(dO)});function qE(t,e,n){var r={node:t},o={color:e.getColor(),width:Number(e.getWidth())||1},i=n[n.length-1].node,a=HE[i.namespaceURI],s=km(o,a);zm(r,KE,Dm,s,n,a)}var JE={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},$E=function(t,e,n){if(t){var r=e[e.length-1].node;return Sm(r.namespaceURI,JE[t.getType()])}},QE=Gm("Point"),tS=Gm("LineString"),eS=Gm("LinearRing"),nS=Gm("Polygon"),rS=Bm($b,{LineString:jm(fS),Point:jm(fS),Polygon:jm(_S),GeometryCollection:jm(oS)});function oS(t,e,n){var r,o={node:t},i=e.getType(),a=[];i===nr.GEOMETRY_COLLECTION?(e.getGeometriesArrayRecursive().forEach((function(t){var e=t.getType();e===nr.MULTI_POINT?a=a.concat(t.getPoints()):e===nr.MULTI_LINE_STRING?a=a.concat(t.getLineStrings()):e===nr.MULTI_POLYGON?a=a.concat(t.getPolygons()):e===nr.POINT||e===nr.LINE_STRING||e===nr.POLYGON?a.push(t):P(!1,39)})),r=$E):i===nr.MULTI_POINT?(a=e.getPoints(),r=QE):i===nr.MULTI_LINE_STRING?(a=e.getLineStrings(),r=tS):i===nr.MULTI_POLYGON?(a=e.getPolygons(),r=nS):P(!1,39),zm(o,rS,r,a,n)}var iS=Bm($b,{LinearRing:jm(fS)});function aS(t,e,n){var r={node:t};zm(r,iS,eS,[e],n)}var sS=Bm($b,{ExtendedData:jm(GE),MultiGeometry:jm(oS),LineString:jm(fS),LinearRing:jm(fS),Point:jm(fS),Polygon:jm(_S),Style:jm(SS),address:jm(yO),description:jm(yO),name:jm(yO),open:jm(hO),phoneNumber:jm(yO),styleUrl:jm(yO),visibility:jm(hO)}),uS=Bm($b,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]),lS=Gm("ExtendedData");function cS(t,e,n){var r={node:t};e.getId()&&t.setAttribute("id",e.getId());var o=e.getProperties(),i={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};i[e.getGeometryName()]=1;var a=Object.keys(o||{}).sort().filter((function(t){return!i[t]})),s=e.getStyleFunction();if(s){var u=s(e,0);if(u){var l=Array.isArray(u)?u:[u],c=l;if(e.getGeometry()&&(c=l.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===nr.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===nr.POINT||e===nr.MULTI_POINT})).length:r===nr.POINT||r===nr.MULTI_POINT}}))),this.writeStyles_){var h=l,p=l;e.getGeometry()&&(h=l.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===nr.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===nr.LINE_STRING||e===nr.MULTI_LINE_STRING})).length:r===nr.LINE_STRING||r===nr.MULTI_LINE_STRING}})),p=l.filter((function(t){var n=t.getGeometryFunction()(e);if(n){var r=n.getType();return r===nr.GEOMETRY_COLLECTION?n.getGeometriesArrayRecursive().filter((function(t){var e=t.getType();return e===nr.POLYGON||e===nr.MULTI_POLYGON})).length:r===nr.POLYGON||r===nr.MULTI_POLYGON}}))),o["Style"]={pointStyles:c,lineStyles:h,polyStyles:p}}if(c.length&&void 0===o["name"]){var f=c[0].getText();f&&(o["name"]=f.getText())}}}var d=n[n.length-1].node,g=uS[d.namespaceURI],y=km(o,g);if(zm(r,sS,Dm,y,n,g),a.length>0){var v=km(o,a),_={names:a,values:v};zm(r,sS,lS,[_],n)}var m=n[0],O=e.getGeometry();O&&(O=I_(O,!0,m)),zm(r,sS,$E,[O],n)}var hS=Bm($b,["extrude","tessellate","altitudeMode","coordinates"]),pS=Bm($b,{extrude:jm(hO),tessellate:jm(hO),altitudeMode:jm(yO),coordinates:jm(RE)});function fS(t,e,n){var r=e.getFlatCoordinates(),o={node:t};o["layout"]=e.getLayout(),o["stride"]=e.getStride();var i=e.getProperties();i.coordinates=r;var a=n[n.length-1].node,s=hS[a.namespaceURI],u=km(i,s);zm(o,pS,Dm,u,n,s)}var dS=Bm($b,["color","fill","outline"]),gS=Bm($b,{outerBoundaryIs:jm(aS),innerBoundaryIs:jm(aS)}),yS=Gm("innerBoundaryIs"),vS=Gm("outerBoundaryIs");function _S(t,e,n){var r=e.getLinearRings(),o=r.shift(),i={node:t};zm(i,gS,yS,r,n),zm(i,gS,vS,[o],n)}var mS=Bm($b,{color:jm(TE),fill:jm(hO),outline:jm(hO)});function OS(t,e,n){var r={node:t},o=e.getFill(),i=e.getStroke(),a={color:o?o.getColor():void 0,fill:!!o&&void 0,outline:!!i&&void 0},s=n[n.length-1].node,u=dS[s.namespaceURI],l=km(a,u);zm(r,mS,Dm,l,n,u)}function bS(t,e){dO(t,Math.round(1e6*e)/1e6)}var wS=Bm($b,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),ES=Bm($b,{IconStyle:jm(zE),LabelStyle:jm(ZE),LineStyle:jm(qE),PolyStyle:jm(OS)});function SS(t,e,n){var r={node:t},o={};if(e.pointStyles.length){var i=e.pointStyles[0].getText();i&&(o["LabelStyle"]=i);var a=e.pointStyles[0].getImage();a&&"function"===typeof a.getSrc&&(o["IconStyle"]=a)}if(e.lineStyles.length){var s=e.lineStyles[0].getStroke();s&&(o["LineStyle"]=s)}if(e.polyStyles.length){s=e.polyStyles[0].getStroke();s&&!o["LineStyle"]&&(o["LineStyle"]=s),o["PolyStyle"]=e.polyStyles[0]}var u=n[n.length-1].node,l=wS[u.namespaceURI],c=km(o,l);zm(r,ES,Dm,c,n,l)}function xS(t,e){t.setAttribute("x",String(e.x)),t.setAttribute("y",String(e.y)),t.setAttribute("xunits",e.xunits),t.setAttribute("yunits",e.yunits)}var CS=_w,TS=n("7915"),RS=n.n(TS),PS=L(),IS=function(){function t(t,e,n,r,o){this.extent_,this.id_=o,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=n,this.properties_=r}return t.prototype.get=function(t){return this.properties_[t]},t.prototype.getExtent=function(){return this.extent_||(this.extent_=this.type_===nr.POINT?et(this.flatCoordinates_):rt(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_},t.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var t=vt(this.getExtent());this.flatInteriorPoints_=yi(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_},t.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var t=ny(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=vi(this.flatCoordinates_,0,this.ends_,2,t)}return this.flatInteriorPoints_},t.prototype.getFlatMidpoint=function(){return this.flatMidpoints_||(this.flatMidpoints_=Mg(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_},t.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];for(var t=this.flatCoordinates_,e=0,n=this.ends_,r=0,o=n.length;r<o;++r){var i=n[r],a=Mg(t,e,i,2,.5);Object(ao["c"])(this.flatMidpoints_,a),e=i}}return this.flatMidpoints_},t.prototype.getId=function(){return this.id_},t.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_},t.prototype.getGeometry=function(){return this},t.prototype.getSimplifiedGeometry=function(t){return this},t.prototype.simplifyTransformed=function(t,e){return this},t.prototype.getProperties=function(){return this.properties_},t.prototype.getStride=function(){return 2},t.prototype.getStyleFunction=function(){},t.prototype.getType=function(){return this.type_},t.prototype.transform=function(t){t=Yr(t);var e=t.getExtent(),n=t.getWorldExtent();if(e&&n){var r=bt(n)/bt(e);G(PS,n[0],n[3],r,-r,0,0,0),Eo(this.flatCoordinates_,0,this.flatCoordinates_.length,2,PS,this.flatCoordinates_)}},t.prototype.getEnds=function(){return this.ends_},t}();IS.prototype.getEndss=IS.prototype.getEnds,IS.prototype.getFlatCoordinates=IS.prototype.getOrientedFlatCoordinates;var LS=IS,MS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),NS=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.dataProjection=new hr({code:"",units:ir.TILE_PIXELS}),n.featureClass_=r.featureClass?r.featureClass:LS,n.geometryName_=r.geometryName,n.layerName_=r.layerName?r.layerName:"layer",n.layers_=r.layers?r.layers:null,n.idProperty_=r.idProperty,n}return MS(e,t),e.prototype.readRawGeometry_=function(t,e,n,r){t.pos=e.geometry;var o=t.readVarint()+t.pos,i=1,a=0,s=0,u=0,l=0,c=0;while(t.pos<o){if(!a){var h=t.readVarint();i=7&h,a=h>>3}a--,1===i||2===i?(s+=t.readSVarint(),u+=t.readSVarint(),1===i&&l>c&&(r.push(l),c=l),n.push(s,u),l+=2):7===i?l>c&&(n.push(n[c],n[c+1]),l+=2):P(!1,59)}l>c&&(r.push(l),c=l)},e.prototype.createFeature_=function(t,e,n){var r,o=e.type;if(0===o)return null;var i,a=e.properties;this.idProperty_?(i=a[this.idProperty_],delete a[this.idProperty_]):i=e.id,a[this.layerName_]=e.layer.name;var s=[],u=[];this.readRawGeometry_(t,e,s,u);var l=DS(o,u.length);if(this.featureClass_===LS)r=new this.featureClass_(l,s,u,a,i),r.transform(n.dataProjection);else{var c=void 0;if(l==nr.POLYGON){for(var h=[],p=0,f=0,d=0,g=u.length;d<g;++d){var y=u[d];if(xi(s,p,y,2)){if(0===h.length)continue;h[h.length-1].push(u[f])}else h.push(u.slice(f,d+1));f=d+1,p=y}c=h.length>1?new iy(s,wo.XY,h):new Mi(s,wo.XY,u)}else c=l===nr.POINT?new hi(s,wo.XY):l===nr.LINE_STRING?new Gg(s,wo.XY):l===nr.POLYGON?new Mi(s,wo.XY,u):l===nr.MULTI_POINT?new Wg(s,wo.XY):l===nr.MULTI_LINE_STRING?new $g(s,wo.XY,u):null;var v=this.featureClass_;r=new v,this.geometryName_&&r.setGeometryName(this.geometryName_);var _=I_(c,!1,n);r.setGeometry(_),r.setId(i),r.setProperties(a,!0)}return r},e.prototype.getType=function(){return wh.ARRAY_BUFFER},e.prototype.readFeatures=function(t,e){var n=this.layers_,r=this.adaptOptions(e),o=Yr(r.dataProjection);o.setWorldExtent(r.extent),r.dataProjection=o;var i=new RS.a(t),a=i.readFields(AS,{}),s=[];for(var u in a)if(!n||-1!=n.indexOf(u)){var l=a[u],c=l?[0,0,l.extent,l.extent]:null;o.setExtent(c);for(var h=0,p=l.length;h<p;++h){var f=GS(i,l,h);s.push(this.createFeature_(i,f,r))}}return s},e.prototype.readProjection=function(t){return this.dataProjection},e.prototype.setLayers=function(t){this.layers_=t},e}(P_);function AS(t,e,n){if(3===t){var r={keys:[],values:[],features:[]},o=n.readVarint()+n.pos;n.readFields(jS,r,o),r.length=r.features.length,r.length&&(e[r.name]=r)}}function jS(t,e,n){if(15===t)e.version=n.readVarint();else if(1===t)e.name=n.readString();else if(5===t)e.extent=n.readVarint();else if(2===t)e.features.push(n.pos);else if(3===t)e.keys.push(n.readString());else if(4===t){var r=null,o=n.readVarint()+n.pos;while(n.pos<o)t=n.readVarint()>>3,r=1===t?n.readString():2===t?n.readFloat():3===t?n.readDouble():4===t?n.readVarint64():5===t?n.readVarint():6===t?n.readSVarint():7===t?n.readBoolean():null;e.values.push(r)}}function FS(t,e,n){if(1==t)e.id=n.readVarint();else if(2==t){var r=n.readVarint()+n.pos;while(n.pos<r){var o=e.layer.keys[n.readVarint()],i=e.layer.values[n.readVarint()];e.properties[o]=i}}else 3==t?e.type=n.readVarint():4==t&&(e.geometry=n.pos)}function GS(t,e,n){t.pos=e.features[n];var r=t.readVarint()+t.pos,o={layer:e,type:0,properties:{}};return t.readFields(FS,o,r),o}function DS(t,e){var n;return 1===t?n=1===e?nr.POINT:nr.MULTI_POINT:2===t?n=1===e?nr.LINE_STRING:nr.MULTI_LINE_STRING:3===t&&(n=nr.POLYGON),n}var kS=NS,BS=function(){function t(){}return t.prototype.read=function(t){if(t){if("string"===typeof t){var e=Pm(t);return this.readFromDocument(e)}return Tm(t)?this.readFromDocument(t):this.readFromNode(t)}return null},t.prototype.readFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFromNode(e);return null},t.prototype.readFromNode=function(t){},t}(),YS=BS,US="http://www.w3.org/1999/xlink";function VS(t){return t.getAttributeNS(US,"href")}var zS=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),XS=[null,"http://www.opengis.net/ows/1.1"],WS=Bm(XS,{ServiceIdentification:Am(vx),ServiceProvider:Am(mx),OperationsMetadata:Am(gx)}),ZS=function(t){function e(){return t.call(this)||this}return zS(e,t),e.prototype.readFromNode=function(t){var e=Um({},WS,t,[]);return e||null},e}(YS),HS=Bm(XS,{DeliveryPoint:Am(cO),City:Am(cO),AdministrativeArea:Am(cO),PostalCode:Am(cO),Country:Am(cO),ElectronicMailAddress:Am(cO)}),KS=Bm(XS,{Value:Nm(Ox)}),qS=Bm(XS,{AllowedValues:Am(ux)}),JS=Bm(XS,{Phone:Am(yx),Address:Am(sx)}),$S=Bm(XS,{HTTP:Am(fx)}),QS=Bm(XS,{Get:Nm(px),Post:void 0}),tx=Bm(XS,{DCP:Am(hx)}),ex=Bm(XS,{Operation:dx}),nx=Bm(XS,{Voice:Am(cO),Facsimile:Am(cO)}),rx=Bm(XS,{Constraint:Nm(lx)}),ox=Bm(XS,{IndividualName:Am(cO),PositionName:Am(cO),ContactInfo:Am(cx)}),ix=Bm(XS,{Abstract:Am(cO),AccessConstraints:Am(cO),Fees:Am(cO),Title:Am(cO),ServiceTypeVersion:Am(cO),ServiceType:Am(cO)}),ax=Bm(XS,{ProviderName:Am(cO),ProviderSite:Am(VS),ServiceContact:Am(_x)});function sx(t,e){return Um({},HS,t,e)}function ux(t,e){return Um({},KS,t,e)}function lx(t,e){var n=t.getAttribute("name");if(n)return Um({name:n},qS,t,e)}function cx(t,e){return Um({},JS,t,e)}function hx(t,e){return Um({},$S,t,e)}function px(t,e){var n=VS(t);if(n)return Um({href:n},rx,t,e)}function fx(t,e){return Um({},QS,t,e)}function dx(t,e){var n=t.getAttribute("name"),r=Um({},tx,t,e);if(r){var o=e[e.length-1];o[n]=r}}function gx(t,e){return Um({},ex,t,e)}function yx(t,e){return Um({},nx,t,e)}function vx(t,e){return Um({},ix,t,e)}function _x(t,e){return Um({},ox,t,e)}function mx(t,e){return Um({},ax,t,e)}function Ox(t,e){return cO(t)}var bx=ZS;function wx(t,e,n,r,o,i){var a,s;void 0!==o?(a=o,s=void 0!==i?i:0):(a=[],s=0);var u=e;while(u<n){var l=t[u++];a[s++]=t[u++],a[s++]=l;for(var c=2;c<r;++c)a[s++]=t[u++]}return a.length=s,a}var Ex=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Sx=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.dataProjection=Yr("EPSG:4326"),n.factor_=r.factor?r.factor:1e5,n.geometryLayout_=r.geometryLayout?r.geometryLayout:wo.XY,n}return Ex(e,t),e.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e);return new Xs(n)},e.prototype.readFeaturesFromText=function(t,e){var n=this.readFeatureFromText(t,e);return[n]},e.prototype.readGeometryFromText=function(t,e){var n=Ao(this.geometryLayout_),r=Cx(t,n,this.factor_);wx(r,0,r.length,n,r);var o=ti(r,0,r.length,n),i=new Gg(o,this.geometryLayout_);return I_(i,!1,this.adaptOptions(e))},e.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):(P(!1,40),"")},e.prototype.writeFeaturesText=function(t,e){return this.writeFeatureText(t[0],e)},e.prototype.writeGeometryText=function(t,e){t=I_(t,!0,this.adaptOptions(e));var n=t.getFlatCoordinates(),r=t.getStride();return wx(n,0,n.length,r,n),xx(n,r,this.factor_)},e}(wb);function xx(t,e,n){var r,o=n||1e5,i=new Array(e);for(r=0;r<e;++r)i[r]=0;for(var a=0,s=t.length;a<s;)for(r=0;r<e;++r,++a){var u=t[a],l=u-i[r];i[r]=u,t[a]=l}return Tx(t,o)}function Cx(t,e,n){var r,o=n||1e5,i=new Array(e);for(r=0;r<e;++r)i[r]=0;for(var a=Rx(t,o),s=0,u=a.length;s<u;)for(r=0;r<e;++r,++s)i[r]+=a[s],a[s]=i[r];return a}function Tx(t,e){for(var n=e||1e5,r=0,o=t.length;r<o;++r)t[r]=Math.round(t[r]*n);return Px(t)}function Rx(t,e){for(var n=e||1e5,r=Ix(t),o=0,i=r.length;o<i;++o)r[o]/=n;return r}function Px(t){for(var e=0,n=t.length;e<n;++e){var r=t[e];t[e]=r<0?~(r<<1):r<<1}return Lx(t)}function Ix(t){for(var e=Mx(t),n=0,r=e.length;n<r;++n){var o=e[n];e[n]=1&o?~(o>>1):o>>1}return e}function Lx(t){for(var e="",n=0,r=t.length;n<r;++n)e+=Nx(t[n]);return e}function Mx(t){for(var e=[],n=0,r=0,o=0,i=t.length;o<i;++o){var a=t.charCodeAt(o)-63;n|=(31&a)<<r,a<32?(e.push(n),n=0,r=0):r+=5}return e}function Nx(t){var e,n="";while(t>=32)e=63+(32|31&t),n+=String.fromCharCode(e),t>>=5;return e=t+63,n+=String.fromCharCode(e),n}var Ax=Sx,jx=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Fx=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.layerName_=r.layerName,n.layers_=r.layers?r.layers:null,n.dataProjection=Yr(r.dataProjection?r.dataProjection:"EPSG:4326"),n}return jx(e,t),e.prototype.readFeaturesFromObject=function(t,e){if("Topology"==t.type){var n=t,r=void 0,o=null,i=null;n["transform"]&&(r=n["transform"],o=r["scale"],i=r["translate"]);var a=n["arcs"];r&&Zx(a,o,i);var s=[],u=n["objects"],l=this.layerName_,c=void 0;for(var h in u)this.layers_&&-1==this.layers_.indexOf(h)||("GeometryCollection"===u[h].type?(c=u[h],s.push.apply(s,Xx(c,a,o,i,l,h,e))):(c=u[h],s.push(Wx(c,a,o,i,l,h,e))));return s}return[]},e.prototype.readProjectionFromObject=function(t){return this.dataProjection},e}(j_),Gx={Point:kx,LineString:Yx,Polygon:Vx,MultiPoint:Bx,MultiLineString:Ux,MultiPolygon:zx};function Dx(t,e){for(var n,r,o=[],i=0,a=t.length;i<a;++i)n=t[i],i>0&&o.pop(),r=n>=0?e[n]:e[~n].slice().reverse(),o.push.apply(o,r);for(var s=0,u=o.length;s<u;++s)o[s]=o[s].slice();return o}function kx(t,e,n){var r=t["coordinates"];return e&&n&&Kx(r,e,n),new hi(r)}function Bx(t,e,n){var r=t["coordinates"];if(e&&n)for(var o=0,i=r.length;o<i;++o)Kx(r[o],e,n);return new Wg(r)}function Yx(t,e){var n=Dx(t["arcs"],e);return new Gg(n)}function Ux(t,e){for(var n=[],r=0,o=t["arcs"].length;r<o;++r)n[r]=Dx(t["arcs"][r],e);return new $g(n)}function Vx(t,e){for(var n=[],r=0,o=t["arcs"].length;r<o;++r)n[r]=Dx(t["arcs"][r],e);return new Mi(n)}function zx(t,e){for(var n=[],r=0,o=t["arcs"].length;r<o;++r){for(var i=t["arcs"][r],a=[],s=0,u=i.length;s<u;++s)a[s]=Dx(i[s],e);n[r]=a}return new iy(n)}function Xx(t,e,n,r,o,i,a){for(var s=t["geometries"],u=[],l=0,c=s.length;l<c;++l)u[l]=Wx(s[l],e,n,r,o,i,a);return u}function Wx(t,e,n,r,o,i,a){var s=null,u=t.type;if(u){var l=Gx[u];s="Point"===u||"MultiPoint"===u?l(t,n,r):l(t,e),s=I_(s,!1,a)}var c=new Xs({geometry:s});void 0!==t.id&&c.setId(t.id);var h=t.properties;return o&&(h||(h={}),h[o]=i),h&&c.setProperties(h,!0),c}function Zx(t,e,n){for(var r=0,o=t.length;r<o;++r)Hx(t[r],e,n)}function Hx(t,e,n){for(var r=0,o=0,i=0,a=t.length;i<a;++i){var s=t[i];r+=s[0],o+=s[1],s[0]=r,s[1]=o,Kx(s,e,n)}}function Kx(t,e,n){t[0]=t[0]*e[0]+n[0],t[1]=t[1]*e[1]+n[1]}var qx=Fx,Jx=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),$x=function(t){function e(e){var n=this,r=e||{};return n=t.call(this,r)||this,n.schemaLocation=r.schemaLocation?r.schemaLocation:n.namespace+" http://schemas.opengis.net/gml/3.2.1/gml.xsd",n}return Jx(e,t),e}(CO);$x.prototype.namespace="http://www.opengis.net/gml/3.2",$x.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml/3.2":{pos:Mm(CO.prototype.readFlatPos),posList:Mm(CO.prototype.readFlatPosList),coordinates:Mm(bO.prototype.readFlatCoordinates)}},$x.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml/3.2":{interior:CO.prototype.interiorParser,exterior:CO.prototype.exteriorParser}},$x.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Mm(nO.prototype.readPoint),MultiPoint:Mm(nO.prototype.readMultiPoint),LineString:Mm(nO.prototype.readLineString),MultiLineString:Mm(nO.prototype.readMultiLineString),LinearRing:Mm(nO.prototype.readLinearRing),Polygon:Mm(nO.prototype.readPolygon),MultiPolygon:Mm(nO.prototype.readMultiPolygon),Surface:Mm($x.prototype.readSurface),MultiSurface:Mm(CO.prototype.readMultiSurface),Curve:Mm($x.prototype.readCurve),MultiCurve:Mm(CO.prototype.readMultiCurve),Envelope:Mm($x.prototype.readEnvelope)}},$x.prototype.MULTICURVE_PARSERS={"http://www.opengis.net/gml/3.2":{curveMember:Lm(CO.prototype.curveMemberParser),curveMembers:Lm(CO.prototype.curveMemberParser)}},$x.prototype.MULTISURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{surfaceMember:Lm(CO.prototype.surfaceMemberParser),surfaceMembers:Lm(CO.prototype.surfaceMemberParser)}},$x.prototype.CURVEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Lm(nO.prototype.readLineString),Curve:Lm(CO.prototype.readCurve)}},$x.prototype.SURFACEMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Lm(nO.prototype.readPolygon),Surface:Lm(CO.prototype.readSurface)}},$x.prototype.SURFACE_PARSERS={"http://www.opengis.net/gml/3.2":{patches:Mm(CO.prototype.readPatch)}},$x.prototype.CURVE_PARSERS={"http://www.opengis.net/gml/3.2":{segments:Mm(CO.prototype.readSegment)}},$x.prototype.ENVELOPE_PARSERS={"http://www.opengis.net/gml/3.2":{lowerCorner:Lm(CO.prototype.readFlatPosList),upperCorner:Lm(CO.prototype.readFlatPosList)}},$x.prototype.PATCHES_PARSERS={"http://www.opengis.net/gml/3.2":{PolygonPatch:Mm(CO.prototype.readPolygonPatch)}},$x.prototype.SEGMENTS_PARSERS={"http://www.opengis.net/gml/3.2":{LineStringSegment:Mm(CO.prototype.readLineStringSegment)}},$x.prototype.MULTIPOINT_PARSERS={"http://www.opengis.net/gml/3.2":{pointMember:Lm(nO.prototype.pointMemberParser),pointMembers:Lm(nO.prototype.pointMemberParser)}},$x.prototype.MULTILINESTRING_PARSERS={"http://www.opengis.net/gml/3.2":{lineStringMember:Lm(nO.prototype.lineStringMemberParser),lineStringMembers:Lm(nO.prototype.lineStringMemberParser)}},$x.prototype.MULTIPOLYGON_PARSERS={"http://www.opengis.net/gml/3.2":{polygonMember:Lm(nO.prototype.polygonMemberParser),polygonMembers:Lm(nO.prototype.polygonMemberParser)}},$x.prototype.POINTMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Point:Lm(nO.prototype.readFlatCoordinatesFromNode)}},$x.prototype.LINESTRINGMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{LineString:Lm(nO.prototype.readLineString)}},$x.prototype.POLYGONMEMBER_PARSERS={"http://www.opengis.net/gml/3.2":{Polygon:Lm(nO.prototype.readPolygon)}},$x.prototype.RING_PARSERS={"http://www.opengis.net/gml/3.2":{LinearRing:Mm(nO.prototype.readFlatLinearRing)}},$x.prototype.RING_SERIALIZERS={"http://www.opengis.net/gml/3.2":{exterior:jm(CO.prototype.writeRing),interior:jm(CO.prototype.writeRing)}},$x.prototype.ENVELOPE_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lowerCorner:jm(yO),upperCorner:jm(yO)}},$x.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{surfaceMember:jm(CO.prototype.writeSurfaceOrPolygonMember),polygonMember:jm(CO.prototype.writeSurfaceOrPolygonMember)}},$x.prototype.POINTMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{pointMember:jm(CO.prototype.writePointMember)}},$x.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS={"http://www.opengis.net/gml/3.2":{lineStringMember:jm(CO.prototype.writeLineStringOrCurveMember),curveMember:jm(CO.prototype.writeLineStringOrCurveMember)}},$x.prototype.GEOMETRY_SERIALIZERS={"http://www.opengis.net/gml/3.2":{Curve:jm(CO.prototype.writeCurveOrLineString),MultiCurve:jm(CO.prototype.writeMultiCurveOrLineString),Point:jm($x.prototype.writePoint),MultiPoint:jm(CO.prototype.writeMultiPoint),LineString:jm(CO.prototype.writeCurveOrLineString),MultiLineString:jm(CO.prototype.writeMultiCurveOrLineString),LinearRing:jm(CO.prototype.writeLinearRing),Polygon:jm(CO.prototype.writeSurfaceOrPolygon),MultiPolygon:jm(CO.prototype.writeMultiSurfaceOrPolygon),Surface:jm(CO.prototype.writeSurfaceOrPolygon),MultiSurface:jm(CO.prototype.writeMultiSurfaceOrPolygon),Envelope:jm(CO.prototype.writeEnvelope)}};var Qx=$x,tC=function(){function t(t){this.tagName_=t}return t.prototype.getTagName=function(){return this.tagName_},t}(),eC=tC,nC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),rC=function(t){function e(e,n){var r=t.call(this,e)||this;return r.conditions=n,P(r.conditions.length>=2,57),r}return nC(e,t),e}(eC),oC=rC,iC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aC=function(t){function e(e){return t.call(this,"And",Array.prototype.slice.call(arguments))||this}return iC(e,t),e}(oC),sC=aC,uC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),lC=function(t){function e(e,n,r){var o=t.call(this,"BBOX")||this;if(o.geometryName=e,o.extent=n,4!==n.length)throw new Error("Expected an extent with four values ([minX, minY, maxX, maxY])");return o.srsName=r,o}return uC(e,t),e}(eC),cC=lC,hC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),pC=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.geometryName=n||"the_geom",i.geometry=r,i.srsName=o,i}return hC(e,t),e}(eC),fC=pC,dC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),gC=(function(t){function e(e,n,r){return t.call(this,"Contains",e,n,r)||this}dC(e,t)}(fC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),yC=(function(t){function e(e,n,r,o,i){var a=t.call(this,"DWithin",e,n,i)||this;return a.distance=r,a.unit=o,a}gC(e,t)}(fC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),vC=(function(t){function e(e,n,r){return t.call(this,"Disjoint",e,n,r)||this}yC(e,t)}(fC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),_C=function(t){function e(e,n){var r=t.call(this,e)||this;return r.propertyName=n,r}return vC(e,t),e}(eC),mC=_C,OC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),bC=(function(t){function e(e,n,r){var o=t.call(this,"During",e)||this;return o.begin=n,o.end=r,o}OC(e,t)}(mC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),wC=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.expression=r,i.matchCase=o,i}return bC(e,t),e}(mC),EC=wC,SC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),xC=(function(t){function e(e,n,r){return t.call(this,"PropertyIsEqualTo",e,n,r)||this}SC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),CC=(function(t){function e(e,n){return t.call(this,"PropertyIsGreaterThan",e,n)||this}xC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),TC=(function(t){function e(e,n){return t.call(this,"PropertyIsGreaterThanOrEqualTo",e,n)||this}CC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),RC=(function(t){function e(e,n,r){return t.call(this,"Intersects",e,n,r)||this}TC(e,t)}(fC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),PC=(function(t){function e(e,n,r){var o=t.call(this,"PropertyIsBetween",e)||this;return o.lowerBoundary=n,o.upperBoundary=r,o}RC(e,t)}(mC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),IC=(function(t){function e(e,n,r,o,i,a){var s=t.call(this,"PropertyIsLike",e)||this;return s.pattern=n,s.wildCard=void 0!==r?r:"*",s.singleChar=void 0!==o?o:".",s.escapeChar=void 0!==i?i:"!",s.matchCase=a,s}PC(e,t)}(mC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),LC=(function(t){function e(e){return t.call(this,"PropertyIsNull",e)||this}IC(e,t)}(mC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),MC=(function(t){function e(e,n){return t.call(this,"PropertyIsLessThan",e,n)||this}LC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),NC=(function(t){function e(e,n){return t.call(this,"PropertyIsLessThanOrEqualTo",e,n)||this}MC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),AC=(function(t){function e(e){var n=t.call(this,"Not")||this;return n.condition=e,n}NC(e,t)}(eC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),jC=(function(t){function e(e,n,r){return t.call(this,"PropertyIsNotEqualTo",e,n,r)||this}AC(e,t)}(EC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),FC=(function(t){function e(e){return t.call(this,"Or",Array.prototype.slice.call(arguments))||this}jC(e,t)}(oC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),GC=(function(t){function e(e){var n=t.call(this,"ResourceId")||this;return n.rid=e,n}FC(e,t)}(eC),function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}());(function(t){function e(e,n,r){return t.call(this,"Within",e,n,r)||this}GC(e,t)})(fC);function DC(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(sC,e))}function kC(t,e,n){return new cC(t,e,n)}var BC=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),YC={"http://www.opengis.net/gml":{boundedBy:Am(nO.prototype.readGeometryElement,"bounds")},"http://www.opengis.net/wfs/2.0":{member:Lm(nO.prototype.readFeaturesInternal)}},UC={"http://www.opengis.net/wfs":{totalInserted:Am(uO),totalUpdated:Am(uO),totalDeleted:Am(uO)},"http://www.opengis.net/wfs/2.0":{totalInserted:Am(uO),totalUpdated:Am(uO),totalDeleted:Am(uO)}},VC={"http://www.opengis.net/wfs":{TransactionSummary:Am(rT,"transactionSummary"),InsertResults:Am(sT,"insertIds")},"http://www.opengis.net/wfs/2.0":{TransactionSummary:Am(rT,"transactionSummary"),InsertResults:Am(sT,"insertIds")}},zC={"http://www.opengis.net/wfs":{PropertyName:jm(yO)},"http://www.opengis.net/wfs/2.0":{PropertyName:jm(yO)}},XC={"http://www.opengis.net/wfs":{Insert:jm(uT),Update:jm(pT),Delete:jm(hT),Property:jm(fT),Native:jm(dT)},"http://www.opengis.net/wfs/2.0":{Insert:jm(uT),Update:jm(pT),Delete:jm(hT),Property:jm(fT),Native:jm(dT)}},WC="feature",ZC="http://www.w3.org/2000/xmlns/",HC={"2.0.0":"http://www.opengis.net/ogc/1.1","1.1.0":"http://www.opengis.net/ogc","1.0.0":"http://www.opengis.net/ogc"},KC={"2.0.0":"http://www.opengis.net/wfs/2.0","1.1.0":"http://www.opengis.net/wfs","1.0.0":"http://www.opengis.net/wfs"},qC={"2.0.0":"http://www.opengis.net/fes/2.0","1.1.0":"http://www.opengis.net/fes","1.0.0":"http://www.opengis.net/fes"},JC={"2.0.0":"http://www.opengis.net/wfs/2.0 http://schemas.opengis.net/wfs/2.0/wfs.xsd","1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},$C={"2.0.0":Qx,"1.1.0":CO,"1.0.0":bO},QC="1.1.0",tT=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.version_=r.version?r.version:QC,n.featureType_=r.featureType,n.featureNS_=r.featureNS,n.gmlFormat_=r.gmlFormat?r.gmlFormat:new $C[n.version_],n.schemaLocation_=r.schemaLocation?r.schemaLocation:JC[n.version_],n}return BC(e,t),e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var n={node:t};Object(ae["a"])(n,{featureType:this.featureType_,featureNS:this.featureNS_}),Object(ae["a"])(n,this.getReadOptions(t,e||{}));var r,o=[n];r="2.0.0"===this.version_?YC:this.gmlFormat_.FEATURE_COLLECTION_PARSERS;var i=Um([],r,t,o,this.gmlFormat_);return i||(i=[]),i},e.prototype.readTransactionResponse=function(t){if(t){if("string"===typeof t){var e=Pm(t);return this.readTransactionResponseFromDocument(e)}return Tm(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"===typeof t){var e=Pm(t);return this.readFeatureCollectionMetadataFromDocument(e)}return Tm(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},n=lO(t.getAttribute("numberOfFeatures"));return e["numberOfFeatures"]=n,Um(e,YC,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return Um({},VC,t,[])},e.prototype.writeGetFeature=function(t){var e=this,n=Sm(KC[this.version_],"GetFeature");n.setAttribute("service","WFS"),n.setAttribute("version",this.version_),t.handle&&n.setAttribute("handle",t.handle),t.outputFormat&&n.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&n.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&n.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&n.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&n.setAttribute("count",String(t.count)),void 0!==t.viewParams&&n.setAttribute("viewParams",t.viewParams),n.setAttributeNS(Em,"xsi:schemaLocation",this.schemaLocation_);var r={node:n};if(Object(ae["a"])(r,{version:this.version_,srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,propertyNames:t.propertyNames?t.propertyNames:[]}),P(Array.isArray(t.featureTypes),11),"string"===typeof t.featureTypes[0]){var o=t.filter;t.bbox&&(P(t.geometryName,12),o=this.combineBboxAndFilter(t.geometryName,t.bbox,t.srsName,o)),Object(ae["a"])(r,{geometryName:t.geometryName,filter:o}),NT(n,t.featureTypes,[r])}else t.featureTypes.forEach((function(o){var i=e.combineBboxAndFilter(o.geometryName,o.bbox,t.srsName,t.filter);Object(ae["a"])(r,{geometryName:o.geometryName,filter:i}),NT(n,[o.name],[r])}));return n},e.prototype.combineBboxAndFilter=function(t,e,n,r){var o=kC(t,e,n);return r?DC(r,o):o},e.prototype.writeTransaction=function(t,e,n,r){var o,i=[],a=r.version?r.version:this.version_,s=Sm(KC[a],"Transaction");s.setAttribute("service","WFS"),s.setAttribute("version",a),r&&(o=r.gmlOptions?r.gmlOptions:{},r.handle&&s.setAttribute("handle",r.handle)),s.setAttributeNS(Em,"xsi:schemaLocation",JC[a]);var u=eT(s,o,a,r);return t&&nT("Insert",t,i,u),e&&nT("Update",e,i,u),n&&nT("Delete",n,i,u),r.nativeElements&&nT("Native",r.nativeElements,i,u),s},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var n=[{}];return this.gmlFormat_.readGeometryElement(e,n),Yr(n.pop().srsName)}}return null},e}(Jm);function eT(t,e,n,r){var o,i=r.featurePrefix?r.featurePrefix:WC;"1.0.0"===n?o=2:"1.1.0"===n?o=3:"2.0.0"===n&&(o=3.2);var a=Object(ae["a"])({node:t},{version:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:i,gmlVersion:o,hasZ:r.hasZ,srsName:r.srsName},e);return a}function nT(t,e,n,r){zm(r,XC,Gm(t),e,n)}function rT(t,e){return Um({},UC,t,e)}var oT={"http://www.opengis.net/ogc":{FeatureId:Lm((function(t,e){return t.getAttribute("fid")}))},"http://www.opengis.net/ogc/1.1":{FeatureId:Lm((function(t,e){return t.getAttribute("fid")}))}};function iT(t,e){Ym(oT,t,e)}var aT={"http://www.opengis.net/wfs":{Feature:iT},"http://www.opengis.net/wfs/2.0":{Feature:iT}};function sT(t,e){return Um([],aT,t,e)}function uT(t,e,n){var r=n[n.length-1],o=r["featureType"],i=r["featureNS"],a=r["gmlVersion"],s=Sm(i,o);t.appendChild(s),2===a?bO.prototype.writeFeatureElement(s,e,n):3===a?CO.prototype.writeFeatureElement(s,e,n):Qx.prototype.writeFeatureElement(s,e,n)}function lT(t,e,n){var r=n[n.length-1],o=r["version"],i=HC[o],a=Sm(i,"Filter"),s=Sm(i,"FeatureId");a.appendChild(s),s.setAttribute("fid",e),t.appendChild(a)}function cT(t,e){t=t||WC;var n=t+":";return 0===e.indexOf(n)?e:n+e}function hT(t,e,n){var r=n[n.length-1];P(void 0!==e.getId(),26);var o=r["featureType"],i=r["featurePrefix"],a=r["featureNS"],s=cT(i,o);t.setAttribute("typeName",s),t.setAttributeNS(ZC,"xmlns:"+i,a);var u=e.getId();void 0!==u&&lT(t,u,n)}function pT(t,e,n){var r=n[n.length-1];P(void 0!==e.getId(),27);var o=r["version"],i=r["featureType"],a=r["featurePrefix"],s=r["featureNS"],u=cT(a,i),l=e.getGeometryName();t.setAttribute("typeName",u),t.setAttributeNS(ZC,"xmlns:"+a,s);var c=e.getId();if(void 0!==c){for(var h=e.getKeys(),p=[],f=0,d=h.length;f<d;f++){var g=e.get(h[f]);if(void 0!==g){var y=h[f];g&&"function"===typeof g.getSimplifiedGeometry&&(y=l),p.push({name:y,value:g})}}zm({version:o,gmlVersion:r["gmlVersion"],node:t,hasZ:r["hasZ"],srsName:r["srsName"]},XC,Gm("Property"),p,n),lT(t,c,n)}}function fT(t,e,n){var r=n[n.length-1],o=r["version"],i=KC[o],a=Sm(i,"Name"),s=r["gmlVersion"];if(t.appendChild(a),yO(a,e.name),void 0!==e.value&&null!==e.value){var u=Sm(i,"Value");t.appendChild(u),e.value&&"function"===typeof e.value.getSimplifiedGeometry?2===s?bO.prototype.writeGeometryElement(u,e.value,n):3===s?CO.prototype.writeGeometryElement(u,e.value,n):Qx.prototype.writeGeometryElement(u,e.value,n):yO(u,e.value)}}function dT(t,e,n){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&yO(t,e.value)}var gT={"http://www.opengis.net/wfs":{Query:jm(yT)},"http://www.opengis.net/wfs/2.0":{Query:jm(yT)},"http://www.opengis.net/ogc":{During:jm(wT),And:jm(ET),Or:jm(ET),Not:jm(ST),BBOX:jm(_T),Contains:jm(OT),Intersects:jm(OT),Within:jm(OT),DWithin:jm(bT),PropertyIsEqualTo:jm(xT),PropertyIsNotEqualTo:jm(xT),PropertyIsLessThan:jm(xT),PropertyIsLessThanOrEqualTo:jm(xT),PropertyIsGreaterThan:jm(xT),PropertyIsGreaterThanOrEqualTo:jm(xT),PropertyIsNull:jm(CT),PropertyIsBetween:jm(TT),PropertyIsLike:jm(RT)},"http://www.opengis.net/fes/2.0":{During:jm(wT),And:jm(ET),Or:jm(ET),Not:jm(ST),BBOX:jm(_T),Contains:jm(OT),Disjoint:jm(OT),Intersects:jm(OT),ResourceId:jm(mT),Within:jm(OT),DWithin:jm(bT),PropertyIsEqualTo:jm(xT),PropertyIsNotEqualTo:jm(xT),PropertyIsLessThan:jm(xT),PropertyIsLessThanOrEqualTo:jm(xT),PropertyIsGreaterThan:jm(xT),PropertyIsGreaterThanOrEqualTo:jm(xT),PropertyIsNull:jm(CT),PropertyIsBetween:jm(TT),PropertyIsLike:jm(RT)}};function yT(t,e,n){var r,o,i=n[n.length-1],a=i["version"],s=i["featurePrefix"],u=i["featureNS"],l=i["propertyNames"],c=i["srsName"];r=s?cT(s,e):e,o="2.0.0"===a?"typeNames":"typeName",t.setAttribute(o,r),c&&t.setAttribute("srsName",c),u&&t.setAttributeNS(ZC,"xmlns:"+s,u);var h=Object(ae["a"])({},i);h.node=t,zm(h,zC,Gm("PropertyName"),l,n);var p=i["filter"];if(p){var f=Sm(AT(a),"Filter");t.appendChild(f),vT(f,p,n)}}function vT(t,e,n){var r=n[n.length-1],o={node:t};Object(ae["a"])(o,{context:r}),zm(o,gT,Gm(e.getTagName()),[e],n)}function _T(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];r["srsName"]=e.srsName;var a=$C[i];LT(i,t,e.geometryName),a.prototype.writeGeometryElement(t,e.extent,n)}function mT(t,e,n){t.setAttribute("rid",e.rid)}function OT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];r["srsName"]=e.srsName;var a=$C[i];LT(i,t,e.geometryName),a.prototype.writeGeometryElement(t,e.geometry,n)}function bT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];OT(t,e,n);var a=Sm(AT(i),"Distance");yO(a,e.distance.toString()),"2.0.0"===i?a.setAttribute("uom",e.unit):a.setAttribute("units",e.unit),t.appendChild(a)}function wT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];PT(qC[i],"ValueReference",t,e.propertyName);var a=Sm(Qm,"TimePeriod");t.appendChild(a);var s=Sm(Qm,"begin");a.appendChild(s),MT(s,e.begin);var u=Sm(Qm,"end");a.appendChild(u),MT(u,e.end)}function ET(t,e,n){var r=n[n.length-1],o=r["context"],i={node:t};Object(ae["a"])(i,{context:o});for(var a=e.conditions,s=0,u=a.length;s<u;++s){var l=a[s];zm(i,gT,Gm(l.getTagName()),[l],n)}}function ST(t,e,n){var r=n[n.length-1],o=r["context"],i={node:t};Object(ae["a"])(i,{context:o});var a=e.condition;zm(i,gT,Gm(a.getTagName()),[a],n)}function xT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),LT(i,t,e.propertyName),IT(i,t,""+e.expression)}function CT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];LT(i,t,e.propertyName)}function TT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"],a=AT(i);LT(i,t,e.propertyName);var s=Sm(a,"LowerBoundary");t.appendChild(s),IT(i,s,""+e.lowerBoundary);var u=Sm(a,"UpperBoundary");t.appendChild(u),IT(i,u,""+e.upperBoundary)}function RT(t,e,n){var r=n[n.length-1],o=r["context"],i=o["version"];t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),LT(i,t,e.propertyName),IT(i,t,""+e.pattern)}function PT(t,e,n,r){var o=Sm(t,e);yO(o,r),n.appendChild(o)}function IT(t,e,n){PT(AT(t),"Literal",e,n)}function LT(t,e,n){"2.0.0"===t?PT(qC[t],"ValueReference",e,n):PT(HC[t],"PropertyName",e,n)}function MT(t,e){var n=Sm(Qm,"TimeInstant");t.appendChild(n);var r=Sm(Qm,"timePosition");n.appendChild(r),yO(r,e)}function NT(t,e,n){var r=n[n.length-1],o=Object(ae["a"])({},r);o.node=t,zm(o,gT,Gm("Query"),e,n)}function AT(t){var e;return e="2.0.0"===t?qC[t]:HC[t],e}var jT=tT,FT=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),GT={POINT:hi,LINESTRING:Gg,POLYGON:Mi,MULTIPOINT:Wg,MULTILINESTRING:$g,MULTIPOLYGON:iy},DT="EMPTY",kT="Z",BT="M",YT="ZM",UT={START:0,TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6},VT={};for(var zT in nr)VT[zT]=nr[zT].toUpperCase();var XT=function(){function t(t){this.wkt=t,this.index_=-1}return t.prototype.isAlpha_=function(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"},t.prototype.isNumeric_=function(t,e){var n=void 0!==e&&e;return t>="0"&&t<="9"||"."==t&&!n},t.prototype.isWhiteSpace_=function(t){return" "==t||"\t"==t||"\r"==t||"\n"==t},t.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)},t.prototype.nextToken=function(){var t,e=this.nextChar_(),n=this.index_,r=e;if("("==e)t=UT.LEFT_PAREN;else if(","==e)t=UT.COMMA;else if(")"==e)t=UT.RIGHT_PAREN;else if(this.isNumeric_(e)||"-"==e)t=UT.NUMBER,r=this.readNumber_();else if(this.isAlpha_(e))t=UT.TEXT,r=this.readText_();else{if(this.isWhiteSpace_(e))return this.nextToken();if(""!==e)throw new Error("Unexpected character: "+e);t=UT.EOF}return{position:n,value:r,type:t}},t.prototype.readNumber_=function(){var t,e=this.index_,n=!1,r=!1;do{"."==t?n=!0:"e"!=t&&"E"!=t||(r=!0),t=this.nextChar_()}while(this.isNumeric_(t,n)||!r&&("e"==t||"E"==t)||r&&("-"==t||"+"==t));return parseFloat(this.wkt.substring(e,this.index_--))},t.prototype.readText_=function(){var t,e=this.index_;do{t=this.nextChar_()}while(this.isAlpha_(t));return this.wkt.substring(e,this.index_--).toUpperCase()},t}(),WT=function(){function t(t){this.lexer_=t,this.token_={position:0,type:UT.START},this.layout_=wo.XY}return t.prototype.consume_=function(){this.token_=this.lexer_.nextToken()},t.prototype.isTokenType=function(t){return this.token_.type==t},t.prototype.match=function(t){var e=this.isTokenType(t);return e&&this.consume_(),e},t.prototype.parse=function(){return this.consume_(),this.parseGeometry_()},t.prototype.parseGeometryLayout_=function(){var t=wo.XY,e=this.token_;if(this.isTokenType(UT.TEXT)){var n=e.value;n===kT?t=wo.XYZ:n===BT?t=wo.XYM:n===YT&&(t=wo.XYZM),t!==wo.XY&&this.consume_()}return t},t.prototype.parseGeometryCollectionText_=function(){if(this.match(UT.LEFT_PAREN)){var t=[];do{t.push(this.parseGeometry_())}while(this.match(UT.COMMA));if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePointText_=function(){if(this.match(UT.LEFT_PAREN)){var t=this.parsePoint_();if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseLineStringText_=function(){if(this.match(UT.LEFT_PAREN)){var t=this.parsePointList_();if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePolygonText_=function(){if(this.match(UT.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPointText_=function(){if(this.match(UT.LEFT_PAREN)){var t=void 0;if(t=this.token_.type==UT.LEFT_PAREN?this.parsePointTextList_():this.parsePointList_(),this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiLineStringText_=function(){if(this.match(UT.LEFT_PAREN)){var t=this.parseLineStringTextList_();if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parseMultiPolygonText_=function(){if(this.match(UT.LEFT_PAREN)){var t=this.parsePolygonTextList_();if(this.match(UT.RIGHT_PAREN))return t}throw new Error(this.formatErrorMessage_())},t.prototype.parsePoint_=function(){for(var t=[],e=this.layout_.length,n=0;n<e;++n){var r=this.token_;if(!this.match(UT.NUMBER))break;t.push(r.value)}if(t.length==e)return t;throw new Error(this.formatErrorMessage_())},t.prototype.parsePointList_=function(){var t=[this.parsePoint_()];while(this.match(UT.COMMA))t.push(this.parsePoint_());return t},t.prototype.parsePointTextList_=function(){var t=[this.parsePointText_()];while(this.match(UT.COMMA))t.push(this.parsePointText_());return t},t.prototype.parseLineStringTextList_=function(){var t=[this.parseLineStringText_()];while(this.match(UT.COMMA))t.push(this.parseLineStringText_());return t},t.prototype.parsePolygonTextList_=function(){var t=[this.parsePolygonText_()];while(this.match(UT.COMMA))t.push(this.parsePolygonText_());return t},t.prototype.isEmptyGeometry_=function(){var t=this.isTokenType(UT.TEXT)&&this.token_.value==DT;return t&&this.consume_(),t},t.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"},t.prototype.parseGeometry_=function(){var t=this.token_;if(this.match(UT.TEXT)){var e=t.value;this.layout_=this.parseGeometryLayout_();var n=this.isEmptyGeometry_();if("GEOMETRYCOLLECTION"==e){if(n)return new T_([]);var r=this.parseGeometryCollectionText_();return new T_(r)}var o=GT[e];if(!o)throw new Error("Invalid geometry type: "+e);var i=void 0;if(n)i="POINT"==e?[NaN,NaN]:[];else switch(e){case"POINT":i=this.parsePointText_();break;case"LINESTRING":i=this.parseLineStringText_();break;case"POLYGON":i=this.parsePolygonText_();break;case"MULTIPOINT":i=this.parseMultiPointText_();break;case"MULTILINESTRING":i=this.parseMultiLineStringText_();break;case"MULTIPOLYGON":i=this.parseMultiPolygonText_();break;default:break}return new o(i,this.layout_)}throw new Error(this.formatErrorMessage_())},t}(),ZT=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.splitCollection_=void 0!==r.splitCollection&&r.splitCollection,n}return FT(e,t),e.prototype.parse_=function(t){var e=new XT(t),n=new WT(e);return n.parse()},e.prototype.readFeatureFromText=function(t,e){var n=this.readGeometryFromText(t,e),r=new Xs;return r.setGeometry(n),r},e.prototype.readFeaturesFromText=function(t,e){var n=[],r=this.readGeometryFromText(t,e);n=this.splitCollection_&&r.getType()==nr.GEOMETRY_COLLECTION?r.getGeometriesArray():[r];for(var o=[],i=0,a=n.length;i<a;++i){var s=new Xs;s.setGeometry(n[i]),o.push(s)}return o},e.prototype.readGeometryFromText=function(t,e){var n=this.parse_(t);return I_(n,!1,e)},e.prototype.writeFeatureText=function(t,e){var n=t.getGeometry();return n?this.writeGeometryText(n,e):""},e.prototype.writeFeaturesText=function(t,e){if(1==t.length)return this.writeFeatureText(t[0],e);for(var n=[],r=0,o=t.length;r<o;++r)n.push(t[r].getGeometry());var i=new T_(n);return this.writeGeometryText(i,e)},e.prototype.writeGeometryText=function(t,e){return rR(I_(t,!0,e))},e}(wb);function HT(t){var e=t.getCoordinates();return 0===e.length?"":e.join(" ")}function KT(t){for(var e=[],n=t.getPoints(),r=0,o=n.length;r<o;++r)e.push("("+HT(n[r])+")");return e.join(",")}function qT(t){for(var e=[],n=t.getGeometries(),r=0,o=n.length;r<o;++r)e.push(rR(n[r]));return e.join(",")}function JT(t){for(var e=t.getCoordinates(),n=[],r=0,o=e.length;r<o;++r)n.push(e[r].join(" "));return n.join(",")}function $T(t){for(var e=[],n=t.getLineStrings(),r=0,o=n.length;r<o;++r)e.push("("+JT(n[r])+")");return e.join(",")}function QT(t){for(var e=[],n=t.getLinearRings(),r=0,o=n.length;r<o;++r)e.push("("+JT(n[r])+")");return e.join(",")}function tR(t){for(var e=[],n=t.getPolygons(),r=0,o=n.length;r<o;++r)e.push("("+QT(n[r])+")");return e.join(",")}function eR(t){var e=t.getLayout(),n="";return e!==wo.XYZ&&e!==wo.XYZM||(n+=kT),e!==wo.XYM&&e!==wo.XYZM||(n+=BT),n}var nR={Point:HT,LineString:JT,Polygon:QT,MultiPoint:KT,MultiLineString:$T,MultiPolygon:tR,GeometryCollection:qT};function rR(t){var e=t.getType(),n=nR[e],r=n(t);if(e=e.toUpperCase(),"function"===typeof t.getFlatCoordinates){var o=eR(t);o.length>0&&(e+=" "+o)}return 0===r.length?e+" "+DT:e+"("+r+")"}var oR=ZT,iR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),aR=[null,"http://www.opengis.net/wms"],sR=Bm(aR,{Service:Am(PR),Capability:Am(RR)}),uR=Bm(aR,{Request:Am(DR),Exception:Am(NR),Layer:Am(AR)}),lR=function(t){function e(){var e=t.call(this)||this;return e.version=void 0,e}return iR(e,t),e.prototype.readFromNode=function(t){this.version=t.getAttribute("version").trim();var e=Um({version:this.version},sR,t,[]);return e||null},e}(YS),cR=Bm(aR,{Name:Am(cO),Title:Am(cO),Abstract:Am(cO),KeywordList:Am(WR),OnlineResource:Am(VS),ContactInformation:Am(IR),Fees:Am(cO),AccessConstraints:Am(cO),LayerLimit:Am(uO),MaxWidth:Am(uO),MaxHeight:Am(uO)}),hR=Bm(aR,{ContactPersonPrimary:Am(LR),ContactPosition:Am(cO),ContactAddress:Am(MR),ContactVoiceTelephone:Am(cO),ContactFacsimileTelephone:Am(cO),ContactElectronicMailAddress:Am(cO)}),pR=Bm(aR,{ContactPerson:Am(cO),ContactOrganization:Am(cO)}),fR=Bm(aR,{AddressType:Am(cO),Address:Am(cO),City:Am(cO),StateOrProvince:Am(cO),PostCode:Am(cO),Country:Am(cO)}),dR=Bm(aR,{Format:Lm(cO)}),gR=Bm(aR,{Name:Am(cO),Title:Am(cO),Abstract:Am(cO),KeywordList:Am(WR),CRS:Nm(cO),EX_GeographicBoundingBox:Am(TR),BoundingBox:Nm(CR),Dimension:Nm(FR),Attribution:Am(xR),AuthorityURL:Nm(VR),Identifier:Nm(cO),MetadataURL:Nm(zR),DataURL:Nm(GR),FeatureListURL:Nm(GR),Style:Nm(XR),MinScaleDenominator:Am(aO),MaxScaleDenominator:Am(aO),Layer:Nm(jR)}),yR=Bm(aR,{Title:Am(cO),OnlineResource:Am(VS),LogoURL:Am(UR)}),vR=Bm(aR,{westBoundLongitude:Am(aO),eastBoundLongitude:Am(aO),southBoundLatitude:Am(aO),northBoundLatitude:Am(aO)}),_R=Bm(aR,{GetCapabilities:Am(YR),GetMap:Am(YR),GetFeatureInfo:Am(YR)}),mR=Bm(aR,{Format:Nm(cO),DCPType:Nm(kR)}),OR=Bm(aR,{HTTP:Am(BR)}),bR=Bm(aR,{Get:Am(GR),Post:Am(GR)}),wR=Bm(aR,{Name:Am(cO),Title:Am(cO),Abstract:Am(cO),LegendURL:Nm(UR),StyleSheetURL:Am(GR),StyleURL:Am(GR)}),ER=Bm(aR,{Format:Am(cO),OnlineResource:Am(VS)}),SR=Bm(aR,{Keyword:Lm(cO)});function xR(t,e){return Um({},yR,t,e)}function CR(t,e){var n=[sO(t.getAttribute("minx")),sO(t.getAttribute("miny")),sO(t.getAttribute("maxx")),sO(t.getAttribute("maxy"))],r=[sO(t.getAttribute("resx")),sO(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:n,res:r}}function TR(t,e){var n=Um({},vR,t,e);if(n){var r=n["westBoundLongitude"],o=n["southBoundLatitude"],i=n["eastBoundLongitude"],a=n["northBoundLatitude"];if(void 0!==r&&void 0!==o&&void 0!==i&&void 0!==a)return[r,o,i,a]}}function RR(t,e){return Um({},uR,t,e)}function PR(t,e){return Um({},cR,t,e)}function IR(t,e){return Um({},hR,t,e)}function LR(t,e){return Um({},pR,t,e)}function MR(t,e){return Um({},fR,t,e)}function NR(t,e){return Um([],dR,t,e)}function AR(t,e){var n=Um({},gR,t,e);return void 0===n["Layer"]?Object.assign(n,jR(t,e)):n}function jR(t,e){var n=e[e.length-1],r=Um({},gR,t,e);if(r){var o=oO(t.getAttribute("queryable"));void 0===o&&(o=n["queryable"]),r["queryable"]=void 0!==o&&o;var i=lO(t.getAttribute("cascaded"));void 0===i&&(i=n["cascaded"]),r["cascaded"]=i;var a=oO(t.getAttribute("opaque"));void 0===a&&(a=n["opaque"]),r["opaque"]=void 0!==a&&a;var s=oO(t.getAttribute("noSubsets"));void 0===s&&(s=n["noSubsets"]),r["noSubsets"]=void 0!==s&&s;var u=sO(t.getAttribute("fixedWidth"));u||(u=n["fixedWidth"]),r["fixedWidth"]=u;var l=sO(t.getAttribute("fixedHeight"));l||(l=n["fixedHeight"]),r["fixedHeight"]=l;var c=["Style","CRS","AuthorityURL"];c.forEach((function(t){if(t in n){var e=r[t]||[];r[t]=e.concat(n[t])}}));var h=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];return h.forEach((function(t){if(!(t in r)){var e=n[t];r[t]=e}})),r}}function FR(t,e){var n={name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:oO(t.getAttribute("multipleValues")),nearestValue:oO(t.getAttribute("nearestValue")),current:oO(t.getAttribute("current")),values:cO(t)};return n}function GR(t,e){return Um({},ER,t,e)}function DR(t,e){return Um({},_R,t,e)}function kR(t,e){return Um({},OR,t,e)}function BR(t,e){return Um({},bR,t,e)}function YR(t,e){return Um({},mR,t,e)}function UR(t,e){var n=GR(t,e);if(n){var r=[lO(t.getAttribute("width")),lO(t.getAttribute("height"))];return n["size"]=r,n}}function VR(t,e){var n=GR(t,e);if(n)return n["name"]=t.getAttribute("name"),n}function zR(t,e){var n=GR(t,e);if(n)return n["type"]=t.getAttribute("type"),n}function XR(t,e){return Um({},wR,t,e)}function WR(t,e){return Um([],SR,t,e)}var ZR=lR,HR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),KR="_feature",qR="_layer",JR=function(t){function e(e){var n=t.call(this)||this,r=e||{};return n.featureNS_="http://mapserver.gis.umn.edu/mapserver",n.gmlFormat_=new bO,n.layers_=r.layers?r.layers:null,n}return HR(e,t),e.prototype.getLayers=function(){return this.layers_},e.prototype.setLayers=function(t){this.layers_=t},e.prototype.readFeatures_=function(t,e){t.setAttribute("namespaceURI",this.featureNS_);var n=t.localName,r=[];if(0===t.childNodes.length)return r;if("msGMLOutput"==n)for(var o=0,i=t.childNodes.length;o<i;o++){var a=t.childNodes[o];if(a.nodeType===Node.ELEMENT_NODE){var s=a,u=e[0],l=qR,c=s.localName.replace(l,"");if(!this.layers_||Object(ao["f"])(this.layers_,c)){var h=c+KR;u["featureType"]=h,u["featureNS"]=this.featureNS_;var p={};p[h]=Lm(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var f=Bm([u["featureNS"],null],p);s.setAttribute("namespaceURI",this.featureNS_);var d=Um([],f,s,e,this.gmlFormat_);d&&Object(ao["c"])(r,d)}}}if("FeatureCollection"==n){var g=Um([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,[{}],this.gmlFormat_);g&&(r=g)}return r},e.prototype.readFeaturesFromNode=function(t,e){var n={};return e&&Object(ae["a"])(n,this.getReadOptions(t,e)),this.readFeatures_(t,[n])},e}(Jm),$R=JR,QR=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),tP=[null,"http://www.opengis.net/wmts/1.0"],eP=[null,"http://www.opengis.net/ows/1.1"],nP=Bm(tP,{Contents:Am(dP)}),rP=function(t){function e(){var e=t.call(this)||this;return e.owsParser_=new bx,e}return QR(e,t),e.prototype.readFromNode=function(t){var e=t.getAttribute("version");e&&(e=e.trim());var n=this.owsParser_.readFromNode(t);return n?(n["version"]=e,n=Um(n,nP,t,[]),n||null):null},e}(YS),oP=Bm(tP,{Layer:Nm(gP),TileMatrixSet:Nm(yP)}),iP=Bm(tP,{Style:Nm(vP),Format:Nm(cO),TileMatrixSetLink:Nm(_P),Dimension:Nm(mP),ResourceURL:Nm(OP)},Bm(eP,{Title:Am(cO),Abstract:Am(cO),WGS84BoundingBox:Am(bP),Identifier:Am(cO)})),aP=Bm(tP,{LegendURL:Nm(wP)},Bm(eP,{Title:Am(cO),Identifier:Am(cO)})),sP=Bm(tP,{TileMatrixSet:Am(cO),TileMatrixSetLimits:Am(xP)}),uP=Bm(tP,{TileMatrixLimits:Lm(CP)}),lP=Bm(tP,{TileMatrix:Am(cO),MinTileRow:Am(uO),MaxTileRow:Am(uO),MinTileCol:Am(uO),MaxTileCol:Am(uO)}),cP=Bm(tP,{Default:Am(cO),Value:Nm(cO)},Bm(eP,{Identifier:Am(cO)})),hP=Bm(eP,{LowerCorner:Lm(EP),UpperCorner:Lm(EP)}),pP=Bm(tP,{WellKnownScaleSet:Am(cO),TileMatrix:Nm(SP)},Bm(eP,{SupportedCRS:Am(cO),Identifier:Am(cO),BoundingBox:Am(bP)})),fP=Bm(tP,{TopLeftCorner:Am(EP),ScaleDenominator:Am(aO),TileWidth:Am(uO),TileHeight:Am(uO),MatrixWidth:Am(uO),MatrixHeight:Am(uO)},Bm(eP,{Identifier:Am(cO)}));function dP(t,e){return Um({},oP,t,e)}function gP(t,e){return Um({},iP,t,e)}function yP(t,e){return Um({},pP,t,e)}function vP(t,e){var n=Um({},aP,t,e);if(n){var r="true"===t.getAttribute("isDefault");return n["isDefault"]=r,n}}function _P(t,e){return Um({},sP,t,e)}function mP(t,e){return Um({},cP,t,e)}function OP(t,e){var n=t.getAttribute("format"),r=t.getAttribute("template"),o=t.getAttribute("resourceType"),i={};return n&&(i["format"]=n),r&&(i["template"]=r),o&&(i["resourceType"]=o),i}function bP(t,e){var n=Um([],hP,t,e);if(2==n.length)return V(n)}function wP(t,e){var n={};return n["format"]=t.getAttribute("format"),n["href"]=VS(t),n}function EP(t,e){var n=cO(t).split(/\s+/);if(n&&2==n.length){var r=+n[0],o=+n[1];if(!isNaN(r)&&!isNaN(o))return[r,o]}}function SP(t,e){return Um({},fP,t,e)}function xP(t,e){return Um([],uP,t,e)}function CP(t,e){return Um({},lP,t,e)}var TP=rP;function RP(t){RP.installed||(RP.installed=!0,t.use(a),t.use(u),t.use(l),t.use(c),t.use(h),t.use(p),t.use(f),t.use(d),t.provide("ol-feature",Xs),t.provide("ol-geom",g),t.provide("ol-animations",o),t.provide("ol-format",y),t.provide("ol-loadingstrategy",s),t.provide("ol-selectconditions",i),t.provide("ol-extent",r))}e["default"]=RP},fb6a:function(t,e,n){"use strict";var r=n("23e7"),o=n("861d"),i=n("e8b5"),a=n("23cb"),s=n("50c4"),u=n("fc6a"),l=n("8418"),c=n("b622"),h=n("1dde"),p=h("slice"),f=c("species"),d=[].slice,g=Math.max;r({target:"Array",proto:!0,forced:!p},{slice:function(t,e){var n,r,c,h=u(this),p=s(h.length),y=a(t,p),v=a(void 0===e?p:e,p);if(i(h)&&(n=h.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[f],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return d.call(h,y,v);for(r=new(void 0===n?Array:n)(g(v-y,0)),c=0;y<v;y++,c++)y in h&&l(r,c,h[y]);return r.length=c,r}})},fc6a:function(t,e,n){var r=n("44ad"),o=n("1d80");t.exports=function(t){return r(o(t))}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(t,e,n){var r=n("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=vue3-openlayers.umd.min.js.map